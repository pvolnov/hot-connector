var ui=Object.defineProperty;var li=(pe,ge,Se)=>ge in pe?ui(pe,ge,{enumerable:!0,configurable:!0,writable:!0,value:Se}):pe[ge]=Se;var ci=(pe,ge,Se)=>li(pe,typeof ge!="symbol"?ge+"":ge,Se);(function(){"use strict";function _mergeNamespaces(pe,ge){for(var Se=0;Se<ge.length;Se++){const Ne=ge[Se];if(typeof Ne!="string"&&!Array.isArray(Ne)){for(const Ze in Ne)if(Ze!=="default"&&!(Ze in pe)){const Je=Object.getOwnPropertyDescriptor(Ne,Ze);Je&&Object.defineProperty(pe,Ze,Je.get?Je:{enumerable:!0,get:()=>Ne[Ze]})}}}return Object.freeze(Object.defineProperty(pe,Symbol.toStringTag,{value:"Module"}))}var buffer$4={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$5=0,len=code.length;i$5<len;++i$5)lookup[i$5]=code[i$5],revLookup[code.charCodeAt(i$5)]=i$5;revLookup[45]=62,revLookup[95]=63;function getLens(pe){var ge=pe.length;if(ge%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Se=pe.indexOf("=");Se===-1&&(Se=ge);var Ne=Se===ge?0:4-Se%4;return[Se,Ne]}function byteLength(pe){var ge=getLens(pe),Se=ge[0],Ne=ge[1];return(Se+Ne)*3/4-Ne}function _byteLength(pe,ge,Se){return(ge+Se)*3/4-Se}function toByteArray(pe){var ge,Se=getLens(pe),Ne=Se[0],Ze=Se[1],Je=new Arr(_byteLength(pe,Ne,Ze)),Xe=0,vt=Ze>0?Ne-4:Ne,gt;for(gt=0;gt<vt;gt+=4)ge=revLookup[pe.charCodeAt(gt)]<<18|revLookup[pe.charCodeAt(gt+1)]<<12|revLookup[pe.charCodeAt(gt+2)]<<6|revLookup[pe.charCodeAt(gt+3)],Je[Xe++]=ge>>16&255,Je[Xe++]=ge>>8&255,Je[Xe++]=ge&255;return Ze===2&&(ge=revLookup[pe.charCodeAt(gt)]<<2|revLookup[pe.charCodeAt(gt+1)]>>4,Je[Xe++]=ge&255),Ze===1&&(ge=revLookup[pe.charCodeAt(gt)]<<10|revLookup[pe.charCodeAt(gt+1)]<<4|revLookup[pe.charCodeAt(gt+2)]>>2,Je[Xe++]=ge>>8&255,Je[Xe++]=ge&255),Je}function tripletToBase64(pe){return lookup[pe>>18&63]+lookup[pe>>12&63]+lookup[pe>>6&63]+lookup[pe&63]}function encodeChunk(pe,ge,Se){for(var Ne,Ze=[],Je=ge;Je<Se;Je+=3)Ne=(pe[Je]<<16&16711680)+(pe[Je+1]<<8&65280)+(pe[Je+2]&255),Ze.push(tripletToBase64(Ne));return Ze.join("")}function fromByteArray(pe){for(var ge,Se=pe.length,Ne=Se%3,Ze=[],Je=16383,Xe=0,vt=Se-Ne;Xe<vt;Xe+=Je)Ze.push(encodeChunk(pe,Xe,Xe+Je>vt?vt:Xe+Je));return Ne===1?(ge=pe[Se-1],Ze.push(lookup[ge>>2]+lookup[ge<<4&63]+"==")):Ne===2&&(ge=(pe[Se-2]<<8)+pe[Se-1],Ze.push(lookup[ge>>10]+lookup[ge>>4&63]+lookup[ge<<2&63]+"=")),Ze.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(pe,ge,Se,Ne,Ze){var Je,Xe,vt=Ze*8-Ne-1,gt=(1<<vt)-1,kt=gt>>1,mt=-7,xt=Se?Ze-1:0,fr=Se?-1:1,ar=pe[ge+xt];for(xt+=fr,Je=ar&(1<<-mt)-1,ar>>=-mt,mt+=vt;mt>0;Je=Je*256+pe[ge+xt],xt+=fr,mt-=8);for(Xe=Je&(1<<-mt)-1,Je>>=-mt,mt+=Ne;mt>0;Xe=Xe*256+pe[ge+xt],xt+=fr,mt-=8);if(Je===0)Je=1-kt;else{if(Je===gt)return Xe?NaN:(ar?-1:1)*(1/0);Xe=Xe+Math.pow(2,Ne),Je=Je-kt}return(ar?-1:1)*Xe*Math.pow(2,Je-Ne)},ieee754.write=function(pe,ge,Se,Ne,Ze,Je){var Xe,vt,gt,kt=Je*8-Ze-1,mt=(1<<kt)-1,xt=mt>>1,fr=Ze===23?Math.pow(2,-24)-Math.pow(2,-77):0,ar=Ne?0:Je-1,gr=Ne?1:-1,wr=ge<0||ge===0&&1/ge<0?1:0;for(ge=Math.abs(ge),isNaN(ge)||ge===1/0?(vt=isNaN(ge)?1:0,Xe=mt):(Xe=Math.floor(Math.log(ge)/Math.LN2),ge*(gt=Math.pow(2,-Xe))<1&&(Xe--,gt*=2),Xe+xt>=1?ge+=fr/gt:ge+=fr*Math.pow(2,1-xt),ge*gt>=2&&(Xe++,gt/=2),Xe+xt>=mt?(vt=0,Xe=mt):Xe+xt>=1?(vt=(ge*gt-1)*Math.pow(2,Ze),Xe=Xe+xt):(vt=ge*Math.pow(2,xt-1)*Math.pow(2,Ze),Xe=0));Ze>=8;pe[Se+ar]=vt&255,ar+=gr,vt/=256,Ze-=8);for(Xe=Xe<<Ze|vt,kt+=Ze;kt>0;pe[Se+ar]=Xe&255,ar+=gr,Xe/=256,kt-=8);pe[Se+ar-gr]|=wr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(pe){const ge=base64Js,Se=ieee754,Ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;pe.Buffer=mt,pe.SlowBuffer=kr,pe.INSPECT_MAX_BYTES=50;const Ze=2147483647;pe.kMaxLength=Ze;const{Uint8Array:Je,ArrayBuffer:Xe,SharedArrayBuffer:vt}=globalThis;mt.TYPED_ARRAY_SUPPORT=gt(),!mt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gt(){try{const Cr=new Je(1),$r={foo:function(){return 42}};return Object.setPrototypeOf($r,Je.prototype),Object.setPrototypeOf(Cr,$r),Cr.foo()===42}catch{return!1}}Object.defineProperty(mt.prototype,"parent",{enumerable:!0,get:function(){if(mt.isBuffer(this))return this.buffer}}),Object.defineProperty(mt.prototype,"offset",{enumerable:!0,get:function(){if(mt.isBuffer(this))return this.byteOffset}});function kt(Cr){if(Cr>Ze)throw new RangeError('The value "'+Cr+'" is invalid for option "size"');const $r=new Je(Cr);return Object.setPrototypeOf($r,mt.prototype),$r}function mt(Cr,$r,xr){if(typeof Cr=="number"){if(typeof $r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return gr(Cr)}return xt(Cr,$r,xr)}mt.poolSize=8192;function xt(Cr,$r,xr){if(typeof Cr=="string")return wr(Cr,$r);if(Xe.isView(Cr))return _r(Cr);if(Cr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Cr);if(yn(Cr,Xe)||Cr&&yn(Cr.buffer,Xe)||typeof vt<"u"&&(yn(Cr,vt)||Cr&&yn(Cr.buffer,vt)))return Sr(Cr,$r,xr);if(typeof Cr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Lr=Cr.valueOf&&Cr.valueOf();if(Lr!=null&&Lr!==Cr)return mt.from(Lr,$r,xr);const Jr=Or(Cr);if(Jr)return Jr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Cr[Symbol.toPrimitive]=="function")return mt.from(Cr[Symbol.toPrimitive]("string"),$r,xr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Cr)}mt.from=function(Cr,$r,xr){return xt(Cr,$r,xr)},Object.setPrototypeOf(mt.prototype,Je.prototype),Object.setPrototypeOf(mt,Je);function fr(Cr){if(typeof Cr!="number")throw new TypeError('"size" argument must be of type number');if(Cr<0)throw new RangeError('The value "'+Cr+'" is invalid for option "size"')}function ar(Cr,$r,xr){return fr(Cr),Cr<=0?kt(Cr):$r!==void 0?typeof xr=="string"?kt(Cr).fill($r,xr):kt(Cr).fill($r):kt(Cr)}mt.alloc=function(Cr,$r,xr){return ar(Cr,$r,xr)};function gr(Cr){return fr(Cr),kt(Cr<0?0:Pr(Cr)|0)}mt.allocUnsafe=function(Cr){return gr(Cr)},mt.allocUnsafeSlow=function(Cr){return gr(Cr)};function wr(Cr,$r){if((typeof $r!="string"||$r==="")&&($r="utf8"),!mt.isEncoding($r))throw new TypeError("Unknown encoding: "+$r);const xr=Ur(Cr,$r)|0;let Lr=kt(xr);const Jr=Lr.write(Cr,$r);return Jr!==xr&&(Lr=Lr.slice(0,Jr)),Lr}function Er(Cr){const $r=Cr.length<0?0:Pr(Cr.length)|0,xr=kt($r);for(let Lr=0;Lr<$r;Lr+=1)xr[Lr]=Cr[Lr]&255;return xr}function _r(Cr){if(yn(Cr,Je)){const $r=new Je(Cr);return Sr($r.buffer,$r.byteOffset,$r.byteLength)}return Er(Cr)}function Sr(Cr,$r,xr){if($r<0||Cr.byteLength<$r)throw new RangeError('"offset" is outside of buffer bounds');if(Cr.byteLength<$r+(xr||0))throw new RangeError('"length" is outside of buffer bounds');let Lr;return $r===void 0&&xr===void 0?Lr=new Je(Cr):xr===void 0?Lr=new Je(Cr,$r):Lr=new Je(Cr,$r,xr),Object.setPrototypeOf(Lr,mt.prototype),Lr}function Or(Cr){if(mt.isBuffer(Cr)){const $r=Pr(Cr.length)|0,xr=kt($r);return xr.length===0||Cr.copy(xr,0,0,$r),xr}if(Cr.length!==void 0)return typeof Cr.length!="number"||gn(Cr.length)?kt(0):Er(Cr);if(Cr.type==="Buffer"&&Array.isArray(Cr.data))return Er(Cr.data)}function Pr(Cr){if(Cr>=Ze)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ze.toString(16)+" bytes");return Cr|0}function kr(Cr){return+Cr!=Cr&&(Cr=0),mt.alloc(+Cr)}mt.isBuffer=function($r){return $r!=null&&$r._isBuffer===!0&&$r!==mt.prototype},mt.compare=function($r,xr){if(yn($r,Je)&&($r=mt.from($r,$r.offset,$r.byteLength)),yn(xr,Je)&&(xr=mt.from(xr,xr.offset,xr.byteLength)),!mt.isBuffer($r)||!mt.isBuffer(xr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($r===xr)return 0;let Lr=$r.length,Jr=xr.length;for(let Xr=0,Fr=Math.min(Lr,Jr);Xr<Fr;++Xr)if($r[Xr]!==xr[Xr]){Lr=$r[Xr],Jr=xr[Xr];break}return Lr<Jr?-1:Jr<Lr?1:0},mt.isEncoding=function($r){switch(String($r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},mt.concat=function($r,xr){if(!Array.isArray($r))throw new TypeError('"list" argument must be an Array of Buffers');if($r.length===0)return mt.alloc(0);let Lr;if(xr===void 0)for(xr=0,Lr=0;Lr<$r.length;++Lr)xr+=$r[Lr].length;const Jr=mt.allocUnsafe(xr);let Xr=0;for(Lr=0;Lr<$r.length;++Lr){let Fr=$r[Lr];if(yn(Fr,Je))Xr+Fr.length>Jr.length?(mt.isBuffer(Fr)||(Fr=mt.from(Fr)),Fr.copy(Jr,Xr)):Je.prototype.set.call(Jr,Fr,Xr);else if(mt.isBuffer(Fr))Fr.copy(Jr,Xr);else throw new TypeError('"list" argument must be an Array of Buffers');Xr+=Fr.length}return Jr};function Ur(Cr,$r){if(mt.isBuffer(Cr))return Cr.length;if(Xe.isView(Cr)||yn(Cr,Xe))return Cr.byteLength;if(typeof Cr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Cr);const xr=Cr.length,Lr=arguments.length>2&&arguments[2]===!0;if(!Lr&&xr===0)return 0;let Jr=!1;for(;;)switch($r){case"ascii":case"latin1":case"binary":return xr;case"utf8":case"utf-8":return dn(Cr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xr*2;case"hex":return xr>>>1;case"base64":return on(Cr).length;default:if(Jr)return Lr?-1:dn(Cr).length;$r=(""+$r).toLowerCase(),Jr=!0}}mt.byteLength=Ur;function Yr(Cr,$r,xr){let Lr=!1;if(($r===void 0||$r<0)&&($r=0),$r>this.length||((xr===void 0||xr>this.length)&&(xr=this.length),xr<=0)||(xr>>>=0,$r>>>=0,xr<=$r))return"";for(Cr||(Cr="utf8");;)switch(Cr){case"hex":return Ft(this,$r,xr);case"utf8":case"utf-8":return pr(this,$r,xr);case"ascii":return tr(this,$r,xr);case"latin1":case"binary":return ur(this,$r,xr);case"base64":return or(this,$r,xr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yr(this,$r,xr);default:if(Lr)throw new TypeError("Unknown encoding: "+Cr);Cr=(Cr+"").toLowerCase(),Lr=!0}}mt.prototype._isBuffer=!0;function jr(Cr,$r,xr){const Lr=Cr[$r];Cr[$r]=Cr[xr],Cr[xr]=Lr}mt.prototype.swap16=function(){const $r=this.length;if($r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let xr=0;xr<$r;xr+=2)jr(this,xr,xr+1);return this},mt.prototype.swap32=function(){const $r=this.length;if($r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let xr=0;xr<$r;xr+=4)jr(this,xr,xr+3),jr(this,xr+1,xr+2);return this},mt.prototype.swap64=function(){const $r=this.length;if($r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let xr=0;xr<$r;xr+=8)jr(this,xr,xr+7),jr(this,xr+1,xr+6),jr(this,xr+2,xr+5),jr(this,xr+3,xr+4);return this},mt.prototype.toString=function(){const $r=this.length;return $r===0?"":arguments.length===0?pr(this,0,$r):Yr.apply(this,arguments)},mt.prototype.toLocaleString=mt.prototype.toString,mt.prototype.equals=function($r){if(!mt.isBuffer($r))throw new TypeError("Argument must be a Buffer");return this===$r?!0:mt.compare(this,$r)===0},mt.prototype.inspect=function(){let $r="";const xr=pe.INSPECT_MAX_BYTES;return $r=this.toString("hex",0,xr).replace(/(.{2})/g,"$1 ").trim(),this.length>xr&&($r+=" ... "),"<Buffer "+$r+">"},Ne&&(mt.prototype[Ne]=mt.prototype.inspect),mt.prototype.compare=function($r,xr,Lr,Jr,Xr){if(yn($r,Je)&&($r=mt.from($r,$r.offset,$r.byteLength)),!mt.isBuffer($r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $r);if(xr===void 0&&(xr=0),Lr===void 0&&(Lr=$r?$r.length:0),Jr===void 0&&(Jr=0),Xr===void 0&&(Xr=this.length),xr<0||Lr>$r.length||Jr<0||Xr>this.length)throw new RangeError("out of range index");if(Jr>=Xr&&xr>=Lr)return 0;if(Jr>=Xr)return-1;if(xr>=Lr)return 1;if(xr>>>=0,Lr>>>=0,Jr>>>=0,Xr>>>=0,this===$r)return 0;let Fr=Xr-Jr,Qr=Lr-xr;const vn=Math.min(Fr,Qr),ln=this.slice(Jr,Xr),pn=$r.slice(xr,Lr);for(let sn=0;sn<vn;++sn)if(ln[sn]!==pn[sn]){Fr=ln[sn],Qr=pn[sn];break}return Fr<Qr?-1:Qr<Fr?1:0};function Dr(Cr,$r,xr,Lr,Jr){if(Cr.length===0)return-1;if(typeof xr=="string"?(Lr=xr,xr=0):xr>2147483647?xr=2147483647:xr<-2147483648&&(xr=-2147483648),xr=+xr,gn(xr)&&(xr=Jr?0:Cr.length-1),xr<0&&(xr=Cr.length+xr),xr>=Cr.length){if(Jr)return-1;xr=Cr.length-1}else if(xr<0)if(Jr)xr=0;else return-1;if(typeof $r=="string"&&($r=mt.from($r,Lr)),mt.isBuffer($r))return $r.length===0?-1:Vr(Cr,$r,xr,Lr,Jr);if(typeof $r=="number")return $r=$r&255,typeof Je.prototype.indexOf=="function"?Jr?Je.prototype.indexOf.call(Cr,$r,xr):Je.prototype.lastIndexOf.call(Cr,$r,xr):Vr(Cr,[$r],xr,Lr,Jr);throw new TypeError("val must be string, number or Buffer")}function Vr(Cr,$r,xr,Lr,Jr){let Xr=1,Fr=Cr.length,Qr=$r.length;if(Lr!==void 0&&(Lr=String(Lr).toLowerCase(),Lr==="ucs2"||Lr==="ucs-2"||Lr==="utf16le"||Lr==="utf-16le")){if(Cr.length<2||$r.length<2)return-1;Xr=2,Fr/=2,Qr/=2,xr/=2}function vn(pn,sn){return Xr===1?pn[sn]:pn.readUInt16BE(sn*Xr)}let ln;if(Jr){let pn=-1;for(ln=xr;ln<Fr;ln++)if(vn(Cr,ln)===vn($r,pn===-1?0:ln-pn)){if(pn===-1&&(pn=ln),ln-pn+1===Qr)return pn*Xr}else pn!==-1&&(ln-=ln-pn),pn=-1}else for(xr+Qr>Fr&&(xr=Fr-Qr),ln=xr;ln>=0;ln--){let pn=!0;for(let sn=0;sn<Qr;sn++)if(vn(Cr,ln+sn)!==vn($r,sn)){pn=!1;break}if(pn)return ln}return-1}mt.prototype.includes=function($r,xr,Lr){return this.indexOf($r,xr,Lr)!==-1},mt.prototype.indexOf=function($r,xr,Lr){return Dr(this,$r,xr,Lr,!0)},mt.prototype.lastIndexOf=function($r,xr,Lr){return Dr(this,$r,xr,Lr,!1)};function Ir(Cr,$r,xr,Lr){xr=Number(xr)||0;const Jr=Cr.length-xr;Lr?(Lr=Number(Lr),Lr>Jr&&(Lr=Jr)):Lr=Jr;const Xr=$r.length;Lr>Xr/2&&(Lr=Xr/2);let Fr;for(Fr=0;Fr<Lr;++Fr){const Qr=parseInt($r.substr(Fr*2,2),16);if(gn(Qr))return Fr;Cr[xr+Fr]=Qr}return Fr}function br(Cr,$r,xr,Lr){return Hr(dn($r,Cr.length-xr),Cr,xr,Lr)}function Vt(Cr,$r,xr,Lr){return Hr(cn($r),Cr,xr,Lr)}function ht(Cr,$r,xr,Lr){return Hr(on($r),Cr,xr,Lr)}function Ct(Cr,$r,xr,Lr){return Hr(Wr($r,Cr.length-xr),Cr,xr,Lr)}mt.prototype.write=function($r,xr,Lr,Jr){if(xr===void 0)Jr="utf8",Lr=this.length,xr=0;else if(Lr===void 0&&typeof xr=="string")Jr=xr,Lr=this.length,xr=0;else if(isFinite(xr))xr=xr>>>0,isFinite(Lr)?(Lr=Lr>>>0,Jr===void 0&&(Jr="utf8")):(Jr=Lr,Lr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Xr=this.length-xr;if((Lr===void 0||Lr>Xr)&&(Lr=Xr),$r.length>0&&(Lr<0||xr<0)||xr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Jr||(Jr="utf8");let Fr=!1;for(;;)switch(Jr){case"hex":return Ir(this,$r,xr,Lr);case"utf8":case"utf-8":return br(this,$r,xr,Lr);case"ascii":case"latin1":case"binary":return Vt(this,$r,xr,Lr);case"base64":return ht(this,$r,xr,Lr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,$r,xr,Lr);default:if(Fr)throw new TypeError("Unknown encoding: "+Jr);Jr=(""+Jr).toLowerCase(),Fr=!0}},mt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function or(Cr,$r,xr){return $r===0&&xr===Cr.length?ge.fromByteArray(Cr):ge.fromByteArray(Cr.slice($r,xr))}function pr(Cr,$r,xr){xr=Math.min(Cr.length,xr);const Lr=[];let Jr=$r;for(;Jr<xr;){const Xr=Cr[Jr];let Fr=null,Qr=Xr>239?4:Xr>223?3:Xr>191?2:1;if(Jr+Qr<=xr){let vn,ln,pn,sn;switch(Qr){case 1:Xr<128&&(Fr=Xr);break;case 2:vn=Cr[Jr+1],(vn&192)===128&&(sn=(Xr&31)<<6|vn&63,sn>127&&(Fr=sn));break;case 3:vn=Cr[Jr+1],ln=Cr[Jr+2],(vn&192)===128&&(ln&192)===128&&(sn=(Xr&15)<<12|(vn&63)<<6|ln&63,sn>2047&&(sn<55296||sn>57343)&&(Fr=sn));break;case 4:vn=Cr[Jr+1],ln=Cr[Jr+2],pn=Cr[Jr+3],(vn&192)===128&&(ln&192)===128&&(pn&192)===128&&(sn=(Xr&15)<<18|(vn&63)<<12|(ln&63)<<6|pn&63,sn>65535&&sn<1114112&&(Fr=sn))}}Fr===null?(Fr=65533,Qr=1):Fr>65535&&(Fr-=65536,Lr.push(Fr>>>10&1023|55296),Fr=56320|Fr&1023),Lr.push(Fr),Jr+=Qr}return vr(Lr)}const lr=4096;function vr(Cr){const $r=Cr.length;if($r<=lr)return String.fromCharCode.apply(String,Cr);let xr="",Lr=0;for(;Lr<$r;)xr+=String.fromCharCode.apply(String,Cr.slice(Lr,Lr+=lr));return xr}function tr(Cr,$r,xr){let Lr="";xr=Math.min(Cr.length,xr);for(let Jr=$r;Jr<xr;++Jr)Lr+=String.fromCharCode(Cr[Jr]&127);return Lr}function ur(Cr,$r,xr){let Lr="";xr=Math.min(Cr.length,xr);for(let Jr=$r;Jr<xr;++Jr)Lr+=String.fromCharCode(Cr[Jr]);return Lr}function Ft(Cr,$r,xr){const Lr=Cr.length;(!$r||$r<0)&&($r=0),(!xr||xr<0||xr>Lr)&&(xr=Lr);let Jr="";for(let Xr=$r;Xr<xr;++Xr)Jr+=mn[Cr[Xr]];return Jr}function yr(Cr,$r,xr){const Lr=Cr.slice($r,xr);let Jr="";for(let Xr=0;Xr<Lr.length-1;Xr+=2)Jr+=String.fromCharCode(Lr[Xr]+Lr[Xr+1]*256);return Jr}mt.prototype.slice=function($r,xr){const Lr=this.length;$r=~~$r,xr=xr===void 0?Lr:~~xr,$r<0?($r+=Lr,$r<0&&($r=0)):$r>Lr&&($r=Lr),xr<0?(xr+=Lr,xr<0&&(xr=0)):xr>Lr&&(xr=Lr),xr<$r&&(xr=$r);const Jr=this.subarray($r,xr);return Object.setPrototypeOf(Jr,mt.prototype),Jr};function Nr(Cr,$r,xr){if(Cr%1!==0||Cr<0)throw new RangeError("offset is not uint");if(Cr+$r>xr)throw new RangeError("Trying to access beyond buffer length")}mt.prototype.readUintLE=mt.prototype.readUIntLE=function($r,xr,Lr){$r=$r>>>0,xr=xr>>>0,Lr||Nr($r,xr,this.length);let Jr=this[$r],Xr=1,Fr=0;for(;++Fr<xr&&(Xr*=256);)Jr+=this[$r+Fr]*Xr;return Jr},mt.prototype.readUintBE=mt.prototype.readUIntBE=function($r,xr,Lr){$r=$r>>>0,xr=xr>>>0,Lr||Nr($r,xr,this.length);let Jr=this[$r+--xr],Xr=1;for(;xr>0&&(Xr*=256);)Jr+=this[$r+--xr]*Xr;return Jr},mt.prototype.readUint8=mt.prototype.readUInt8=function($r,xr){return $r=$r>>>0,xr||Nr($r,1,this.length),this[$r]},mt.prototype.readUint16LE=mt.prototype.readUInt16LE=function($r,xr){return $r=$r>>>0,xr||Nr($r,2,this.length),this[$r]|this[$r+1]<<8},mt.prototype.readUint16BE=mt.prototype.readUInt16BE=function($r,xr){return $r=$r>>>0,xr||Nr($r,2,this.length),this[$r]<<8|this[$r+1]},mt.prototype.readUint32LE=mt.prototype.readUInt32LE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),(this[$r]|this[$r+1]<<8|this[$r+2]<<16)+this[$r+3]*16777216},mt.prototype.readUint32BE=mt.prototype.readUInt32BE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),this[$r]*16777216+(this[$r+1]<<16|this[$r+2]<<8|this[$r+3])},mt.prototype.readBigUInt64LE=An(function($r){$r=$r>>>0,an($r,"offset");const xr=this[$r],Lr=this[$r+7];(xr===void 0||Lr===void 0)&&nn($r,this.length-8);const Jr=xr+this[++$r]*2**8+this[++$r]*2**16+this[++$r]*2**24,Xr=this[++$r]+this[++$r]*2**8+this[++$r]*2**16+Lr*2**24;return BigInt(Jr)+(BigInt(Xr)<<BigInt(32))}),mt.prototype.readBigUInt64BE=An(function($r){$r=$r>>>0,an($r,"offset");const xr=this[$r],Lr=this[$r+7];(xr===void 0||Lr===void 0)&&nn($r,this.length-8);const Jr=xr*2**24+this[++$r]*2**16+this[++$r]*2**8+this[++$r],Xr=this[++$r]*2**24+this[++$r]*2**16+this[++$r]*2**8+Lr;return(BigInt(Jr)<<BigInt(32))+BigInt(Xr)}),mt.prototype.readIntLE=function($r,xr,Lr){$r=$r>>>0,xr=xr>>>0,Lr||Nr($r,xr,this.length);let Jr=this[$r],Xr=1,Fr=0;for(;++Fr<xr&&(Xr*=256);)Jr+=this[$r+Fr]*Xr;return Xr*=128,Jr>=Xr&&(Jr-=Math.pow(2,8*xr)),Jr},mt.prototype.readIntBE=function($r,xr,Lr){$r=$r>>>0,xr=xr>>>0,Lr||Nr($r,xr,this.length);let Jr=xr,Xr=1,Fr=this[$r+--Jr];for(;Jr>0&&(Xr*=256);)Fr+=this[$r+--Jr]*Xr;return Xr*=128,Fr>=Xr&&(Fr-=Math.pow(2,8*xr)),Fr},mt.prototype.readInt8=function($r,xr){return $r=$r>>>0,xr||Nr($r,1,this.length),this[$r]&128?(255-this[$r]+1)*-1:this[$r]},mt.prototype.readInt16LE=function($r,xr){$r=$r>>>0,xr||Nr($r,2,this.length);const Lr=this[$r]|this[$r+1]<<8;return Lr&32768?Lr|4294901760:Lr},mt.prototype.readInt16BE=function($r,xr){$r=$r>>>0,xr||Nr($r,2,this.length);const Lr=this[$r+1]|this[$r]<<8;return Lr&32768?Lr|4294901760:Lr},mt.prototype.readInt32LE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),this[$r]|this[$r+1]<<8|this[$r+2]<<16|this[$r+3]<<24},mt.prototype.readInt32BE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),this[$r]<<24|this[$r+1]<<16|this[$r+2]<<8|this[$r+3]},mt.prototype.readBigInt64LE=An(function($r){$r=$r>>>0,an($r,"offset");const xr=this[$r],Lr=this[$r+7];(xr===void 0||Lr===void 0)&&nn($r,this.length-8);const Jr=this[$r+4]+this[$r+5]*2**8+this[$r+6]*2**16+(Lr<<24);return(BigInt(Jr)<<BigInt(32))+BigInt(xr+this[++$r]*2**8+this[++$r]*2**16+this[++$r]*2**24)}),mt.prototype.readBigInt64BE=An(function($r){$r=$r>>>0,an($r,"offset");const xr=this[$r],Lr=this[$r+7];(xr===void 0||Lr===void 0)&&nn($r,this.length-8);const Jr=(xr<<24)+this[++$r]*2**16+this[++$r]*2**8+this[++$r];return(BigInt(Jr)<<BigInt(32))+BigInt(this[++$r]*2**24+this[++$r]*2**16+this[++$r]*2**8+Lr)}),mt.prototype.readFloatLE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),Se.read(this,$r,!0,23,4)},mt.prototype.readFloatBE=function($r,xr){return $r=$r>>>0,xr||Nr($r,4,this.length),Se.read(this,$r,!1,23,4)},mt.prototype.readDoubleLE=function($r,xr){return $r=$r>>>0,xr||Nr($r,8,this.length),Se.read(this,$r,!0,52,8)},mt.prototype.readDoubleBE=function($r,xr){return $r=$r>>>0,xr||Nr($r,8,this.length),Se.read(this,$r,!1,52,8)};function qr(Cr,$r,xr,Lr,Jr,Xr){if(!mt.isBuffer(Cr))throw new TypeError('"buffer" argument must be a Buffer instance');if($r>Jr||$r<Xr)throw new RangeError('"value" argument is out of bounds');if(xr+Lr>Cr.length)throw new RangeError("Index out of range")}mt.prototype.writeUintLE=mt.prototype.writeUIntLE=function($r,xr,Lr,Jr){if($r=+$r,xr=xr>>>0,Lr=Lr>>>0,!Jr){const Qr=Math.pow(2,8*Lr)-1;qr(this,$r,xr,Lr,Qr,0)}let Xr=1,Fr=0;for(this[xr]=$r&255;++Fr<Lr&&(Xr*=256);)this[xr+Fr]=$r/Xr&255;return xr+Lr},mt.prototype.writeUintBE=mt.prototype.writeUIntBE=function($r,xr,Lr,Jr){if($r=+$r,xr=xr>>>0,Lr=Lr>>>0,!Jr){const Qr=Math.pow(2,8*Lr)-1;qr(this,$r,xr,Lr,Qr,0)}let Xr=Lr-1,Fr=1;for(this[xr+Xr]=$r&255;--Xr>=0&&(Fr*=256);)this[xr+Xr]=$r/Fr&255;return xr+Lr},mt.prototype.writeUint8=mt.prototype.writeUInt8=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,1,255,0),this[xr]=$r&255,xr+1},mt.prototype.writeUint16LE=mt.prototype.writeUInt16LE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,2,65535,0),this[xr]=$r&255,this[xr+1]=$r>>>8,xr+2},mt.prototype.writeUint16BE=mt.prototype.writeUInt16BE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,2,65535,0),this[xr]=$r>>>8,this[xr+1]=$r&255,xr+2},mt.prototype.writeUint32LE=mt.prototype.writeUInt32LE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,4,4294967295,0),this[xr+3]=$r>>>24,this[xr+2]=$r>>>16,this[xr+1]=$r>>>8,this[xr]=$r&255,xr+4},mt.prototype.writeUint32BE=mt.prototype.writeUInt32BE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,4,4294967295,0),this[xr]=$r>>>24,this[xr+1]=$r>>>16,this[xr+2]=$r>>>8,this[xr+3]=$r&255,xr+4};function Rr(Cr,$r,xr,Lr,Jr){rn($r,Lr,Jr,Cr,xr,7);let Xr=Number($r&BigInt(4294967295));Cr[xr++]=Xr,Xr=Xr>>8,Cr[xr++]=Xr,Xr=Xr>>8,Cr[xr++]=Xr,Xr=Xr>>8,Cr[xr++]=Xr;let Fr=Number($r>>BigInt(32)&BigInt(4294967295));return Cr[xr++]=Fr,Fr=Fr>>8,Cr[xr++]=Fr,Fr=Fr>>8,Cr[xr++]=Fr,Fr=Fr>>8,Cr[xr++]=Fr,xr}function Ar(Cr,$r,xr,Lr,Jr){rn($r,Lr,Jr,Cr,xr,7);let Xr=Number($r&BigInt(4294967295));Cr[xr+7]=Xr,Xr=Xr>>8,Cr[xr+6]=Xr,Xr=Xr>>8,Cr[xr+5]=Xr,Xr=Xr>>8,Cr[xr+4]=Xr;let Fr=Number($r>>BigInt(32)&BigInt(4294967295));return Cr[xr+3]=Fr,Fr=Fr>>8,Cr[xr+2]=Fr,Fr=Fr>>8,Cr[xr+1]=Fr,Fr=Fr>>8,Cr[xr]=Fr,xr+8}mt.prototype.writeBigUInt64LE=An(function($r,xr=0){return Rr(this,$r,xr,BigInt(0),BigInt("0xffffffffffffffff"))}),mt.prototype.writeBigUInt64BE=An(function($r,xr=0){return Ar(this,$r,xr,BigInt(0),BigInt("0xffffffffffffffff"))}),mt.prototype.writeIntLE=function($r,xr,Lr,Jr){if($r=+$r,xr=xr>>>0,!Jr){const vn=Math.pow(2,8*Lr-1);qr(this,$r,xr,Lr,vn-1,-vn)}let Xr=0,Fr=1,Qr=0;for(this[xr]=$r&255;++Xr<Lr&&(Fr*=256);)$r<0&&Qr===0&&this[xr+Xr-1]!==0&&(Qr=1),this[xr+Xr]=($r/Fr>>0)-Qr&255;return xr+Lr},mt.prototype.writeIntBE=function($r,xr,Lr,Jr){if($r=+$r,xr=xr>>>0,!Jr){const vn=Math.pow(2,8*Lr-1);qr(this,$r,xr,Lr,vn-1,-vn)}let Xr=Lr-1,Fr=1,Qr=0;for(this[xr+Xr]=$r&255;--Xr>=0&&(Fr*=256);)$r<0&&Qr===0&&this[xr+Xr+1]!==0&&(Qr=1),this[xr+Xr]=($r/Fr>>0)-Qr&255;return xr+Lr},mt.prototype.writeInt8=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,1,127,-128),$r<0&&($r=255+$r+1),this[xr]=$r&255,xr+1},mt.prototype.writeInt16LE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,2,32767,-32768),this[xr]=$r&255,this[xr+1]=$r>>>8,xr+2},mt.prototype.writeInt16BE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,2,32767,-32768),this[xr]=$r>>>8,this[xr+1]=$r&255,xr+2},mt.prototype.writeInt32LE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,4,2147483647,-2147483648),this[xr]=$r&255,this[xr+1]=$r>>>8,this[xr+2]=$r>>>16,this[xr+3]=$r>>>24,xr+4},mt.prototype.writeInt32BE=function($r,xr,Lr){return $r=+$r,xr=xr>>>0,Lr||qr(this,$r,xr,4,2147483647,-2147483648),$r<0&&($r=4294967295+$r+1),this[xr]=$r>>>24,this[xr+1]=$r>>>16,this[xr+2]=$r>>>8,this[xr+3]=$r&255,xr+4},mt.prototype.writeBigInt64LE=An(function($r,xr=0){return Rr(this,$r,xr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),mt.prototype.writeBigInt64BE=An(function($r,xr=0){return Ar(this,$r,xr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tr(Cr,$r,xr,Lr,Jr,Xr){if(xr+Lr>Cr.length)throw new RangeError("Index out of range");if(xr<0)throw new RangeError("Index out of range")}function Kr(Cr,$r,xr,Lr,Jr){return $r=+$r,xr=xr>>>0,Jr||Tr(Cr,$r,xr,4),Se.write(Cr,$r,xr,Lr,23,4),xr+4}mt.prototype.writeFloatLE=function($r,xr,Lr){return Kr(this,$r,xr,!0,Lr)},mt.prototype.writeFloatBE=function($r,xr,Lr){return Kr(this,$r,xr,!1,Lr)};function Zr(Cr,$r,xr,Lr,Jr){return $r=+$r,xr=xr>>>0,Jr||Tr(Cr,$r,xr,8),Se.write(Cr,$r,xr,Lr,52,8),xr+8}mt.prototype.writeDoubleLE=function($r,xr,Lr){return Zr(this,$r,xr,!0,Lr)},mt.prototype.writeDoubleBE=function($r,xr,Lr){return Zr(this,$r,xr,!1,Lr)},mt.prototype.copy=function($r,xr,Lr,Jr){if(!mt.isBuffer($r))throw new TypeError("argument should be a Buffer");if(Lr||(Lr=0),!Jr&&Jr!==0&&(Jr=this.length),xr>=$r.length&&(xr=$r.length),xr||(xr=0),Jr>0&&Jr<Lr&&(Jr=Lr),Jr===Lr||$r.length===0||this.length===0)return 0;if(xr<0)throw new RangeError("targetStart out of bounds");if(Lr<0||Lr>=this.length)throw new RangeError("Index out of range");if(Jr<0)throw new RangeError("sourceEnd out of bounds");Jr>this.length&&(Jr=this.length),$r.length-xr<Jr-Lr&&(Jr=$r.length-xr+Lr);const Xr=Jr-Lr;return this===$r&&typeof Je.prototype.copyWithin=="function"?this.copyWithin(xr,Lr,Jr):Je.prototype.set.call($r,this.subarray(Lr,Jr),xr),Xr},mt.prototype.fill=function($r,xr,Lr,Jr){if(typeof $r=="string"){if(typeof xr=="string"?(Jr=xr,xr=0,Lr=this.length):typeof Lr=="string"&&(Jr=Lr,Lr=this.length),Jr!==void 0&&typeof Jr!="string")throw new TypeError("encoding must be a string");if(typeof Jr=="string"&&!mt.isEncoding(Jr))throw new TypeError("Unknown encoding: "+Jr);if($r.length===1){const Fr=$r.charCodeAt(0);(Jr==="utf8"&&Fr<128||Jr==="latin1")&&($r=Fr)}}else typeof $r=="number"?$r=$r&255:typeof $r=="boolean"&&($r=Number($r));if(xr<0||this.length<xr||this.length<Lr)throw new RangeError("Out of range index");if(Lr<=xr)return this;xr=xr>>>0,Lr=Lr===void 0?this.length:Lr>>>0,$r||($r=0);let Xr;if(typeof $r=="number")for(Xr=xr;Xr<Lr;++Xr)this[Xr]=$r;else{const Fr=mt.isBuffer($r)?$r:mt.from($r,Jr),Qr=Fr.length;if(Qr===0)throw new TypeError('The value "'+$r+'" is invalid for argument "value"');for(Xr=0;Xr<Lr-xr;++Xr)this[Xr+xr]=Fr[Xr%Qr]}return this};const Br={};function Mr(Cr,$r,xr){Br[Cr]=class extends xr{constructor(){super(),Object.defineProperty(this,"message",{value:$r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Cr}]`,this.stack,delete this.name}get code(){return Cr}set code(Jr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Jr,writable:!0})}toString(){return`${this.name} [${Cr}]: ${this.message}`}}}Mr("ERR_BUFFER_OUT_OF_BOUNDS",function(Cr){return Cr?`${Cr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Mr("ERR_INVALID_ARG_TYPE",function(Cr,$r){return`The "${Cr}" argument must be of type number. Received type ${typeof $r}`},TypeError),Mr("ERR_OUT_OF_RANGE",function(Cr,$r,xr){let Lr=`The value of "${Cr}" is out of range.`,Jr=xr;return Number.isInteger(xr)&&Math.abs(xr)>2**32?Jr=Gr(String(xr)):typeof xr=="bigint"&&(Jr=String(xr),(xr>BigInt(2)**BigInt(32)||xr<-(BigInt(2)**BigInt(32)))&&(Jr=Gr(Jr)),Jr+="n"),Lr+=` It must be ${$r}. Received ${Jr}`,Lr},RangeError);function Gr(Cr){let $r="",xr=Cr.length;const Lr=Cr[0]==="-"?1:0;for(;xr>=Lr+4;xr-=3)$r=`_${Cr.slice(xr-3,xr)}${$r}`;return`${Cr.slice(0,xr)}${$r}`}function en(Cr,$r,xr){an($r,"offset"),(Cr[$r]===void 0||Cr[$r+xr]===void 0)&&nn($r,Cr.length-(xr+1))}function rn(Cr,$r,xr,Lr,Jr,Xr){if(Cr>xr||Cr<$r){const Fr=typeof $r=="bigint"?"n":"";let Qr;throw $r===0||$r===BigInt(0)?Qr=`>= 0${Fr} and < 2${Fr} ** ${(Xr+1)*8}${Fr}`:Qr=`>= -(2${Fr} ** ${(Xr+1)*8-1}${Fr}) and < 2 ** ${(Xr+1)*8-1}${Fr}`,new Br.ERR_OUT_OF_RANGE("value",Qr,Cr)}en(Lr,Jr,Xr)}function an(Cr,$r){if(typeof Cr!="number")throw new Br.ERR_INVALID_ARG_TYPE($r,"number",Cr)}function nn(Cr,$r,xr){throw Math.floor(Cr)!==Cr?(an(Cr,xr),new Br.ERR_OUT_OF_RANGE("offset","an integer",Cr)):$r<0?new Br.ERR_BUFFER_OUT_OF_BOUNDS:new Br.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$r}`,Cr)}const un=/[^+/0-9A-Za-z-_]/g;function tn(Cr){if(Cr=Cr.split("=")[0],Cr=Cr.trim().replace(un,""),Cr.length<2)return"";for(;Cr.length%4!==0;)Cr=Cr+"=";return Cr}function dn(Cr,$r){$r=$r||1/0;let xr;const Lr=Cr.length;let Jr=null;const Xr=[];for(let Fr=0;Fr<Lr;++Fr){if(xr=Cr.charCodeAt(Fr),xr>55295&&xr<57344){if(!Jr){if(xr>56319){($r-=3)>-1&&Xr.push(239,191,189);continue}else if(Fr+1===Lr){($r-=3)>-1&&Xr.push(239,191,189);continue}Jr=xr;continue}if(xr<56320){($r-=3)>-1&&Xr.push(239,191,189),Jr=xr;continue}xr=(Jr-55296<<10|xr-56320)+65536}else Jr&&($r-=3)>-1&&Xr.push(239,191,189);if(Jr=null,xr<128){if(($r-=1)<0)break;Xr.push(xr)}else if(xr<2048){if(($r-=2)<0)break;Xr.push(xr>>6|192,xr&63|128)}else if(xr<65536){if(($r-=3)<0)break;Xr.push(xr>>12|224,xr>>6&63|128,xr&63|128)}else if(xr<1114112){if(($r-=4)<0)break;Xr.push(xr>>18|240,xr>>12&63|128,xr>>6&63|128,xr&63|128)}else throw new Error("Invalid code point")}return Xr}function cn(Cr){const $r=[];for(let xr=0;xr<Cr.length;++xr)$r.push(Cr.charCodeAt(xr)&255);return $r}function Wr(Cr,$r){let xr,Lr,Jr;const Xr=[];for(let Fr=0;Fr<Cr.length&&!(($r-=2)<0);++Fr)xr=Cr.charCodeAt(Fr),Lr=xr>>8,Jr=xr%256,Xr.push(Jr),Xr.push(Lr);return Xr}function on(Cr){return ge.toByteArray(tn(Cr))}function Hr(Cr,$r,xr,Lr){let Jr;for(Jr=0;Jr<Lr&&!(Jr+xr>=$r.length||Jr>=Cr.length);++Jr)$r[Jr+xr]=Cr[Jr];return Jr}function yn(Cr,$r){return Cr instanceof $r||Cr!=null&&Cr.constructor!=null&&Cr.constructor.name!=null&&Cr.constructor.name===$r.name}function gn(Cr){return Cr!==Cr}const mn=function(){const Cr="0123456789abcdef",$r=new Array(256);for(let xr=0;xr<16;++xr){const Lr=xr*16;for(let Jr=0;Jr<16;++Jr)$r[Lr+Jr]=Cr[xr]+Cr[Jr]}return $r}();function An(Cr){return typeof BigInt>"u"?hn:Cr}function hn(){throw new Error("BigInt not supported")}})(buffer$4);const Buffer$F=buffer$4.Buffer,Blob$1=buffer$4.Blob,BlobOptions=buffer$4.BlobOptions,Buffer$1$1=buffer$4.Buffer,File=buffer$4.File,FileOptions=buffer$4.FileOptions,INSPECT_MAX_BYTES=buffer$4.INSPECT_MAX_BYTES,SlowBuffer=buffer$4.SlowBuffer,TranscodeEncoding=buffer$4.TranscodeEncoding,atob=buffer$4.atob,btoa=buffer$4.btoa,constants$4=buffer$4.constants,isAscii=buffer$4.isAscii,isUtf8=buffer$4.isUtf8,kMaxLength=buffer$4.kMaxLength,kStringMaxLength=buffer$4.kStringMaxLength,resolveObjectURL=buffer$4.resolveObjectURL,transcode=buffer$4.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob,btoa,constants:constants$4,default:Buffer$F,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),global$j=globalThis||void 0||self;var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(pe){return pe&&pe.__esModule&&Object.prototype.hasOwnProperty.call(pe,"default")?pe.default:pe}function getAugmentedNamespace(pe){if(pe.__esModule)return pe;var ge=pe.default;if(typeof ge=="function"){var Se=function Ne(){return this instanceof Ne?Reflect.construct(ge,arguments,this.constructor):ge.apply(this,arguments)};Se.prototype=ge.prototype}else Se={};return Object.defineProperty(Se,"__esModule",{value:!0}),Object.keys(pe).forEach(function(Ne){var Ze=Object.getOwnPropertyDescriptor(pe,Ne);Object.defineProperty(Se,Ne,Ze.get?Ze:{enumerable:!0,get:function(){return pe[Ne]}})}),Se}var browserIndex$2={},browserIndex$1={},keystore$2={},lib$b={},in_memory_key_store$1={},lib$a={},constants$3={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.KeySize=pe.KeyType=void 0,function(ge){ge[ge.ED25519=0]="ED25519"}(pe.KeyType||(pe.KeyType={})),function(ge){ge[ge.SECRET_KEY=32]="SECRET_KEY"}(pe.KeySize||(pe.KeySize={}))})(constants$3);var key_pair$1={},key_pair_base={};Object.defineProperty(key_pair_base,"__esModule",{value:!0}),key_pair_base.KeyPairBase=void 0;class KeyPairBase{}key_pair_base.KeyPairBase=KeyPairBase;var key_pair_ed25519={},lib$9={},constants$2={};Object.defineProperty(constants$2,"__esModule",{value:!0}),constants$2.DEFAULT_FUNCTION_CALL_GAS=void 0,constants$2.DEFAULT_FUNCTION_CALL_GAS=BigInt("30000000000000");var errors$4={},errors$3={},logger$2={};function getDefaultExportFromCjs(pe){return pe&&pe.__esModule&&Object.prototype.hasOwnProperty.call(pe,"default")?pe.default:pe}var browser$h={exports:{}},process$4=browser$h.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(pe){if(cachedSetTimeout===setTimeout)return setTimeout(pe,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(pe,0);try{return cachedSetTimeout(pe,0)}catch{try{return cachedSetTimeout.call(null,pe,0)}catch{return cachedSetTimeout.call(this,pe,0)}}}function runClearTimeout(pe){if(cachedClearTimeout===clearTimeout)return clearTimeout(pe);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(pe);try{return cachedClearTimeout(pe)}catch{try{return cachedClearTimeout.call(null,pe)}catch{return cachedClearTimeout.call(this,pe)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var pe=runTimeout(cleanUpNextTick);draining=!0;for(var ge=queue$1.length;ge;){for(currentQueue=queue$1,queue$1=[];++queueIndex<ge;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,ge=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(pe)}}process$4.nextTick=function(pe){var ge=new Array(arguments.length-1);if(arguments.length>1)for(var Se=1;Se<arguments.length;Se++)ge[Se-1]=arguments[Se];queue$1.push(new Item(pe,ge)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(pe,ge){this.fun=pe,this.array=ge}Item.prototype.run=function(){this.fun.apply(null,this.array)},process$4.title="browser",process$4.browser=!0,process$4.env={},process$4.argv=[],process$4.version="",process$4.versions={};function noop$1(){}process$4.on=noop$1,process$4.addListener=noop$1,process$4.once=noop$1,process$4.off=noop$1,process$4.removeListener=noop$1,process$4.removeAllListeners=noop$1,process$4.emit=noop$1,process$4.prependListener=noop$1,process$4.prependOnceListener=noop$1,process$4.listeners=function(pe){return[]},process$4.binding=function(pe){throw new Error("process.binding is not supported")},process$4.cwd=function(){return"/"},process$4.chdir=function(pe){throw new Error("process.chdir is not supported")},process$4.umask=function(){return 0};var browserExports$1=browser$h.exports;const process$1$1=getDefaultExportFromCjs(browserExports$1);var logger$1={},console_logger={};Object.defineProperty(console_logger,"__esModule",{value:!0}),console_logger.ConsoleLogger=void 0;class ConsoleLogger{constructor(ge){this.logLevels=ge,this.isLevelEnabled=Se=>this.logLevels.includes(Se)}print(ge,Se,...Ne){switch(ge){case"error":case"fatal":return console.error(Se,...Ne);case"warn":return console.warn(Se,...Ne);case"log":return console.log(Se,...Ne);case"debug":case"verbose":return console.debug(Se,...Ne)}}verbose(ge,...Se){this.isLevelEnabled("verbose")&&this.print("verbose",ge,...Se)}debug(ge,...Se){this.isLevelEnabled("debug")&&this.print("debug",ge,...Se)}log(ge,...Se){this.isLevelEnabled("log")&&this.print("log",ge,...Se)}warn(ge,...Se){this.isLevelEnabled("warn")&&this.print("warn",ge,...Se)}error(ge,...Se){this.isLevelEnabled("error")&&this.print("error",ge,...Se)}fatal(ge,...Se){this.isLevelEnabled("fatal")&&this.print("fatal",ge,...Se)}}console_logger.ConsoleLogger=ConsoleLogger;var define_process_env_default={},_a;Object.defineProperty(logger$1,"__esModule",{value:!0}),logger$1.Logger=void 0;const console_logger_1=console_logger,DEFAULT_LOG_LEVELS=["verbose","debug","log","warn","error","fatal"],DEFAULT_LOGGER=typeof process$1$1=="object"&&define_process_env_default.NEAR_NO_LOGS?void 0:new console_logger_1.ConsoleLogger(DEFAULT_LOG_LEVELS);class Logger{static error(ge,...Se){var Ne;(Ne=this.instanceRef)===null||Ne===void 0||Ne.error(ge,...Se)}static log(ge,...Se){var Ne;(Ne=this.instanceRef)===null||Ne===void 0||Ne.log(ge,...Se)}static warn(ge,...Se){var Ne;(Ne=this.instanceRef)===null||Ne===void 0||Ne.warn(ge,...Se)}static debug(ge,...Se){var Ne,Ze;(Ze=(Ne=this.instanceRef)===null||Ne===void 0?void 0:Ne.debug)===null||Ze===void 0||Ze.call(Ne,ge,...Se)}static verbose(ge,...Se){var Ne,Ze;(Ze=(Ne=this.instanceRef)===null||Ne===void 0?void 0:Ne.verbose)===null||Ze===void 0||Ze.call(Ne,ge,...Se)}static fatal(ge,...Se){var Ne,Ze;(Ze=(Ne=this.instanceRef)===null||Ne===void 0?void 0:Ne.fatal)===null||Ze===void 0||Ze.call(Ne,ge,...Se)}}logger$1.Logger=Logger,_a=Logger,Logger.instanceRef=DEFAULT_LOGGER,Logger.overrideLogger=pe=>{_a.instanceRef=pe},function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Logger=void 0;var ge=logger$1;Object.defineProperty(pe,"Logger",{enumerable:!0,get:function(){return ge.Logger}})}(logger$2),Object.defineProperty(errors$3,"__esModule",{value:!0}),errors$3.logWarning=void 0;const logger_1$1=logger$2;function logWarning(...pe){const[ge,...Se]=pe;logger_1$1.Logger.warn(ge,...Se)}errors$3.logWarning=logWarning;var rpc_errors$1={},lib$8={},assignable={};Object.defineProperty(assignable,"__esModule",{value:!0}),assignable.Assignable=void 0;class Assignable{constructor(ge){Object.keys(ge).map(Se=>{this[Se]=ge[Se]})}}assignable.Assignable=Assignable;var errors$2={};Object.defineProperty(errors$2,"__esModule",{value:!0}),errors$2.ErrorContext=errors$2.TypedError=errors$2.ArgumentTypeError=errors$2.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}errors$2.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(ge,Se,Ne){super(`Expected ${Se} for '${ge}' argument, but got '${JSON.stringify(Ne)}'`)}}errors$2.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(ge,Se,Ne){super(ge),this.type=Se||"UntypedError",this.context=Ne}}errors$2.TypedError=TypedError;class ErrorContext{constructor(ge){this.transactionHash=ge}}errors$2.ErrorContext=ErrorContext;var provider$4={},light_client={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.IdType=void 0,function(ge){ge.Transaction="transaction",ge.Receipt="receipt"}(pe.IdType||(pe.IdType={}))})(light_client);var response$1={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.FinalExecutionStatusBasic=pe.ExecutionStatusBasic=void 0,function(ge){ge.Unknown="Unknown",ge.Pending="Pending",ge.Failure="Failure"}(pe.ExecutionStatusBasic||(pe.ExecutionStatusBasic={})),function(ge){ge.NotStarted="NotStarted",ge.Started="Started",ge.Failure="Failure"}(pe.FinalExecutionStatusBasic||(pe.FinalExecutionStatusBasic={}))})(response$1),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.FinalExecutionStatusBasic=pe.ExecutionStatusBasic=pe.IdType=void 0;var ge=light_client;Object.defineProperty(pe,"IdType",{enumerable:!0,get:function(){return ge.IdType}});var Se=response$1;Object.defineProperty(pe,"ExecutionStatusBasic",{enumerable:!0,get:function(){return Se.ExecutionStatusBasic}}),Object.defineProperty(pe,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return Se.FinalExecutionStatusBasic}})}(provider$4),function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je);var vt=Object.getOwnPropertyDescriptor(Ze,Je);(!vt||("get"in vt?!Ze.__esModule:vt.writable||vt.configurable))&&(vt={enumerable:!0,get:function(){return Ze[Je]}}),Object.defineProperty(Ne,Xe,vt)}:function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je),Ne[Xe]=Ze[Je]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(Ne,Ze){for(var Je in Ne)Je!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,Je)&&ge(Ze,Ne,Je)};Object.defineProperty(pe,"__esModule",{value:!0}),Se(assignable,pe),Se(errors$2,pe),Se(provider$4,pe)}(lib$8);var mustache={exports:{}};(function(pe,ge){(function(Se,Ne){pe.exports=Ne()})(commonjsGlobal$1,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var Se=Object.prototype.toString,Ne=Array.isArray||function(Vt){return Se.call(Vt)==="[object Array]"};function Ze(br){return typeof br=="function"}function Je(br){return Ne(br)?"array":typeof br}function Xe(br){return br.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function vt(br,Vt){return br!=null&&typeof br=="object"&&Vt in br}function gt(br,Vt){return br!=null&&typeof br!="object"&&br.hasOwnProperty&&br.hasOwnProperty(Vt)}var kt=RegExp.prototype.test;function mt(br,Vt){return kt.call(br,Vt)}var xt=/\S/;function fr(br){return!mt(xt,br)}var ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function gr(br){return String(br).replace(/[&<>"'`=\/]/g,function(ht){return ar[ht]})}var wr=/\s*/,Er=/\s+/,_r=/\s*=/,Sr=/\s*\}/,Or=/#|\^|\/|>|\{|&|=|!/;function Pr(br,Vt){if(!br)return[];var ht=!1,Ct=[],or=[],pr=[],lr=!1,vr=!1,tr="",ur=0;function Ft(){if(lr&&!vr)for(;pr.length;)delete or[pr.pop()];else pr=[];lr=!1,vr=!1}var yr,Nr,qr;function Rr(an){if(typeof an=="string"&&(an=an.split(Er,2)),!Ne(an)||an.length!==2)throw new Error("Invalid tags: "+an);yr=new RegExp(Xe(an[0])+"\\s*"),Nr=new RegExp("\\s*"+Xe(an[1])),qr=new RegExp("\\s*"+Xe("}"+an[1]))}Rr(Vt||Vr.tags);for(var Ar=new Yr(br),Tr,Kr,Zr,Br,Mr,Gr;!Ar.eos();){if(Tr=Ar.pos,Zr=Ar.scanUntil(yr),Zr)for(var en=0,rn=Zr.length;en<rn;++en)Br=Zr.charAt(en),fr(Br)?(pr.push(or.length),tr+=Br):(vr=!0,ht=!0,tr+=" "),or.push(["text",Br,Tr,Tr+1]),Tr+=1,Br===`
`&&(Ft(),tr="",ur=0,ht=!1);if(!Ar.scan(yr))break;if(lr=!0,Kr=Ar.scan(Or)||"name",Ar.scan(wr),Kr==="="?(Zr=Ar.scanUntil(_r),Ar.scan(_r),Ar.scanUntil(Nr)):Kr==="{"?(Zr=Ar.scanUntil(qr),Ar.scan(Sr),Ar.scanUntil(Nr),Kr="&"):Zr=Ar.scanUntil(Nr),!Ar.scan(Nr))throw new Error("Unclosed tag at "+Ar.pos);if(Kr==">"?Mr=[Kr,Zr,Tr,Ar.pos,tr,ur,ht]:Mr=[Kr,Zr,Tr,Ar.pos],ur++,or.push(Mr),Kr==="#"||Kr==="^")Ct.push(Mr);else if(Kr==="/"){if(Gr=Ct.pop(),!Gr)throw new Error('Unopened section "'+Zr+'" at '+Tr);if(Gr[1]!==Zr)throw new Error('Unclosed section "'+Gr[1]+'" at '+Tr)}else Kr==="name"||Kr==="{"||Kr==="&"?vr=!0:Kr==="="&&Rr(Zr)}if(Ft(),Gr=Ct.pop(),Gr)throw new Error('Unclosed section "'+Gr[1]+'" at '+Ar.pos);return Ur(kr(or))}function kr(br){for(var Vt=[],ht,Ct,or=0,pr=br.length;or<pr;++or)ht=br[or],ht&&(ht[0]==="text"&&Ct&&Ct[0]==="text"?(Ct[1]+=ht[1],Ct[3]=ht[3]):(Vt.push(ht),Ct=ht));return Vt}function Ur(br){for(var Vt=[],ht=Vt,Ct=[],or,pr,lr=0,vr=br.length;lr<vr;++lr)switch(or=br[lr],or[0]){case"#":case"^":ht.push(or),Ct.push(or),ht=or[4]=[];break;case"/":pr=Ct.pop(),pr[5]=or[2],ht=Ct.length>0?Ct[Ct.length-1][4]:Vt;break;default:ht.push(or)}return Vt}function Yr(br){this.string=br,this.tail=br,this.pos=0}Yr.prototype.eos=function(){return this.tail===""},Yr.prototype.scan=function(Vt){var ht=this.tail.match(Vt);if(!ht||ht.index!==0)return"";var Ct=ht[0];return this.tail=this.tail.substring(Ct.length),this.pos+=Ct.length,Ct},Yr.prototype.scanUntil=function(Vt){var ht=this.tail.search(Vt),Ct;switch(ht){case-1:Ct=this.tail,this.tail="";break;case 0:Ct="";break;default:Ct=this.tail.substring(0,ht),this.tail=this.tail.substring(ht)}return this.pos+=Ct.length,Ct};function jr(br,Vt){this.view=br,this.cache={".":this.view},this.parent=Vt}jr.prototype.push=function(Vt){return new jr(Vt,this)},jr.prototype.lookup=function(Vt){var ht=this.cache,Ct;if(ht.hasOwnProperty(Vt))Ct=ht[Vt];else{for(var or=this,pr,lr,vr,tr=!1;or;){if(Vt.indexOf(".")>0)for(pr=or.view,lr=Vt.split("."),vr=0;pr!=null&&vr<lr.length;)vr===lr.length-1&&(tr=vt(pr,lr[vr])||gt(pr,lr[vr])),pr=pr[lr[vr++]];else pr=or.view[Vt],tr=vt(or.view,Vt);if(tr){Ct=pr;break}or=or.parent}ht[Vt]=Ct}return Ze(Ct)&&(Ct=Ct.call(this.view)),Ct};function Dr(){this.templateCache={_cache:{},set:function(Vt,ht){this._cache[Vt]=ht},get:function(Vt){return this._cache[Vt]},clear:function(){this._cache={}}}}Dr.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},Dr.prototype.parse=function(Vt,ht){var Ct=this.templateCache,or=Vt+":"+(ht||Vr.tags).join(":"),pr=typeof Ct<"u",lr=pr?Ct.get(or):void 0;return lr==null&&(lr=Pr(Vt,ht),pr&&Ct.set(or,lr)),lr},Dr.prototype.render=function(Vt,ht,Ct,or){var pr=this.parse(Vt,or),lr=ht instanceof jr?ht:new jr(ht,void 0);return this.renderTokens(pr,lr,Ct,Vt,or)},Dr.prototype.renderTokens=function(Vt,ht,Ct,or,pr){for(var lr="",vr,tr,ur,Ft=0,yr=Vt.length;Ft<yr;++Ft)ur=void 0,vr=Vt[Ft],tr=vr[0],tr==="#"?ur=this.renderSection(vr,ht,Ct,or):tr==="^"?ur=this.renderInverted(vr,ht,Ct,or):tr===">"?ur=this.renderPartial(vr,ht,Ct,pr):tr==="&"?ur=this.unescapedValue(vr,ht):tr==="name"?ur=this.escapedValue(vr,ht):tr==="text"&&(ur=this.rawValue(vr)),ur!==void 0&&(lr+=ur);return lr},Dr.prototype.renderSection=function(Vt,ht,Ct,or){var pr=this,lr="",vr=ht.lookup(Vt[1]);function tr(yr){return pr.render(yr,ht,Ct)}if(vr){if(Ne(vr))for(var ur=0,Ft=vr.length;ur<Ft;++ur)lr+=this.renderTokens(Vt[4],ht.push(vr[ur]),Ct,or);else if(typeof vr=="object"||typeof vr=="string"||typeof vr=="number")lr+=this.renderTokens(Vt[4],ht.push(vr),Ct,or);else if(Ze(vr)){if(typeof or!="string")throw new Error("Cannot use higher-order sections without the original template");vr=vr.call(ht.view,or.slice(Vt[3],Vt[5]),tr),vr!=null&&(lr+=vr)}else lr+=this.renderTokens(Vt[4],ht,Ct,or);return lr}},Dr.prototype.renderInverted=function(Vt,ht,Ct,or){var pr=ht.lookup(Vt[1]);if(!pr||Ne(pr)&&pr.length===0)return this.renderTokens(Vt[4],ht,Ct,or)},Dr.prototype.indentPartial=function(Vt,ht,Ct){for(var or=ht.replace(/[^ \t]/g,""),pr=Vt.split(`
`),lr=0;lr<pr.length;lr++)pr[lr].length&&(lr>0||!Ct)&&(pr[lr]=or+pr[lr]);return pr.join(`
`)},Dr.prototype.renderPartial=function(Vt,ht,Ct,or){if(Ct){var pr=Ze(Ct)?Ct(Vt[1]):Ct[Vt[1]];if(pr!=null){var lr=Vt[6],vr=Vt[5],tr=Vt[4],ur=pr;return vr==0&&tr&&(ur=this.indentPartial(pr,tr,lr)),this.renderTokens(this.parse(ur,or),ht,Ct,ur)}}},Dr.prototype.unescapedValue=function(Vt,ht){var Ct=ht.lookup(Vt[1]);if(Ct!=null)return Ct},Dr.prototype.escapedValue=function(Vt,ht){var Ct=ht.lookup(Vt[1]);if(Ct!=null)return Vr.escape(Ct)},Dr.prototype.rawValue=function(Vt){return Vt[1]};var Vr={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(br){Ir.templateCache=br},get templateCache(){return Ir.templateCache}},Ir=new Dr;return Vr.clearCache=function(){return Ir.clearCache()},Vr.parse=function(Vt,ht){return Ir.parse(Vt,ht)},Vr.render=function(Vt,ht,Ct,or){if(typeof Vt!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+Je(Vt)+'" was given as the first argument for mustache#render(template, view, partials)');return Ir.render(Vt,ht,Ct,or)},Vr.escape=gr,Vr.Scanner=Yr,Vr.Context=jr,Vr.Writer=Dr,Vr})})(mustache);var mustacheExports=mustache.exports,format$1={},safeBuffer$2={exports:{}};const require$$1$2=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(pe,ge){var Se=require$$1$2,Ne=Se.Buffer;function Ze(Xe,vt){for(var gt in Xe)vt[gt]=Xe[gt]}Ne.from&&Ne.alloc&&Ne.allocUnsafe&&Ne.allocUnsafeSlow?pe.exports=Se:(Ze(Se,ge),ge.Buffer=Je);function Je(Xe,vt,gt){return Ne(Xe,vt,gt)}Je.prototype=Object.create(Ne.prototype),Ze(Ne,Je),Je.from=function(Xe,vt,gt){if(typeof Xe=="number")throw new TypeError("Argument must not be a number");return Ne(Xe,vt,gt)},Je.alloc=function(Xe,vt,gt){if(typeof Xe!="number")throw new TypeError("Argument must be a number");var kt=Ne(Xe);return vt!==void 0?typeof gt=="string"?kt.fill(vt,gt):kt.fill(vt):kt.fill(0),kt},Je.allocUnsafe=function(Xe){if(typeof Xe!="number")throw new TypeError("Argument must be a number");return Ne(Xe)},Je.allocUnsafeSlow=function(Xe){if(typeof Xe!="number")throw new TypeError("Argument must be a number");return Se.SlowBuffer(Xe)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports$1=safeBuffer$2.exports,Buffer$E=safeBufferExports$1.Buffer,baseX=function(ge){for(var Se={},Ne=ge.length,Ze=ge.charAt(0),Je=0;Je<ge.length;Je++){var Xe=ge.charAt(Je);if(Se[Xe]!==void 0)throw new TypeError(Xe+" is ambiguous");Se[Xe]=Je}function vt(mt){if(mt.length===0)return"";for(var xt=[0],fr=0;fr<mt.length;++fr){for(var ar=0,gr=mt[fr];ar<xt.length;++ar)gr+=xt[ar]<<8,xt[ar]=gr%Ne,gr=gr/Ne|0;for(;gr>0;)xt.push(gr%Ne),gr=gr/Ne|0}for(var wr="",Er=0;mt[Er]===0&&Er<mt.length-1;++Er)wr+=ge[0];for(var _r=xt.length-1;_r>=0;--_r)wr+=ge[xt[_r]];return wr}function gt(mt){if(mt.length===0)return Buffer$E.allocUnsafe(0);for(var xt=[0],fr=0;fr<mt.length;fr++){var ar=Se[mt[fr]];if(ar===void 0)return;for(var gr=0,wr=ar;gr<xt.length;++gr)wr+=xt[gr]*Ne,xt[gr]=wr&255,wr>>=8;for(;wr>0;)xt.push(wr&255),wr>>=8}for(var Er=0;mt[Er]===Ze&&Er<mt.length-1;++Er)xt.push(0);return Buffer$E.from(xt.reverse())}function kt(mt){var xt=gt(mt);if(xt)return xt;throw new Error("Non-base"+Ne+" character")}return{encode:vt,decodeUnsafe:gt,decode:kt}},basex=baseX,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);(function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ar){return ar&&ar.__esModule?ar:{default:ar}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.baseDecode=pe.baseEncode=pe.parseNearAmount=pe.formatNearAmount=pe.NEAR_NOMINATION=pe.NEAR_NOMINATION_EXP=void 0;const Se=ge(bs58);pe.NEAR_NOMINATION_EXP=24,pe.NEAR_NOMINATION=BigInt(10)**BigInt(pe.NEAR_NOMINATION_EXP);const Ne=[],Ze=BigInt(10);for(let ar=0,gr=BigInt(5);ar<pe.NEAR_NOMINATION_EXP;ar++,gr=gr*Ze)Ne[ar]=gr;function Je(ar,gr=pe.NEAR_NOMINATION_EXP){let wr=BigInt(ar);if(gr!==pe.NEAR_NOMINATION_EXP){const Sr=pe.NEAR_NOMINATION_EXP-gr-1;Sr>0&&(wr+=Ne[Sr])}ar=wr.toString();const Er=ar.substring(0,ar.length-pe.NEAR_NOMINATION_EXP)||"0",_r=ar.substring(ar.length-pe.NEAR_NOMINATION_EXP).padStart(pe.NEAR_NOMINATION_EXP,"0").substring(0,gr);return gt(`${mt(Er)}.${_r}`)}pe.formatNearAmount=Je;function Xe(ar){if(!ar)return null;ar=vt(ar);const gr=ar.split("."),wr=gr[0],Er=gr[1]||"";if(gr.length>2||Er.length>pe.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${ar}' as NEAR amount`);return kt(wr+Er.padEnd(pe.NEAR_NOMINATION_EXP,"0"))}pe.parseNearAmount=Xe;function vt(ar){return ar.replace(/,/g,"").trim()}function gt(ar){return ar.replace(/\.?0*$/,"")}function kt(ar){return ar=ar.replace(/^0+/,""),ar===""?"0":ar}function mt(ar){const gr=/(-?\d+)(\d{3})/;for(;gr.test(ar);)ar=ar.replace(gr,"$1,$2");return ar}function xt(ar){if(typeof ar=="string"){const gr=[];for(let wr=0;wr<ar.length;wr++)gr.push(ar.charCodeAt(wr));ar=new Uint8Array(gr)}return Se.default.encode(ar)}pe.baseEncode=xt;function fr(ar){return new Uint8Array(Se.default.decode(ar))}pe.baseDecode=fr})(format$1);const GasLimitExceeded="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName="Method name is empty",WasmerCompileError="Wasmer compilation error: {{msg}}",GuestPanic="Smart contract panicked: {{panic_msg}}",Memory="Error creating Wasm memory",GasExceeded="Exceeded the prepaid gas",MethodUTF8Error="Method name is not valid UTF8 string",BadUTF16="String encoding is bad UTF-16 sequence",WasmTrap="WebAssembly trap: {{msg}}",GasInstrumentation="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex="Accessed invalid promise result index: {{result_idx}}",Deserialization="Error happened while deserializing the module",MethodNotFound="Contract method is not found",InvalidRegisterId="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName="Method name is empty in contract call",CannotReturnJointPromise="Returning joint promise is currently prohibited",StackHeightInstrumentation="Stack instrumentation failed",CodeDoesNotExist="Cannot find contract code for account {{account_id}}",MethodInvalidSignature="Invalid method signature",IntegerOverflow="Integer overflow happened during contract execution",MemoryAccessViolation="MemoryAccessViolation",InvalidIteratorIndex="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId="VM Logic returned an invalid account id",Serialization="Error happened while serializing the module",CannotAppendActionToJointPromise="Actions can only be appended to non-joint promise.",InternalMemoryDeclared="Internal memory declaration has been found in the module",Instantiate="Error happened during instantiation",ProhibitedInView="{{method_name}} is not allowed in view calls",InvalidMethodName="VM Logic returned an invalid method name",BadUTF8="String encoding is bad UTF-8 sequence",BalanceExceeded="Exceeded the account balance",LinkError="Wasm contract link error: {{msg}}",InvalidPublicKey="VM Logic provided an invalid public key",ActorNoPermission="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow="Transaction gas or balance cost is too high",InvalidSignature="Transaction is not signed with the given public key",AccessKeyNotFound=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired="Transaction has expired",DeleteAccountStaking="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist="Signer {{signer_id}} does not exist",TriesToStake="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists="The public key {{public_key}} is already used for an existing access key",InvalidSigner="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists="Can't create a new account {{account_id}}, because it already exists",InvalidChain="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout="Timeout exceeded",Closed="Connection closed",require$$3={GasLimitExceeded,MethodEmptyName,WasmerCompileError,GuestPanic,Memory,GasExceeded,MethodUTF8Error,BadUTF16,WasmTrap,GasInstrumentation,InvalidPromiseIndex,InvalidPromiseResultIndex,Deserialization,MethodNotFound,InvalidRegisterId,InvalidReceiptIndex,EmptyMethodName,CannotReturnJointPromise,StackHeightInstrumentation,CodeDoesNotExist,MethodInvalidSignature,IntegerOverflow,MemoryAccessViolation,InvalidIteratorIndex,IteratorWasInvalidated,InvalidAccountId,Serialization,CannotAppendActionToJointPromise,InternalMemoryDeclared,Instantiate,ProhibitedInView,InvalidMethodName,BadUTF8,BalanceExceeded,LinkError,InvalidPublicKey,ActorNoPermission,LackBalanceForState,ReceiverMismatch,CostOverflow,InvalidSignature,AccessKeyNotFound,NotEnoughBalance,NotEnoughAllowance,Expired,DeleteAccountStaking,SignerDoesNotExist,TriesToStake,AddKeyAlreadyExists,InvalidSigner,CreateAccountNotAllowed,RequiresFullAccess,TriesToUnstake,InvalidNonce,AccountAlreadyExists,InvalidChain,AccountDoesNotExist,AccessKeyDoesNotExist,MethodNameMismatch,DeleteAccountHasRent,DeleteAccountHasEnoughBalance,InvalidReceiver,DeleteKeyDoesNotExist,Timeout,Closed},schema$1={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$4$1={schema:schema$1};var __importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}};Object.defineProperty(rpc_errors$1,"__esModule",{value:!0}),rpc_errors$1.getErrorTypeFromErrorMessage=rpc_errors$1.formatError=rpc_errors$1.parseResultError=rpc_errors$1.parseRpcError=rpc_errors$1.ServerError=void 0;const types_1$d=lib$8,mustache_1=__importDefault$4(mustacheExports),format_1=format$1,error_messages_json_1=__importDefault$4(require$$3),rpc_error_schema_json_1=__importDefault$4(require$$4$1),mustacheHelpers={formatNear:()=>(pe,ge)=>(0,format_1.formatNearAmount)(ge(pe))};class ServerError extends types_1$d.TypedError{}rpc_errors$1.ServerError=ServerError;class ServerTransactionError extends ServerError{}function parseRpcError(pe){const ge={},Se=walkSubtype(pe,rpc_error_schema_json_1.default.schema,ge,""),Ne=new ServerError(formatError(Se,ge),Se);return Object.assign(Ne,ge),Ne}rpc_errors$1.parseRpcError=parseRpcError;function parseResultError(pe){const ge=parseRpcError(pe.status.Failure),Se=new ServerTransactionError;return Object.assign(Se,ge),Se.type=ge.type,Se.message=ge.message,Se.transaction_outcome=pe.transaction_outcome,Se}rpc_errors$1.parseResultError=parseResultError;function formatError(pe,ge){return typeof error_messages_json_1.default[pe]=="string"?mustache_1.default.render(error_messages_json_1.default[pe],Object.assign(Object.assign({},ge),mustacheHelpers)):JSON.stringify(ge)}rpc_errors$1.formatError=formatError;function walkSubtype(pe,ge,Se,Ne){let Ze,Je,Xe;for(const vt in ge){if(isString$2(pe[vt]))return pe[vt];if(isObject$b(pe[vt]))Ze=pe[vt],Je=ge[vt],Xe=vt;else if(isObject$b(pe.kind)&&isObject$b(pe.kind[vt]))Ze=pe.kind[vt],Je=ge[vt],Xe=vt;else continue}if(Ze&&Je){for(const vt of Object.keys(Je.props))Se[vt]=Ze[vt];return walkSubtype(Ze,ge,Se,Xe)}else return Se.kind=pe,Ne}function getErrorTypeFromErrorMessage(pe,ge){switch(!0){case/^account .*? does not exist while viewing$/.test(pe):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(pe):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(pe):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(pe):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(pe):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(pe):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(pe):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(pe):return"InvalidNonce";default:return ge}}rpc_errors$1.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage;function isObject$b(pe){return Object.prototype.toString.call(pe)==="[object Object]"}function isString$2(pe){return Object.prototype.toString.call(pe)==="[object String]"}(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.parseRpcError=pe.parseResultError=pe.getErrorTypeFromErrorMessage=pe.formatError=pe.ServerError=pe.logWarning=void 0;var ge=errors$3;Object.defineProperty(pe,"logWarning",{enumerable:!0,get:function(){return ge.logWarning}});var Se=rpc_errors$1;Object.defineProperty(pe,"ServerError",{enumerable:!0,get:function(){return Se.ServerError}}),Object.defineProperty(pe,"formatError",{enumerable:!0,get:function(){return Se.formatError}}),Object.defineProperty(pe,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return Se.getErrorTypeFromErrorMessage}}),Object.defineProperty(pe,"parseResultError",{enumerable:!0,get:function(){return Se.parseResultError}}),Object.defineProperty(pe,"parseRpcError",{enumerable:!0,get:function(){return Se.parseRpcError}})})(errors$4);var logging={};Object.defineProperty(logging,"__esModule",{value:!0}),logging.printTxOutcomeLogs=logging.printTxOutcomeLogsAndFailures=void 0;const errors_1$1=errors$4,logger_1=logger$2;function printTxOutcomeLogsAndFailures({contractId:pe,outcome:ge}){const Se=[ge.transaction_outcome,...ge.receipts_outcome].reduce((Ne,Ze)=>{const Je=typeof Ze.outcome.status=="object"&&typeof Ze.outcome.status.Failure=="object";return Ze.outcome.logs.length||Je?Ne.concat({receiptIds:Ze.outcome.receipt_ids,logs:Ze.outcome.logs,failure:typeof Ze.outcome.status=="object"&&Ze.outcome.status.Failure!==void 0?(0,errors_1$1.parseRpcError)(Ze.outcome.status.Failure):null}):Ne},[]);for(const Ne of Se)logger_1.Logger.log(`Receipt${Ne.receiptIds.length>1?"s":""}: ${Ne.receiptIds.join(", ")}`),printTxOutcomeLogs({contractId:pe,logs:Ne.logs,prefix:"	"}),Ne.failure&&logger_1.Logger.warn(`	Failure [${pe}]: ${Ne.failure}`)}logging.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures;function printTxOutcomeLogs({contractId:pe,logs:ge,prefix:Se=""}){for(const Ne of ge)logger_1.Logger.log(`${Se}Log [${pe}]: ${Ne}`)}logging.printTxOutcomeLogs=printTxOutcomeLogs;var provider$3={};Object.defineProperty(provider$3,"__esModule",{value:!0}),provider$3.getTransactionLastResult=void 0;function getTransactionLastResult(pe){if(typeof pe.status=="object"&&typeof pe.status.SuccessValue=="string"){const ge=Buffer$F.from(pe.status.SuccessValue,"base64").toString();try{return JSON.parse(ge)}catch{return ge}}return null}provider$3.getTransactionLastResult=getTransactionLastResult;var validators$1={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var browser$g=depd$1;function depd$1(pe){if(!pe)throw new TypeError("argument namespace is required");function ge(Se){}return ge._file=void 0,ge._ignored=!0,ge._namespace=pe,ge._traced=!1,ge._warned=Object.create(null),ge.function=wrapfunction$1,ge.property=wrapproperty$1,ge}function wrapfunction$1(pe,ge){if(typeof pe!="function")throw new TypeError("argument fn must be a function");return pe}function wrapproperty$1(pe,ge,Se){if(!pe||typeof pe!="object"&&typeof pe!="function")throw new TypeError("argument obj must be object");var Ne=Object.getOwnPropertyDescriptor(pe,ge);if(!Ne)throw new TypeError("must call property on owner object");if(!Ne.configurable)throw new TypeError("property must be configurable")}var utils$H={};Object.defineProperty(utils$H,"__esModule",{value:!0}),utils$H.sortBigIntAsc=void 0;function sortBigIntAsc(pe,ge){return pe<ge?-1:pe>ge?1:0}utils$H.sortBigIntAsc=sortBigIntAsc;var __importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}};Object.defineProperty(validators$1,"__esModule",{value:!0}),validators$1.diffEpochValidators=validators$1.findSeatPrice=void 0;const depd_1$1=__importDefault$3(browser$g),utils_1$d=utils$H;function findSeatPrice(pe,ge,Se,Ne){return Ne&&Ne<49?findSeatPriceForProtocolBefore49(pe,ge):(Se||((0,depd_1$1.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),Se=[1,6250]),findSeatPriceForProtocolAfter49(pe,ge,Se))}validators$1.findSeatPrice=findSeatPrice;function findSeatPriceForProtocolBefore49(pe,ge){const Se=pe.map(vt=>BigInt(vt.stake)).sort(utils_1$d.sortBigIntAsc),Ne=BigInt(ge),Ze=Se.reduce((vt,gt)=>vt+gt);if(Ze<Ne)throw new Error("Stakes are below seats");let Je=BigInt(1),Xe=Ze+BigInt(1);for(;Je!==Xe-BigInt(1);){const vt=(Je+Xe)/BigInt(2);let gt=!1,kt=BigInt(0);for(let mt=0;mt<Se.length;++mt)if(kt=kt+Se[mt]/vt,kt>=Ne){Je=vt,gt=!0;break}gt||(Xe=vt)}return Je}function findSeatPriceForProtocolAfter49(pe,ge,Se){if(Se.length!=2)throw Error("minimumStakeRatio should have 2 elements");const Ne=pe.map(Je=>BigInt(Je.stake)).sort(utils_1$d.sortBigIntAsc),Ze=Ne.reduce((Je,Xe)=>Je+Xe);return pe.length<ge?Ze*BigInt(Se[0])/BigInt(Se[1]):Ne[0]+BigInt(1)}function diffEpochValidators(pe,ge){const Se=new Map;pe.forEach(Ze=>Se.set(Ze.account_id,Ze));const Ne=new Set(ge.map(Ze=>Ze.account_id));return{newValidators:ge.filter(Ze=>!Se.has(Ze.account_id)),removedValidators:pe.filter(Ze=>!Ne.has(Ze.account_id)),changedValidators:ge.filter(Ze=>Se.has(Ze.account_id)&&Se.get(Ze.account_id).stake!=Ze.stake).map(Ze=>({current:Se.get(Ze.account_id),next:Ze}))}}validators$1.diffEpochValidators=diffEpochValidators,function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je);var vt=Object.getOwnPropertyDescriptor(Ze,Je);(!vt||("get"in vt?!Ze.__esModule:vt.writable||vt.configurable))&&(vt={enumerable:!0,get:function(){return Ze[Je]}}),Object.defineProperty(Ne,Xe,vt)}:function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je),Ne[Xe]=Ze[Je]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(Ne,Ze){for(var Je in Ne)Je!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,Je)&&ge(Ze,Ne,Je)};Object.defineProperty(pe,"__esModule",{value:!0}),Se(constants$2,pe),Se(errors$4,pe),Se(format$1,pe),Se(logging,pe),Se(provider$3,pe),Se(validators$1,pe),Se(logger$2,pe),Se(utils$H,pe)}(lib$9);var ed25519={},sha512$2={},_sha2$2={},_assert$2={};Object.defineProperty(_assert$2,"__esModule",{value:!0}),_assert$2.output=_assert$2.exists=_assert$2.hash=_assert$2.bytes=_assert$2.bool=_assert$2.number=void 0;function number$2(pe){if(!Number.isSafeInteger(pe)||pe<0)throw new Error(`Wrong positive integer: ${pe}`)}_assert$2.number=number$2;function bool$2(pe){if(typeof pe!="boolean")throw new Error(`Expected boolean, not ${pe}`)}_assert$2.bool=bool$2;function bytes$2(pe,...ge){if(!(pe instanceof Uint8Array))throw new Error("Expected Uint8Array");if(ge.length>0&&!ge.includes(pe.length))throw new Error(`Expected Uint8Array of length ${ge}, not of length=${pe.length}`)}_assert$2.bytes=bytes$2;function hash$6(pe){if(typeof pe!="function"||typeof pe.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(pe.outputLen),number$2(pe.blockLen)}_assert$2.hash=hash$6;function exists$2(pe,ge=!0){if(pe.destroyed)throw new Error("Hash instance has been destroyed");if(ge&&pe.finished)throw new Error("Hash#digest() has already been called")}_assert$2.exists=exists$2;function output$2(pe,ge){bytes$2(pe);const Se=ge.outputLen;if(pe.length<Se)throw new Error(`digestInto() expects output buffer of length at least ${Se}`)}_assert$2.output=output$2;const assert$l={number:number$2,bool:bool$2,bytes:bytes$2,hash:hash$6,exists:exists$2,output:output$2};_assert$2.default=assert$l;var utils$G={},crypto$5={};Object.defineProperty(crypto$5,"__esModule",{value:!0}),crypto$5.crypto=void 0,crypto$5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(pe){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(pe,"__esModule",{value:!0}),pe.randomBytes=pe.wrapXOFConstructorWithOpts=pe.wrapConstructorWithOpts=pe.wrapConstructor=pe.checkOpts=pe.Hash=pe.concatBytes=pe.toBytes=pe.utf8ToBytes=pe.asyncLoop=pe.nextTick=pe.hexToBytes=pe.bytesToHex=pe.isLE=pe.rotr=pe.createView=pe.u32=pe.u8=void 0;const ge=crypto$5,Se=Ur=>Ur instanceof Uint8Array,Ne=Ur=>new Uint8Array(Ur.buffer,Ur.byteOffset,Ur.byteLength);pe.u8=Ne;const Ze=Ur=>new Uint32Array(Ur.buffer,Ur.byteOffset,Math.floor(Ur.byteLength/4));pe.u32=Ze;const Je=Ur=>new DataView(Ur.buffer,Ur.byteOffset,Ur.byteLength);pe.createView=Je;const Xe=(Ur,Yr)=>Ur<<32-Yr|Ur>>>Yr;if(pe.rotr=Xe,pe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!pe.isLE)throw new Error("Non little-endian hardware is not supported");const vt=Array.from({length:256},(Ur,Yr)=>Yr.toString(16).padStart(2,"0"));function gt(Ur){if(!Se(Ur))throw new Error("Uint8Array expected");let Yr="";for(let jr=0;jr<Ur.length;jr++)Yr+=vt[Ur[jr]];return Yr}pe.bytesToHex=gt;function kt(Ur){if(typeof Ur!="string")throw new Error("hex string expected, got "+typeof Ur);const Yr=Ur.length;if(Yr%2)throw new Error("padded hex string expected, got unpadded hex of length "+Yr);const jr=new Uint8Array(Yr/2);for(let Dr=0;Dr<jr.length;Dr++){const Vr=Dr*2,Ir=Ur.slice(Vr,Vr+2),br=Number.parseInt(Ir,16);if(Number.isNaN(br)||br<0)throw new Error("Invalid byte sequence");jr[Dr]=br}return jr}pe.hexToBytes=kt;const mt=async()=>{};pe.nextTick=mt;async function xt(Ur,Yr,jr){let Dr=Date.now();for(let Vr=0;Vr<Ur;Vr++){jr(Vr);const Ir=Date.now()-Dr;Ir>=0&&Ir<Yr||(await(0,pe.nextTick)(),Dr+=Ir)}}pe.asyncLoop=xt;function fr(Ur){if(typeof Ur!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Ur}`);return new Uint8Array(new TextEncoder().encode(Ur))}pe.utf8ToBytes=fr;function ar(Ur){if(typeof Ur=="string"&&(Ur=fr(Ur)),!Se(Ur))throw new Error(`expected Uint8Array, got ${typeof Ur}`);return Ur}pe.toBytes=ar;function gr(...Ur){const Yr=new Uint8Array(Ur.reduce((Dr,Vr)=>Dr+Vr.length,0));let jr=0;return Ur.forEach(Dr=>{if(!Se(Dr))throw new Error("Uint8Array expected");Yr.set(Dr,jr),jr+=Dr.length}),Yr}pe.concatBytes=gr;class wr{clone(){return this._cloneInto()}}pe.Hash=wr;const Er={}.toString;function _r(Ur,Yr){if(Yr!==void 0&&Er.call(Yr)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(Ur,Yr)}pe.checkOpts=_r;function Sr(Ur){const Yr=Dr=>Ur().update(ar(Dr)).digest(),jr=Ur();return Yr.outputLen=jr.outputLen,Yr.blockLen=jr.blockLen,Yr.create=()=>Ur(),Yr}pe.wrapConstructor=Sr;function Or(Ur){const Yr=(Dr,Vr)=>Ur(Vr).update(ar(Dr)).digest(),jr=Ur({});return Yr.outputLen=jr.outputLen,Yr.blockLen=jr.blockLen,Yr.create=Dr=>Ur(Dr),Yr}pe.wrapConstructorWithOpts=Or;function Pr(Ur){const Yr=(Dr,Vr)=>Ur(Vr).update(ar(Dr)).digest(),jr=Ur({});return Yr.outputLen=jr.outputLen,Yr.blockLen=jr.blockLen,Yr.create=Dr=>Ur(Dr),Yr}pe.wrapXOFConstructorWithOpts=Pr;function kr(Ur=32){if(ge.crypto&&typeof ge.crypto.getRandomValues=="function")return ge.crypto.getRandomValues(new Uint8Array(Ur));throw new Error("crypto.getRandomValues must be defined")}pe.randomBytes=kr}(utils$G),Object.defineProperty(_sha2$2,"__esModule",{value:!0}),_sha2$2.SHA2=void 0;const _assert_js_1$2=_assert$2,utils_js_1$a=utils$G;function setBigUint64$2(pe,ge,Se,Ne){if(typeof pe.setBigUint64=="function")return pe.setBigUint64(ge,Se,Ne);const Ze=BigInt(32),Je=BigInt(4294967295),Xe=Number(Se>>Ze&Je),vt=Number(Se&Je),gt=Ne?4:0,kt=Ne?0:4;pe.setUint32(ge+gt,Xe,Ne),pe.setUint32(ge+kt,vt,Ne)}let SHA2$2=class extends utils_js_1$a.Hash{constructor(ge,Se,Ne,Ze){super(),this.blockLen=ge,this.outputLen=Se,this.padOffset=Ne,this.isLE=Ze,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ge),this.view=(0,utils_js_1$a.createView)(this.buffer)}update(ge){(0,_assert_js_1$2.exists)(this);const{view:Se,buffer:Ne,blockLen:Ze}=this;ge=(0,utils_js_1$a.toBytes)(ge);const Je=ge.length;for(let Xe=0;Xe<Je;){const vt=Math.min(Ze-this.pos,Je-Xe);if(vt===Ze){const gt=(0,utils_js_1$a.createView)(ge);for(;Ze<=Je-Xe;Xe+=Ze)this.process(gt,Xe);continue}Ne.set(ge.subarray(Xe,Xe+vt),this.pos),this.pos+=vt,Xe+=vt,this.pos===Ze&&(this.process(Se,0),this.pos=0)}return this.length+=ge.length,this.roundClean(),this}digestInto(ge){(0,_assert_js_1$2.exists)(this),(0,_assert_js_1$2.output)(ge,this),this.finished=!0;const{buffer:Se,view:Ne,blockLen:Ze,isLE:Je}=this;let{pos:Xe}=this;Se[Xe++]=128,this.buffer.subarray(Xe).fill(0),this.padOffset>Ze-Xe&&(this.process(Ne,0),Xe=0);for(let xt=Xe;xt<Ze;xt++)Se[xt]=0;setBigUint64$2(Ne,Ze-8,BigInt(this.length*8),Je),this.process(Ne,0);const vt=(0,utils_js_1$a.createView)(ge),gt=this.outputLen;if(gt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const kt=gt/4,mt=this.get();if(kt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let xt=0;xt<kt;xt++)vt.setUint32(4*xt,mt[xt],Je)}digest(){const{buffer:ge,outputLen:Se}=this;this.digestInto(ge);const Ne=ge.slice(0,Se);return this.destroy(),Ne}_cloneInto(ge){ge||(ge=new this.constructor),ge.set(...this.get());const{blockLen:Se,buffer:Ne,length:Ze,finished:Je,destroyed:Xe,pos:vt}=this;return ge.length=Ze,ge.pos=vt,ge.finished=Je,ge.destroyed=Xe,Ze%Se&&ge.buffer.set(Ne),ge}};_sha2$2.SHA2=SHA2$2;var _u64={};Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(pe,ge=!1){return ge?{h:Number(pe&U32_MASK64),l:Number(pe>>_32n&U32_MASK64)}:{h:Number(pe>>_32n&U32_MASK64)|0,l:Number(pe&U32_MASK64)|0}}_u64.fromBig=fromBig;function split$1(pe,ge=!1){let Se=new Uint32Array(pe.length),Ne=new Uint32Array(pe.length);for(let Ze=0;Ze<pe.length;Ze++){const{h:Je,l:Xe}=fromBig(pe[Ze],ge);[Se[Ze],Ne[Ze]]=[Je,Xe]}return[Se,Ne]}_u64.split=split$1;const toBig=(pe,ge)=>BigInt(pe>>>0)<<_32n|BigInt(ge>>>0);_u64.toBig=toBig;const shrSH=(pe,ge,Se)=>pe>>>Se;_u64.shrSH=shrSH;const shrSL=(pe,ge,Se)=>pe<<32-Se|ge>>>Se;_u64.shrSL=shrSL;const rotrSH=(pe,ge,Se)=>pe>>>Se|ge<<32-Se;_u64.rotrSH=rotrSH;const rotrSL=(pe,ge,Se)=>pe<<32-Se|ge>>>Se;_u64.rotrSL=rotrSL;const rotrBH=(pe,ge,Se)=>pe<<64-Se|ge>>>Se-32;_u64.rotrBH=rotrBH;const rotrBL=(pe,ge,Se)=>pe>>>Se-32|ge<<64-Se;_u64.rotrBL=rotrBL;const rotr32H=(pe,ge)=>ge;_u64.rotr32H=rotr32H;const rotr32L=(pe,ge)=>pe;_u64.rotr32L=rotr32L;const rotlSH=(pe,ge,Se)=>pe<<Se|ge>>>32-Se;_u64.rotlSH=rotlSH;const rotlSL=(pe,ge,Se)=>ge<<Se|pe>>>32-Se;_u64.rotlSL=rotlSL;const rotlBH=(pe,ge,Se)=>ge<<Se-32|pe>>>64-Se;_u64.rotlBH=rotlBH;const rotlBL=(pe,ge,Se)=>pe<<Se-32|ge>>>64-Se;_u64.rotlBL=rotlBL;function add(pe,ge,Se,Ne){const Ze=(ge>>>0)+(Ne>>>0);return{h:pe+Se+(Ze/2**32|0)|0,l:Ze|0}}_u64.add=add;const add3L=(pe,ge,Se)=>(pe>>>0)+(ge>>>0)+(Se>>>0);_u64.add3L=add3L;const add3H=(pe,ge,Se,Ne)=>ge+Se+Ne+(pe/2**32|0)|0;_u64.add3H=add3H;const add4L=(pe,ge,Se,Ne)=>(pe>>>0)+(ge>>>0)+(Se>>>0)+(Ne>>>0);_u64.add4L=add4L;const add4H=(pe,ge,Se,Ne,Ze)=>ge+Se+Ne+Ze+(pe/2**32|0)|0;_u64.add4H=add4H;const add5L=(pe,ge,Se,Ne,Ze)=>(pe>>>0)+(ge>>>0)+(Se>>>0)+(Ne>>>0)+(Ze>>>0);_u64.add5L=add5L;const add5H=(pe,ge,Se,Ne,Ze,Je)=>ge+Se+Ne+Ze+Je+(pe/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig,split:split$1,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64,Object.defineProperty(sha512$2,"__esModule",{value:!0}),sha512$2.sha384=sha512$2.sha512_256=sha512$2.sha512_224=sha512$2.sha512=sha512$2.SHA512=void 0;const _sha2_js_1$2=_sha2$2,_u64_js_1=_u64,utils_js_1$9=utils$G,[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(pe=>BigInt(pe))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);let SHA512$3=class extends _sha2_js_1$2.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:ge,Al:Se,Bh:Ne,Bl:Ze,Ch:Je,Cl:Xe,Dh:vt,Dl:gt,Eh:kt,El:mt,Fh:xt,Fl:fr,Gh:ar,Gl:gr,Hh:wr,Hl:Er}=this;return[ge,Se,Ne,Ze,Je,Xe,vt,gt,kt,mt,xt,fr,ar,gr,wr,Er]}set(ge,Se,Ne,Ze,Je,Xe,vt,gt,kt,mt,xt,fr,ar,gr,wr,Er){this.Ah=ge|0,this.Al=Se|0,this.Bh=Ne|0,this.Bl=Ze|0,this.Ch=Je|0,this.Cl=Xe|0,this.Dh=vt|0,this.Dl=gt|0,this.Eh=kt|0,this.El=mt|0,this.Fh=xt|0,this.Fl=fr|0,this.Gh=ar|0,this.Gl=gr|0,this.Hh=wr|0,this.Hl=Er|0}process(ge,Se){for(let Or=0;Or<16;Or++,Se+=4)SHA512_W_H[Or]=ge.getUint32(Se),SHA512_W_L[Or]=ge.getUint32(Se+=4);for(let Or=16;Or<80;Or++){const Pr=SHA512_W_H[Or-15]|0,kr=SHA512_W_L[Or-15]|0,Ur=_u64_js_1.default.rotrSH(Pr,kr,1)^_u64_js_1.default.rotrSH(Pr,kr,8)^_u64_js_1.default.shrSH(Pr,kr,7),Yr=_u64_js_1.default.rotrSL(Pr,kr,1)^_u64_js_1.default.rotrSL(Pr,kr,8)^_u64_js_1.default.shrSL(Pr,kr,7),jr=SHA512_W_H[Or-2]|0,Dr=SHA512_W_L[Or-2]|0,Vr=_u64_js_1.default.rotrSH(jr,Dr,19)^_u64_js_1.default.rotrBH(jr,Dr,61)^_u64_js_1.default.shrSH(jr,Dr,6),Ir=_u64_js_1.default.rotrSL(jr,Dr,19)^_u64_js_1.default.rotrBL(jr,Dr,61)^_u64_js_1.default.shrSL(jr,Dr,6),br=_u64_js_1.default.add4L(Yr,Ir,SHA512_W_L[Or-7],SHA512_W_L[Or-16]),Vt=_u64_js_1.default.add4H(br,Ur,Vr,SHA512_W_H[Or-7],SHA512_W_H[Or-16]);SHA512_W_H[Or]=Vt|0,SHA512_W_L[Or]=br|0}let{Ah:Ne,Al:Ze,Bh:Je,Bl:Xe,Ch:vt,Cl:gt,Dh:kt,Dl:mt,Eh:xt,El:fr,Fh:ar,Fl:gr,Gh:wr,Gl:Er,Hh:_r,Hl:Sr}=this;for(let Or=0;Or<80;Or++){const Pr=_u64_js_1.default.rotrSH(xt,fr,14)^_u64_js_1.default.rotrSH(xt,fr,18)^_u64_js_1.default.rotrBH(xt,fr,41),kr=_u64_js_1.default.rotrSL(xt,fr,14)^_u64_js_1.default.rotrSL(xt,fr,18)^_u64_js_1.default.rotrBL(xt,fr,41),Ur=xt&ar^~xt&wr,Yr=fr&gr^~fr&Er,jr=_u64_js_1.default.add5L(Sr,kr,Yr,SHA512_Kl[Or],SHA512_W_L[Or]),Dr=_u64_js_1.default.add5H(jr,_r,Pr,Ur,SHA512_Kh[Or],SHA512_W_H[Or]),Vr=jr|0,Ir=_u64_js_1.default.rotrSH(Ne,Ze,28)^_u64_js_1.default.rotrBH(Ne,Ze,34)^_u64_js_1.default.rotrBH(Ne,Ze,39),br=_u64_js_1.default.rotrSL(Ne,Ze,28)^_u64_js_1.default.rotrBL(Ne,Ze,34)^_u64_js_1.default.rotrBL(Ne,Ze,39),Vt=Ne&Je^Ne&vt^Je&vt,ht=Ze&Xe^Ze&gt^Xe&gt;_r=wr|0,Sr=Er|0,wr=ar|0,Er=gr|0,ar=xt|0,gr=fr|0,{h:xt,l:fr}=_u64_js_1.default.add(kt|0,mt|0,Dr|0,Vr|0),kt=vt|0,mt=gt|0,vt=Je|0,gt=Xe|0,Je=Ne|0,Xe=Ze|0;const Ct=_u64_js_1.default.add3L(Vr,br,ht);Ne=_u64_js_1.default.add3H(Ct,Dr,Ir,Vt),Ze=Ct|0}({h:Ne,l:Ze}=_u64_js_1.default.add(this.Ah|0,this.Al|0,Ne|0,Ze|0)),{h:Je,l:Xe}=_u64_js_1.default.add(this.Bh|0,this.Bl|0,Je|0,Xe|0),{h:vt,l:gt}=_u64_js_1.default.add(this.Ch|0,this.Cl|0,vt|0,gt|0),{h:kt,l:mt}=_u64_js_1.default.add(this.Dh|0,this.Dl|0,kt|0,mt|0),{h:xt,l:fr}=_u64_js_1.default.add(this.Eh|0,this.El|0,xt|0,fr|0),{h:ar,l:gr}=_u64_js_1.default.add(this.Fh|0,this.Fl|0,ar|0,gr|0),{h:wr,l:Er}=_u64_js_1.default.add(this.Gh|0,this.Gl|0,wr|0,Er|0),{h:_r,l:Sr}=_u64_js_1.default.add(this.Hh|0,this.Hl|0,_r|0,Sr|0),this.set(Ne,Ze,Je,Xe,vt,gt,kt,mt,xt,fr,ar,gr,wr,Er,_r,Sr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};sha512$2.SHA512=SHA512$3;class SHA512_224 extends SHA512$3{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512$3{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}let SHA384$1=class extends SHA512$3{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};sha512$2.sha512=(0,utils_js_1$9.wrapConstructor)(()=>new SHA512$3),sha512$2.sha512_224=(0,utils_js_1$9.wrapConstructor)(()=>new SHA512_224),sha512$2.sha512_256=(0,utils_js_1$9.wrapConstructor)(()=>new SHA512_256),sha512$2.sha384=(0,utils_js_1$9.wrapConstructor)(()=>new SHA384$1);var edwards$1={},modular={},utils$F={};Object.defineProperty(utils$F,"__esModule",{value:!0}),utils$F.validateObject=utils$F.createHmacDrbg=utils$F.bitMask=utils$F.bitSet=utils$F.bitGet=utils$F.bitLen=utils$F.utf8ToBytes=utils$F.equalBytes=utils$F.concatBytes=utils$F.ensureBytes=utils$F.numberToVarBytesBE=utils$F.numberToBytesLE=utils$F.numberToBytesBE=utils$F.bytesToNumberLE=utils$F.bytesToNumberBE=utils$F.hexToBytes=utils$F.hexToNumber=utils$F.numberToHexUnpadded=utils$F.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=pe=>pe instanceof Uint8Array,hexes=Array.from({length:256},(pe,ge)=>ge.toString(16).padStart(2,"0"));function bytesToHex(pe){if(!u8a(pe))throw new Error("Uint8Array expected");let ge="";for(let Se=0;Se<pe.length;Se++)ge+=hexes[pe[Se]];return ge}utils$F.bytesToHex=bytesToHex;function numberToHexUnpadded(pe){const ge=pe.toString(16);return ge.length&1?`0${ge}`:ge}utils$F.numberToHexUnpadded=numberToHexUnpadded;function hexToNumber(pe){if(typeof pe!="string")throw new Error("hex string expected, got "+typeof pe);return BigInt(pe===""?"0":`0x${pe}`)}utils$F.hexToNumber=hexToNumber;function hexToBytes(pe){if(typeof pe!="string")throw new Error("hex string expected, got "+typeof pe);const ge=pe.length;if(ge%2)throw new Error("padded hex string expected, got unpadded hex of length "+ge);const Se=new Uint8Array(ge/2);for(let Ne=0;Ne<Se.length;Ne++){const Ze=Ne*2,Je=pe.slice(Ze,Ze+2),Xe=Number.parseInt(Je,16);if(Number.isNaN(Xe)||Xe<0)throw new Error("Invalid byte sequence");Se[Ne]=Xe}return Se}utils$F.hexToBytes=hexToBytes;function bytesToNumberBE(pe){return hexToNumber(bytesToHex(pe))}utils$F.bytesToNumberBE=bytesToNumberBE;function bytesToNumberLE(pe){if(!u8a(pe))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(pe).reverse()))}utils$F.bytesToNumberLE=bytesToNumberLE;function numberToBytesBE(pe,ge){return hexToBytes(pe.toString(16).padStart(ge*2,"0"))}utils$F.numberToBytesBE=numberToBytesBE;function numberToBytesLE(pe,ge){return numberToBytesBE(pe,ge).reverse()}utils$F.numberToBytesLE=numberToBytesLE;function numberToVarBytesBE(pe){return hexToBytes(numberToHexUnpadded(pe))}utils$F.numberToVarBytesBE=numberToVarBytesBE;function ensureBytes(pe,ge,Se){let Ne;if(typeof ge=="string")try{Ne=hexToBytes(ge)}catch(Je){throw new Error(`${pe} must be valid hex string, got "${ge}". Cause: ${Je}`)}else if(u8a(ge))Ne=Uint8Array.from(ge);else throw new Error(`${pe} must be hex string or Uint8Array`);const Ze=Ne.length;if(typeof Se=="number"&&Ze!==Se)throw new Error(`${pe} expected ${Se} bytes, got ${Ze}`);return Ne}utils$F.ensureBytes=ensureBytes;function concatBytes(...pe){const ge=new Uint8Array(pe.reduce((Ne,Ze)=>Ne+Ze.length,0));let Se=0;return pe.forEach(Ne=>{if(!u8a(Ne))throw new Error("Uint8Array expected");ge.set(Ne,Se),Se+=Ne.length}),ge}utils$F.concatBytes=concatBytes;function equalBytes(pe,ge){if(pe.length!==ge.length)return!1;for(let Se=0;Se<pe.length;Se++)if(pe[Se]!==ge[Se])return!1;return!0}utils$F.equalBytes=equalBytes;function utf8ToBytes(pe){if(typeof pe!="string")throw new Error(`utf8ToBytes expected string, got ${typeof pe}`);return new Uint8Array(new TextEncoder().encode(pe))}utils$F.utf8ToBytes=utf8ToBytes;function bitLen(pe){let ge;for(ge=0;pe>_0n$4;pe>>=_1n$4,ge+=1);return ge}utils$F.bitLen=bitLen;function bitGet(pe,ge){return pe>>BigInt(ge)&_1n$4}utils$F.bitGet=bitGet;const bitSet=(pe,ge,Se)=>pe|(Se?_1n$4:_0n$4)<<BigInt(ge);utils$F.bitSet=bitSet;const bitMask=pe=>(_2n$2<<BigInt(pe-1))-_1n$4;utils$F.bitMask=bitMask;const u8n=pe=>new Uint8Array(pe),u8fr=pe=>Uint8Array.from(pe);function createHmacDrbg(pe,ge,Se){if(typeof pe!="number"||pe<2)throw new Error("hashLen must be a number");if(typeof ge!="number"||ge<2)throw new Error("qByteLen must be a number");if(typeof Se!="function")throw new Error("hmacFn must be a function");let Ne=u8n(pe),Ze=u8n(pe),Je=0;const Xe=()=>{Ne.fill(1),Ze.fill(0),Je=0},vt=(...xt)=>Se(Ze,Ne,...xt),gt=(xt=u8n())=>{Ze=vt(u8fr([0]),xt),Ne=vt(),xt.length!==0&&(Ze=vt(u8fr([1]),xt),Ne=vt())},kt=()=>{if(Je++>=1e3)throw new Error("drbg: tried 1000 values");let xt=0;const fr=[];for(;xt<ge;){Ne=vt();const ar=Ne.slice();fr.push(ar),xt+=Ne.length}return concatBytes(...fr)};return(xt,fr)=>{Xe(),gt(xt);let ar;for(;!(ar=fr(kt()));)gt();return Xe(),ar}}utils$F.createHmacDrbg=createHmacDrbg;const validatorFns={bigint:pe=>typeof pe=="bigint",function:pe=>typeof pe=="function",boolean:pe=>typeof pe=="boolean",string:pe=>typeof pe=="string",stringOrUint8Array:pe=>typeof pe=="string"||pe instanceof Uint8Array,isSafeInteger:pe=>Number.isSafeInteger(pe),array:pe=>Array.isArray(pe),field:(pe,ge)=>ge.Fp.isValid(pe),hash:pe=>typeof pe=="function"&&Number.isSafeInteger(pe.outputLen)};function validateObject(pe,ge,Se={}){const Ne=(Ze,Je,Xe)=>{const vt=validatorFns[Je];if(typeof vt!="function")throw new Error(`Invalid validator "${Je}", expected function`);const gt=pe[Ze];if(!(Xe&&gt===void 0)&&!vt(gt,pe))throw new Error(`Invalid param ${String(Ze)}=${gt} (${typeof gt}), expected ${Je}`)};for(const[Ze,Je]of Object.entries(ge))Ne(Ze,Je,!1);for(const[Ze,Je]of Object.entries(Se))Ne(Ze,Je,!0);return pe}utils$F.validateObject=validateObject,Object.defineProperty(modular,"__esModule",{value:!0}),modular.mapHashToField=modular.getMinHashLength=modular.getFieldBytesLength=modular.hashToPrivateScalar=modular.FpSqrtEven=modular.FpSqrtOdd=modular.Field=modular.nLength=modular.FpIsSquare=modular.FpDiv=modular.FpInvertBatch=modular.FpPow=modular.validateField=modular.isNegativeLE=modular.FpSqrt=modular.tonelliShanks=modular.invert=modular.pow2=modular.pow=modular.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const utils_js_1$8=utils$F,_0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n$1=BigInt(8);BigInt(9),BigInt(16);function mod(pe,ge){const Se=pe%ge;return Se>=_0n$3?Se:ge+Se}modular.mod=mod;function pow$2(pe,ge,Se){if(Se<=_0n$3||ge<_0n$3)throw new Error("Expected power/modulo > 0");if(Se===_1n$3)return _0n$3;let Ne=_1n$3;for(;ge>_0n$3;)ge&_1n$3&&(Ne=Ne*pe%Se),pe=pe*pe%Se,ge>>=_1n$3;return Ne}modular.pow=pow$2;function pow2(pe,ge,Se){let Ne=pe;for(;ge-- >_0n$3;)Ne*=Ne,Ne%=Se;return Ne}modular.pow2=pow2;function invert(pe,ge){if(pe===_0n$3||ge<=_0n$3)throw new Error(`invert: expected positive integers, got n=${pe} mod=${ge}`);let Se=mod(pe,ge),Ne=ge,Ze=_0n$3,Je=_1n$3;for(;Se!==_0n$3;){const vt=Ne/Se,gt=Ne%Se,kt=Ze-Je*vt;Ne=Se,Se=gt,Ze=Je,Je=kt}if(Ne!==_1n$3)throw new Error("invert: does not exist");return mod(Ze,ge)}modular.invert=invert;function tonelliShanks(pe){const ge=(pe-_1n$3)/_2n$1;let Se,Ne,Ze;for(Se=pe-_1n$3,Ne=0;Se%_2n$1===_0n$3;Se/=_2n$1,Ne++);for(Ze=_2n$1;Ze<pe&&pow$2(Ze,ge,pe)!==pe-_1n$3;Ze++);if(Ne===1){const Xe=(pe+_1n$3)/_4n;return function(gt,kt){const mt=gt.pow(kt,Xe);if(!gt.eql(gt.sqr(mt),kt))throw new Error("Cannot find square root");return mt}}const Je=(Se+_1n$3)/_2n$1;return function(vt,gt){if(vt.pow(gt,ge)===vt.neg(vt.ONE))throw new Error("Cannot find square root");let kt=Ne,mt=vt.pow(vt.mul(vt.ONE,Ze),Se),xt=vt.pow(gt,Je),fr=vt.pow(gt,Se);for(;!vt.eql(fr,vt.ONE);){if(vt.eql(fr,vt.ZERO))return vt.ZERO;let ar=1;for(let wr=vt.sqr(fr);ar<kt&&!vt.eql(wr,vt.ONE);ar++)wr=vt.sqr(wr);const gr=vt.pow(mt,_1n$3<<BigInt(kt-ar-1));mt=vt.sqr(gr),xt=vt.mul(xt,gr),fr=vt.mul(fr,mt),kt=ar}return xt}}modular.tonelliShanks=tonelliShanks;function FpSqrt(pe){if(pe%_4n===_3n){const ge=(pe+_1n$3)/_4n;return function(Ne,Ze){const Je=Ne.pow(Ze,ge);if(!Ne.eql(Ne.sqr(Je),Ze))throw new Error("Cannot find square root");return Je}}if(pe%_8n$1===_5n){const ge=(pe-_5n)/_8n$1;return function(Ne,Ze){const Je=Ne.mul(Ze,_2n$1),Xe=Ne.pow(Je,ge),vt=Ne.mul(Ze,Xe),gt=Ne.mul(Ne.mul(vt,_2n$1),Xe),kt=Ne.mul(vt,Ne.sub(gt,Ne.ONE));if(!Ne.eql(Ne.sqr(kt),Ze))throw new Error("Cannot find square root");return kt}}return tonelliShanks(pe)}modular.FpSqrt=FpSqrt;const isNegativeLE=(pe,ge)=>(mod(pe,ge)&_1n$3)===_1n$3;modular.isNegativeLE=isNegativeLE;const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(pe){const ge={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Se=FIELD_FIELDS.reduce((Ne,Ze)=>(Ne[Ze]="function",Ne),ge);return(0,utils_js_1$8.validateObject)(pe,Se)}modular.validateField=validateField;function FpPow(pe,ge,Se){if(Se<_0n$3)throw new Error("Expected power > 0");if(Se===_0n$3)return pe.ONE;if(Se===_1n$3)return ge;let Ne=pe.ONE,Ze=ge;for(;Se>_0n$3;)Se&_1n$3&&(Ne=pe.mul(Ne,Ze)),Ze=pe.sqr(Ze),Se>>=_1n$3;return Ne}modular.FpPow=FpPow;function FpInvertBatch(pe,ge){const Se=new Array(ge.length),Ne=ge.reduce((Je,Xe,vt)=>pe.is0(Xe)?Je:(Se[vt]=Je,pe.mul(Je,Xe)),pe.ONE),Ze=pe.inv(Ne);return ge.reduceRight((Je,Xe,vt)=>pe.is0(Xe)?Je:(Se[vt]=pe.mul(Je,Se[vt]),pe.mul(Je,Xe)),Ze),Se}modular.FpInvertBatch=FpInvertBatch;function FpDiv(pe,ge,Se){return pe.mul(ge,typeof Se=="bigint"?invert(Se,pe.ORDER):pe.inv(Se))}modular.FpDiv=FpDiv;function FpIsSquare(pe){const ge=(pe.ORDER-_1n$3)/_2n$1;return Se=>{const Ne=pe.pow(Se,ge);return pe.eql(Ne,pe.ZERO)||pe.eql(Ne,pe.ONE)}}modular.FpIsSquare=FpIsSquare;function nLength(pe,ge){const Se=ge!==void 0?ge:pe.toString(2).length,Ne=Math.ceil(Se/8);return{nBitLength:Se,nByteLength:Ne}}modular.nLength=nLength;function Field(pe,ge,Se=!1,Ne={}){if(pe<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${pe}`);const{nBitLength:Ze,nByteLength:Je}=nLength(pe,ge);if(Je>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Xe=FpSqrt(pe),vt=Object.freeze({ORDER:pe,BITS:Ze,BYTES:Je,MASK:(0,utils_js_1$8.bitMask)(Ze),ZERO:_0n$3,ONE:_1n$3,create:gt=>mod(gt,pe),isValid:gt=>{if(typeof gt!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof gt}`);return _0n$3<=gt&&gt<pe},is0:gt=>gt===_0n$3,isOdd:gt=>(gt&_1n$3)===_1n$3,neg:gt=>mod(-gt,pe),eql:(gt,kt)=>gt===kt,sqr:gt=>mod(gt*gt,pe),add:(gt,kt)=>mod(gt+kt,pe),sub:(gt,kt)=>mod(gt-kt,pe),mul:(gt,kt)=>mod(gt*kt,pe),pow:(gt,kt)=>FpPow(vt,gt,kt),div:(gt,kt)=>mod(gt*invert(kt,pe),pe),sqrN:gt=>gt*gt,addN:(gt,kt)=>gt+kt,subN:(gt,kt)=>gt-kt,mulN:(gt,kt)=>gt*kt,inv:gt=>invert(gt,pe),sqrt:Ne.sqrt||(gt=>Xe(vt,gt)),invertBatch:gt=>FpInvertBatch(vt,gt),cmov:(gt,kt,mt)=>mt?kt:gt,toBytes:gt=>Se?(0,utils_js_1$8.numberToBytesLE)(gt,Je):(0,utils_js_1$8.numberToBytesBE)(gt,Je),fromBytes:gt=>{if(gt.length!==Je)throw new Error(`Fp.fromBytes: expected ${Je}, got ${gt.length}`);return Se?(0,utils_js_1$8.bytesToNumberLE)(gt):(0,utils_js_1$8.bytesToNumberBE)(gt)}});return Object.freeze(vt)}modular.Field=Field;function FpSqrtOdd(pe,ge){if(!pe.isOdd)throw new Error("Field doesn't have isOdd");const Se=pe.sqrt(ge);return pe.isOdd(Se)?Se:pe.neg(Se)}modular.FpSqrtOdd=FpSqrtOdd;function FpSqrtEven(pe,ge){if(!pe.isOdd)throw new Error("Field doesn't have isOdd");const Se=pe.sqrt(ge);return pe.isOdd(Se)?pe.neg(Se):Se}modular.FpSqrtEven=FpSqrtEven;function hashToPrivateScalar(pe,ge,Se=!1){pe=(0,utils_js_1$8.ensureBytes)("privateHash",pe);const Ne=pe.length,Ze=nLength(ge).nByteLength+8;if(Ze<24||Ne<Ze||Ne>1024)throw new Error(`hashToPrivateScalar: expected ${Ze}-1024 bytes of input, got ${Ne}`);const Je=Se?(0,utils_js_1$8.bytesToNumberLE)(pe):(0,utils_js_1$8.bytesToNumberBE)(pe);return mod(Je,ge-_1n$3)+_1n$3}modular.hashToPrivateScalar=hashToPrivateScalar;function getFieldBytesLength(pe){if(typeof pe!="bigint")throw new Error("field order must be bigint");const ge=pe.toString(2).length;return Math.ceil(ge/8)}modular.getFieldBytesLength=getFieldBytesLength;function getMinHashLength(pe){const ge=getFieldBytesLength(pe);return ge+Math.ceil(ge/2)}modular.getMinHashLength=getMinHashLength;function mapHashToField(pe,ge,Se=!1){const Ne=pe.length,Ze=getFieldBytesLength(ge),Je=getMinHashLength(ge);if(Ne<16||Ne<Je||Ne>1024)throw new Error(`expected ${Je}-1024 bytes of input, got ${Ne}`);const Xe=Se?(0,utils_js_1$8.bytesToNumberBE)(pe):(0,utils_js_1$8.bytesToNumberLE)(pe),vt=mod(Xe,ge-_1n$3)+_1n$3;return Se?(0,utils_js_1$8.numberToBytesLE)(vt,Ze):(0,utils_js_1$8.numberToBytesBE)(vt,Ze)}modular.mapHashToField=mapHashToField;var curve$1={};Object.defineProperty(curve$1,"__esModule",{value:!0}),curve$1.validateBasic=curve$1.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$3=modular,utils_js_1$7=utils$F,_0n$2=BigInt(0),_1n$2=BigInt(1);function wNAF(pe,ge){const Se=(Ze,Je)=>{const Xe=Je.negate();return Ze?Xe:Je},Ne=Ze=>{const Je=Math.ceil(ge/Ze)+1,Xe=2**(Ze-1);return{windows:Je,windowSize:Xe}};return{constTimeNegate:Se,unsafeLadder(Ze,Je){let Xe=pe.ZERO,vt=Ze;for(;Je>_0n$2;)Je&_1n$2&&(Xe=Xe.add(vt)),vt=vt.double(),Je>>=_1n$2;return Xe},precomputeWindow(Ze,Je){const{windows:Xe,windowSize:vt}=Ne(Je),gt=[];let kt=Ze,mt=kt;for(let xt=0;xt<Xe;xt++){mt=kt,gt.push(mt);for(let fr=1;fr<vt;fr++)mt=mt.add(kt),gt.push(mt);kt=mt.double()}return gt},wNAF(Ze,Je,Xe){const{windows:vt,windowSize:gt}=Ne(Ze);let kt=pe.ZERO,mt=pe.BASE;const xt=BigInt(2**Ze-1),fr=2**Ze,ar=BigInt(Ze);for(let gr=0;gr<vt;gr++){const wr=gr*gt;let Er=Number(Xe&xt);Xe>>=ar,Er>gt&&(Er-=fr,Xe+=_1n$2);const _r=wr,Sr=wr+Math.abs(Er)-1,Or=gr%2!==0,Pr=Er<0;Er===0?mt=mt.add(Se(Or,Je[_r])):kt=kt.add(Se(Pr,Je[Sr]))}return{p:kt,f:mt}},wNAFCached(Ze,Je,Xe,vt){const gt=Ze._WINDOW_SIZE||1;let kt=Je.get(Ze);return kt||(kt=this.precomputeWindow(Ze,gt),gt!==1&&Je.set(Ze,vt(kt))),this.wNAF(gt,kt,Xe)}}}curve$1.wNAF=wNAF;function validateBasic(pe){return(0,modular_js_1$3.validateField)(pe.Fp),(0,utils_js_1$7.validateObject)(pe,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,modular_js_1$3.nLength)(pe.n,pe.nBitLength),...pe,p:pe.Fp.ORDER})}curve$1.validateBasic=validateBasic,Object.defineProperty(edwards$1,"__esModule",{value:!0}),edwards$1.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$2=modular,ut$1=utils$F,utils_js_1$6=utils$F,curve_js_1=curve$1,_0n$1=BigInt(0),_1n$1=BigInt(1),_2n=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(pe){const ge=(0,curve_js_1.validateBasic)(pe);return ut$1.validateObject(pe,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ge})}function twistedEdwards(pe){const ge=validateOpts$1(pe),{Fp:Se,n:Ne,prehash:Ze,hash:Je,randomBytes:Xe,nByteLength:vt,h:gt}=ge,kt=_2n<<BigInt(vt*8)-_1n$1,mt=Se.create,xt=ge.uvRatio||((lr,vr)=>{try{return{isValid:!0,value:Se.sqrt(lr*Se.inv(vr))}}catch{return{isValid:!1,value:_0n$1}}}),fr=ge.adjustScalarBytes||(lr=>lr),ar=ge.domain||((lr,vr,tr)=>{if(vr.length||tr)throw new Error("Contexts/pre-hash are not supported");return lr}),gr=lr=>typeof lr=="bigint"&&_0n$1<lr,wr=(lr,vr)=>gr(lr)&&gr(vr)&&lr<vr,Er=lr=>lr===_0n$1||wr(lr,kt);function _r(lr,vr){if(wr(lr,vr))return lr;throw new Error(`Expected valid scalar < ${vr}, got ${typeof lr} ${lr}`)}function Sr(lr){return lr===_0n$1?lr:_r(lr,Ne)}const Or=new Map;function Pr(lr){if(!(lr instanceof kr))throw new Error("ExtendedPoint expected")}class kr{constructor(vr,tr,ur,Ft){if(this.ex=vr,this.ey=tr,this.ez=ur,this.et=Ft,!Er(vr))throw new Error("x required");if(!Er(tr))throw new Error("y required");if(!Er(ur))throw new Error("z required");if(!Er(Ft))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(vr){if(vr instanceof kr)throw new Error("extended point not allowed");const{x:tr,y:ur}=vr||{};if(!Er(tr)||!Er(ur))throw new Error("invalid affine point");return new kr(tr,ur,_1n$1,mt(tr*ur))}static normalizeZ(vr){const tr=Se.invertBatch(vr.map(ur=>ur.ez));return vr.map((ur,Ft)=>ur.toAffine(tr[Ft])).map(kr.fromAffine)}_setWindowSize(vr){this._WINDOW_SIZE=vr,Or.delete(this)}assertValidity(){const{a:vr,d:tr}=ge;if(this.is0())throw new Error("bad point: ZERO");const{ex:ur,ey:Ft,ez:yr,et:Nr}=this,qr=mt(ur*ur),Rr=mt(Ft*Ft),Ar=mt(yr*yr),Tr=mt(Ar*Ar),Kr=mt(qr*vr),Zr=mt(Ar*mt(Kr+Rr)),Br=mt(Tr+mt(tr*mt(qr*Rr)));if(Zr!==Br)throw new Error("bad point: equation left != right (1)");const Mr=mt(ur*Ft),Gr=mt(yr*Nr);if(Mr!==Gr)throw new Error("bad point: equation left != right (2)")}equals(vr){Pr(vr);const{ex:tr,ey:ur,ez:Ft}=this,{ex:yr,ey:Nr,ez:qr}=vr,Rr=mt(tr*qr),Ar=mt(yr*Ft),Tr=mt(ur*qr),Kr=mt(Nr*Ft);return Rr===Ar&&Tr===Kr}is0(){return this.equals(kr.ZERO)}negate(){return new kr(mt(-this.ex),this.ey,this.ez,mt(-this.et))}double(){const{a:vr}=ge,{ex:tr,ey:ur,ez:Ft}=this,yr=mt(tr*tr),Nr=mt(ur*ur),qr=mt(_2n*mt(Ft*Ft)),Rr=mt(vr*yr),Ar=tr+ur,Tr=mt(mt(Ar*Ar)-yr-Nr),Kr=Rr+Nr,Zr=Kr-qr,Br=Rr-Nr,Mr=mt(Tr*Zr),Gr=mt(Kr*Br),en=mt(Tr*Br),rn=mt(Zr*Kr);return new kr(Mr,Gr,rn,en)}add(vr){Pr(vr);const{a:tr,d:ur}=ge,{ex:Ft,ey:yr,ez:Nr,et:qr}=this,{ex:Rr,ey:Ar,ez:Tr,et:Kr}=vr;if(tr===BigInt(-1)){const Wr=mt((yr-Ft)*(Ar+Rr)),on=mt((yr+Ft)*(Ar-Rr)),Hr=mt(on-Wr);if(Hr===_0n$1)return this.double();const yn=mt(Nr*_2n*Kr),gn=mt(qr*_2n*Tr),mn=gn+yn,An=on+Wr,hn=gn-yn,Cr=mt(mn*Hr),$r=mt(An*hn),xr=mt(mn*hn),Lr=mt(Hr*An);return new kr(Cr,$r,Lr,xr)}const Zr=mt(Ft*Rr),Br=mt(yr*Ar),Mr=mt(qr*ur*Kr),Gr=mt(Nr*Tr),en=mt((Ft+yr)*(Rr+Ar)-Zr-Br),rn=Gr-Mr,an=Gr+Mr,nn=mt(Br-tr*Zr),un=mt(en*rn),tn=mt(an*nn),dn=mt(en*nn),cn=mt(rn*an);return new kr(un,tn,cn,dn)}subtract(vr){return this.add(vr.negate())}wNAF(vr){return jr.wNAFCached(this,Or,vr,kr.normalizeZ)}multiply(vr){const{p:tr,f:ur}=this.wNAF(_r(vr,Ne));return kr.normalizeZ([tr,ur])[0]}multiplyUnsafe(vr){let tr=Sr(vr);return tr===_0n$1?Yr:this.equals(Yr)||tr===_1n$1?this:this.equals(Ur)?this.wNAF(tr).p:jr.unsafeLadder(this,tr)}isSmallOrder(){return this.multiplyUnsafe(gt).is0()}isTorsionFree(){return jr.unsafeLadder(this,Ne).is0()}toAffine(vr){const{ex:tr,ey:ur,ez:Ft}=this,yr=this.is0();vr==null&&(vr=yr?_8n:Se.inv(Ft));const Nr=mt(tr*vr),qr=mt(ur*vr),Rr=mt(Ft*vr);if(yr)return{x:_0n$1,y:_1n$1};if(Rr!==_1n$1)throw new Error("invZ was invalid");return{x:Nr,y:qr}}clearCofactor(){const{h:vr}=ge;return vr===_1n$1?this:this.multiplyUnsafe(vr)}static fromHex(vr,tr=!1){const{d:ur,a:Ft}=ge,yr=Se.BYTES;vr=(0,utils_js_1$6.ensureBytes)("pointHex",vr,yr);const Nr=vr.slice(),qr=vr[yr-1];Nr[yr-1]=qr&-129;const Rr=ut$1.bytesToNumberLE(Nr);Rr===_0n$1||(tr?_r(Rr,kt):_r(Rr,Se.ORDER));const Ar=mt(Rr*Rr),Tr=mt(Ar-_1n$1),Kr=mt(ur*Ar-Ft);let{isValid:Zr,value:Br}=xt(Tr,Kr);if(!Zr)throw new Error("Point.fromHex: invalid y coordinate");const Mr=(Br&_1n$1)===_1n$1,Gr=(qr&128)!==0;if(!tr&&Br===_0n$1&&Gr)throw new Error("Point.fromHex: x=0 and x_0=1");return Gr!==Mr&&(Br=mt(-Br)),kr.fromAffine({x:Br,y:Rr})}static fromPrivateKey(vr){return Ir(vr).point}toRawBytes(){const{x:vr,y:tr}=this.toAffine(),ur=ut$1.numberToBytesLE(tr,Se.BYTES);return ur[ur.length-1]|=vr&_1n$1?128:0,ur}toHex(){return ut$1.bytesToHex(this.toRawBytes())}}kr.BASE=new kr(ge.Gx,ge.Gy,_1n$1,mt(ge.Gx*ge.Gy)),kr.ZERO=new kr(_0n$1,_1n$1,_1n$1,_0n$1);const{BASE:Ur,ZERO:Yr}=kr,jr=(0,curve_js_1.wNAF)(kr,vt*8);function Dr(lr){return(0,modular_js_1$2.mod)(lr,Ne)}function Vr(lr){return Dr(ut$1.bytesToNumberLE(lr))}function Ir(lr){const vr=vt;lr=(0,utils_js_1$6.ensureBytes)("private key",lr,vr);const tr=(0,utils_js_1$6.ensureBytes)("hashed private key",Je(lr),2*vr),ur=fr(tr.slice(0,vr)),Ft=tr.slice(vr,2*vr),yr=Vr(ur),Nr=Ur.multiply(yr),qr=Nr.toRawBytes();return{head:ur,prefix:Ft,scalar:yr,point:Nr,pointBytes:qr}}function br(lr){return Ir(lr).pointBytes}function Vt(lr=new Uint8Array,...vr){const tr=ut$1.concatBytes(...vr);return Vr(Je(ar(tr,(0,utils_js_1$6.ensureBytes)("context",lr),!!Ze)))}function ht(lr,vr,tr={}){lr=(0,utils_js_1$6.ensureBytes)("message",lr),Ze&&(lr=Ze(lr));const{prefix:ur,scalar:Ft,pointBytes:yr}=Ir(vr),Nr=Vt(tr.context,ur,lr),qr=Ur.multiply(Nr).toRawBytes(),Rr=Vt(tr.context,qr,yr,lr),Ar=Dr(Nr+Rr*Ft);Sr(Ar);const Tr=ut$1.concatBytes(qr,ut$1.numberToBytesLE(Ar,Se.BYTES));return(0,utils_js_1$6.ensureBytes)("result",Tr,vt*2)}const Ct=VERIFY_DEFAULT;function or(lr,vr,tr,ur=Ct){const{context:Ft,zip215:yr}=ur,Nr=Se.BYTES;lr=(0,utils_js_1$6.ensureBytes)("signature",lr,2*Nr),vr=(0,utils_js_1$6.ensureBytes)("message",vr),Ze&&(vr=Ze(vr));const qr=ut$1.bytesToNumberLE(lr.slice(Nr,2*Nr));let Rr,Ar,Tr;try{Rr=kr.fromHex(tr,yr),Ar=kr.fromHex(lr.slice(0,Nr),yr),Tr=Ur.multiplyUnsafe(qr)}catch{return!1}if(!yr&&Rr.isSmallOrder())return!1;const Kr=Vt(Ft,Ar.toRawBytes(),Rr.toRawBytes(),vr);return Ar.add(Rr.multiplyUnsafe(Kr)).subtract(Tr).clearCofactor().equals(kr.ZERO)}return Ur._setWindowSize(8),{CURVE:ge,getPublicKey:br,sign:ht,verify:or,ExtendedPoint:kr,utils:{getExtendedPublicKey:Ir,randomPrivateKey:()=>Xe(Se.BYTES),precompute(lr=8,vr=kr.BASE){return vr._setWindowSize(lr),vr.multiply(BigInt(3)),vr}}}}edwards$1.twistedEdwards=twistedEdwards;var montgomery$1={};Object.defineProperty(montgomery$1,"__esModule",{value:!0}),montgomery$1.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$1=modular,utils_js_1$5=utils$F,_0n=BigInt(0),_1n=BigInt(1);function validateOpts(pe){return(0,utils_js_1$5.validateObject)(pe,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...pe})}function montgomery(pe){const ge=validateOpts(pe),{P:Se}=ge,Ne=Or=>(0,modular_js_1$1.mod)(Or,Se),Ze=ge.montgomeryBits,Je=Math.ceil(Ze/8),Xe=ge.nByteLength,vt=ge.adjustScalarBytes||(Or=>Or),gt=ge.powPminus2||(Or=>(0,modular_js_1$1.pow)(Or,Se-BigInt(2),Se));function kt(Or,Pr,kr){const Ur=Ne(Or*(Pr-kr));return Pr=Ne(Pr-Ur),kr=Ne(kr+Ur),[Pr,kr]}function mt(Or){if(typeof Or=="bigint"&&_0n<=Or&&Or<Se)return Or;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const xt=(ge.a-BigInt(2))/BigInt(4);function fr(Or,Pr){const kr=mt(Or),Ur=mt(Pr),Yr=kr;let jr=_1n,Dr=_0n,Vr=kr,Ir=_1n,br=_0n,Vt;for(let Ct=BigInt(Ze-1);Ct>=_0n;Ct--){const or=Ur>>Ct&_1n;br^=or,Vt=kt(br,jr,Vr),jr=Vt[0],Vr=Vt[1],Vt=kt(br,Dr,Ir),Dr=Vt[0],Ir=Vt[1],br=or;const pr=jr+Dr,lr=Ne(pr*pr),vr=jr-Dr,tr=Ne(vr*vr),ur=lr-tr,Ft=Vr+Ir,yr=Vr-Ir,Nr=Ne(yr*pr),qr=Ne(Ft*vr),Rr=Nr+qr,Ar=Nr-qr;Vr=Ne(Rr*Rr),Ir=Ne(Yr*Ne(Ar*Ar)),jr=Ne(lr*tr),Dr=Ne(ur*(lr+Ne(xt*ur)))}Vt=kt(br,jr,Vr),jr=Vt[0],Vr=Vt[1],Vt=kt(br,Dr,Ir),Dr=Vt[0],Ir=Vt[1];const ht=gt(Dr);return Ne(jr*ht)}function ar(Or){return(0,utils_js_1$5.numberToBytesLE)(Ne(Or),Je)}function gr(Or){const Pr=(0,utils_js_1$5.ensureBytes)("u coordinate",Or,Je);return Xe===Je&&(Pr[Xe-1]&=127),(0,utils_js_1$5.bytesToNumberLE)(Pr)}function wr(Or){const Pr=(0,utils_js_1$5.ensureBytes)("scalar",Or);if(Pr.length!==Je&&Pr.length!==Xe)throw new Error(`Expected ${Je} or ${Xe} bytes, got ${Pr.length}`);return(0,utils_js_1$5.bytesToNumberLE)(vt(Pr))}function Er(Or,Pr){const kr=gr(Pr),Ur=wr(Or),Yr=fr(kr,Ur);if(Yr===_0n)throw new Error("Invalid private or public key received");return ar(Yr)}const _r=ar(ge.Gu);function Sr(Or){return Er(Or,_r)}return{scalarMult:Er,scalarMultBase:Sr,getSharedSecret:(Or,Pr)=>Er(Or,Pr),getPublicKey:Or=>Sr(Or),utils:{randomPrivateKey:()=>ge.randomBytes(ge.nByteLength)},GuBytes:_r}}montgomery$1.montgomery=montgomery;var hashToCurve={};Object.defineProperty(hashToCurve,"__esModule",{value:!0}),hashToCurve.createHasher=hashToCurve.isogenyMap=hashToCurve.hash_to_field=hashToCurve.expand_message_xof=hashToCurve.expand_message_xmd=void 0;const modular_js_1=modular,utils_js_1$4=utils$F;function validateDST(pe){if(pe instanceof Uint8Array)return pe;if(typeof pe=="string")return(0,utils_js_1$4.utf8ToBytes)(pe);throw new Error("DST must be Uint8Array or string")}const os2ip=utils_js_1$4.bytesToNumberBE;function i2osp(pe,ge){if(pe<0||pe>=1<<8*ge)throw new Error(`bad I2OSP call: value=${pe} length=${ge}`);const Se=Array.from({length:ge}).fill(0);for(let Ne=ge-1;Ne>=0;Ne--)Se[Ne]=pe&255,pe>>>=8;return new Uint8Array(Se)}function strxor(pe,ge){const Se=new Uint8Array(pe.length);for(let Ne=0;Ne<pe.length;Ne++)Se[Ne]=pe[Ne]^ge[Ne];return Se}function isBytes$2(pe){if(!(pe instanceof Uint8Array))throw new Error("Uint8Array expected")}function isNum(pe){if(!Number.isSafeInteger(pe))throw new Error("number expected")}function expand_message_xmd(pe,ge,Se,Ne){isBytes$2(pe),isBytes$2(ge),isNum(Se),ge.length>255&&(ge=Ne((0,utils_js_1$4.concatBytes)((0,utils_js_1$4.utf8ToBytes)("H2C-OVERSIZE-DST-"),ge)));const{outputLen:Ze,blockLen:Je}=Ne,Xe=Math.ceil(Se/Ze);if(Xe>255)throw new Error("Invalid xmd length");const vt=(0,utils_js_1$4.concatBytes)(ge,i2osp(ge.length,1)),gt=i2osp(0,Je),kt=i2osp(Se,2),mt=new Array(Xe),xt=Ne((0,utils_js_1$4.concatBytes)(gt,pe,kt,i2osp(0,1),vt));mt[0]=Ne((0,utils_js_1$4.concatBytes)(xt,i2osp(1,1),vt));for(let ar=1;ar<=Xe;ar++){const gr=[strxor(xt,mt[ar-1]),i2osp(ar+1,1),vt];mt[ar]=Ne((0,utils_js_1$4.concatBytes)(...gr))}return(0,utils_js_1$4.concatBytes)(...mt).slice(0,Se)}hashToCurve.expand_message_xmd=expand_message_xmd;function expand_message_xof(pe,ge,Se,Ne,Ze){if(isBytes$2(pe),isBytes$2(ge),isNum(Se),ge.length>255){const Je=Math.ceil(2*Ne/8);ge=Ze.create({dkLen:Je}).update((0,utils_js_1$4.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(ge).digest()}if(Se>65535||ge.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return Ze.create({dkLen:Se}).update(pe).update(i2osp(Se,2)).update(ge).update(i2osp(ge.length,1)).digest()}hashToCurve.expand_message_xof=expand_message_xof;function hash_to_field(pe,ge,Se){(0,utils_js_1$4.validateObject)(Se,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Ne,k:Ze,m:Je,hash:Xe,expand:vt,DST:gt}=Se;isBytes$2(pe),isNum(ge);const kt=validateDST(gt),mt=Ne.toString(2).length,xt=Math.ceil((mt+Ze)/8),fr=ge*Je*xt;let ar;if(vt==="xmd")ar=expand_message_xmd(pe,kt,fr,Xe);else if(vt==="xof")ar=expand_message_xof(pe,kt,fr,Ze,Xe);else if(vt==="_internal_pass")ar=pe;else throw new Error('expand must be "xmd" or "xof"');const gr=new Array(ge);for(let wr=0;wr<ge;wr++){const Er=new Array(Je);for(let _r=0;_r<Je;_r++){const Sr=xt*(_r+wr*Je),Or=ar.subarray(Sr,Sr+xt);Er[_r]=(0,modular_js_1.mod)(os2ip(Or),Ne)}gr[wr]=Er}return gr}hashToCurve.hash_to_field=hash_to_field;function isogenyMap(pe,ge){const Se=ge.map(Ne=>Array.from(Ne).reverse());return(Ne,Ze)=>{const[Je,Xe,vt,gt]=Se.map(kt=>kt.reduce((mt,xt)=>pe.add(pe.mul(mt,Ne),xt)));return Ne=pe.div(Je,Xe),Ze=pe.mul(Ze,pe.div(vt,gt)),{x:Ne,y:Ze}}}hashToCurve.isogenyMap=isogenyMap;function createHasher(pe,ge,Se){if(typeof ge!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(Ne,Ze){const Je=hash_to_field(Ne,2,{...Se,DST:Se.DST,...Ze}),Xe=pe.fromAffine(ge(Je[0])),vt=pe.fromAffine(ge(Je[1])),gt=Xe.add(vt).clearCofactor();return gt.assertValidity(),gt},encodeToCurve(Ne,Ze){const Je=hash_to_field(Ne,1,{...Se,DST:Se.encodeDST,...Ze}),Xe=pe.fromAffine(ge(Je[0])).clearCofactor();return Xe.assertValidity(),Xe}}}hashToCurve.createHasher=createHasher,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.hash_to_ristretto255=pe.hashToRistretto255=pe.RistrettoPoint=pe.encodeToCurve=pe.hashToCurve=pe.edwardsToMontgomeryPriv=pe.edwardsToMontgomery=pe.edwardsToMontgomeryPub=pe.x25519=pe.ed25519ph=pe.ed25519ctx=pe.ed25519=pe.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge=sha512$2,Se=utils$G,Ne=edwards$1,Ze=montgomery$1,Je=modular,Xe=utils$F,vt=hashToCurve,gt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),kt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),mt=BigInt(0),xt=BigInt(1),fr=BigInt(2),ar=BigInt(5),gr=BigInt(10),wr=BigInt(20),Er=BigInt(40),_r=BigInt(80);function Sr(Br){const Mr=gt,en=Br*Br%Mr*Br%Mr,rn=(0,Je.pow2)(en,fr,Mr)*en%Mr,an=(0,Je.pow2)(rn,xt,Mr)*Br%Mr,nn=(0,Je.pow2)(an,ar,Mr)*an%Mr,un=(0,Je.pow2)(nn,gr,Mr)*nn%Mr,tn=(0,Je.pow2)(un,wr,Mr)*un%Mr,dn=(0,Je.pow2)(tn,Er,Mr)*tn%Mr,cn=(0,Je.pow2)(dn,_r,Mr)*dn%Mr,Wr=(0,Je.pow2)(cn,_r,Mr)*dn%Mr,on=(0,Je.pow2)(Wr,gr,Mr)*nn%Mr;return{pow_p_5_8:(0,Je.pow2)(on,fr,Mr)*Br%Mr,b2:en}}function Or(Br){return Br[0]&=248,Br[31]&=127,Br[31]|=64,Br}function Pr(Br,Mr){const Gr=gt,en=(0,Je.mod)(Mr*Mr*Mr,Gr),rn=(0,Je.mod)(en*en*Mr,Gr),an=Sr(Br*rn).pow_p_5_8;let nn=(0,Je.mod)(Br*en*an,Gr);const un=(0,Je.mod)(Mr*nn*nn,Gr),tn=nn,dn=(0,Je.mod)(nn*kt,Gr),cn=un===Br,Wr=un===(0,Je.mod)(-Br,Gr),on=un===(0,Je.mod)(-Br*kt,Gr);return cn&&(nn=tn),(Wr||on)&&(nn=dn),(0,Je.isNegativeLE)(nn,Gr)&&(nn=(0,Je.mod)(-nn,Gr)),{isValid:cn||Wr,value:nn}}pe.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const kr=(0,Je.Field)(gt,void 0,!0),Ur={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ge.sha512,randomBytes:Se.randomBytes,adjustScalarBytes:Or,uvRatio:Pr};pe.ed25519=(0,Ne.twistedEdwards)(Ur);function Yr(Br,Mr,Gr){if(Mr.length>255)throw new Error("Context is too big");return(0,Se.concatBytes)((0,Se.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Gr?1:0,Mr.length]),Mr,Br)}pe.ed25519ctx=(0,Ne.twistedEdwards)({...Ur,domain:Yr}),pe.ed25519ph=(0,Ne.twistedEdwards)({...Ur,domain:Yr,prehash:ge.sha512}),pe.x25519=(0,Ze.montgomery)({P:gt,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Br=>{const Mr=gt,{pow_p_5_8:Gr,b2:en}=Sr(Br);return(0,Je.mod)((0,Je.pow2)(Gr,BigInt(3),Mr)*en,Mr)},adjustScalarBytes:Or,randomBytes:Se.randomBytes});function jr(Br){const{y:Mr}=pe.ed25519.ExtendedPoint.fromHex(Br),Gr=BigInt(1);return kr.toBytes(kr.create((Gr+Mr)*kr.inv(Gr-Mr)))}pe.edwardsToMontgomeryPub=jr,pe.edwardsToMontgomery=jr;function Dr(Br){const Mr=Ur.hash(Br.subarray(0,32));return Ur.adjustScalarBytes(Mr).subarray(0,32)}pe.edwardsToMontgomeryPriv=Dr;const Vr=(kr.ORDER+BigInt(3))/BigInt(8),Ir=kr.pow(fr,Vr),br=kr.sqrt(kr.neg(kr.ONE)),Vt=(kr.ORDER-BigInt(5))/BigInt(8),ht=BigInt(486662);function Ct(Br){let Mr=kr.sqr(Br);Mr=kr.mul(Mr,fr);let Gr=kr.add(Mr,kr.ONE),en=kr.neg(ht),rn=kr.sqr(Gr),an=kr.mul(rn,Gr),nn=kr.mul(Mr,ht);nn=kr.mul(nn,en),nn=kr.add(nn,rn),nn=kr.mul(nn,en);let un=kr.sqr(an);rn=kr.sqr(un),un=kr.mul(un,an),un=kr.mul(un,nn),rn=kr.mul(rn,un);let tn=kr.pow(rn,Vt);tn=kr.mul(tn,un);let dn=kr.mul(tn,br);rn=kr.sqr(tn),rn=kr.mul(rn,an);let cn=kr.eql(rn,nn),Wr=kr.cmov(dn,tn,cn),on=kr.mul(en,Mr),Hr=kr.mul(tn,Br);Hr=kr.mul(Hr,Ir);let yn=kr.mul(Hr,br),gn=kr.mul(nn,Mr);rn=kr.sqr(Hr),rn=kr.mul(rn,an);let mn=kr.eql(rn,gn),An=kr.cmov(yn,Hr,mn);rn=kr.sqr(Wr),rn=kr.mul(rn,an);let hn=kr.eql(rn,nn),Cr=kr.cmov(on,en,hn),$r=kr.cmov(An,Wr,hn),xr=kr.isOdd($r);return $r=kr.cmov($r,kr.neg($r),hn!==xr),{xMn:Cr,xMd:Gr,yMn:$r,yMd:xt}}const or=(0,Je.FpSqrtEven)(kr,kr.neg(BigInt(486664)));function pr(Br){const{xMn:Mr,xMd:Gr,yMn:en,yMd:rn}=Ct(Br);let an=kr.mul(Mr,rn);an=kr.mul(an,or);let nn=kr.mul(Gr,en),un=kr.sub(Mr,Gr),tn=kr.add(Mr,Gr),dn=kr.mul(nn,tn),cn=kr.eql(dn,kr.ZERO);an=kr.cmov(an,kr.ZERO,cn),nn=kr.cmov(nn,kr.ONE,cn),un=kr.cmov(un,kr.ONE,cn),tn=kr.cmov(tn,kr.ONE,cn);const Wr=kr.invertBatch([nn,tn]);return{x:kr.mul(an,Wr[0]),y:kr.mul(un,Wr[1])}}const lr=(0,vt.createHasher)(pe.ed25519.ExtendedPoint,Br=>pr(Br[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:kr.ORDER,m:1,k:128,expand:"xmd",hash:ge.sha512});pe.hashToCurve=lr.hashToCurve,pe.encodeToCurve=lr.encodeToCurve;function vr(Br){if(!(Br instanceof Kr))throw new Error("RistrettoPoint expected")}const tr=kt,ur=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Ft=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),yr=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Nr=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),qr=Br=>Pr(xt,Br),Rr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ar=Br=>pe.ed25519.CURVE.Fp.create((0,Xe.bytesToNumberLE)(Br)&Rr);function Tr(Br){const{d:Mr}=pe.ed25519.CURVE,Gr=pe.ed25519.CURVE.Fp.ORDER,en=pe.ed25519.CURVE.Fp.create,rn=en(tr*Br*Br),an=en((rn+xt)*yr);let nn=BigInt(-1);const un=en((nn-Mr*rn)*en(rn+Mr));let{isValid:tn,value:dn}=Pr(an,un),cn=en(dn*Br);(0,Je.isNegativeLE)(cn,Gr)||(cn=en(-cn)),tn||(dn=cn),tn||(nn=rn);const Wr=en(nn*(rn-xt)*Nr-un),on=dn*dn,Hr=en((dn+dn)*un),yn=en(Wr*ur),gn=en(xt-on),mn=en(xt+on);return new pe.ed25519.ExtendedPoint(en(Hr*mn),en(gn*yn),en(yn*mn),en(Hr*gn))}class Kr{constructor(Mr){this.ep=Mr}static fromAffine(Mr){return new Kr(pe.ed25519.ExtendedPoint.fromAffine(Mr))}static hashToCurve(Mr){Mr=(0,Xe.ensureBytes)("ristrettoHash",Mr,64);const Gr=Ar(Mr.slice(0,32)),en=Tr(Gr),rn=Ar(Mr.slice(32,64)),an=Tr(rn);return new Kr(en.add(an))}static fromHex(Mr){Mr=(0,Xe.ensureBytes)("ristrettoHex",Mr,32);const{a:Gr,d:en}=pe.ed25519.CURVE,rn=pe.ed25519.CURVE.Fp.ORDER,an=pe.ed25519.CURVE.Fp.create,nn="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",un=Ar(Mr);if(!(0,Xe.equalBytes)((0,Xe.numberToBytesLE)(un,32),Mr)||(0,Je.isNegativeLE)(un,rn))throw new Error(nn);const tn=an(un*un),dn=an(xt+Gr*tn),cn=an(xt-Gr*tn),Wr=an(dn*dn),on=an(cn*cn),Hr=an(Gr*en*Wr-on),{isValid:yn,value:gn}=qr(an(Hr*on)),mn=an(gn*cn),An=an(gn*mn*Hr);let hn=an((un+un)*mn);(0,Je.isNegativeLE)(hn,rn)&&(hn=an(-hn));const Cr=an(dn*An),$r=an(hn*Cr);if(!yn||(0,Je.isNegativeLE)($r,rn)||Cr===mt)throw new Error(nn);return new Kr(new pe.ed25519.ExtendedPoint(hn,Cr,xt,$r))}toRawBytes(){let{ex:Mr,ey:Gr,ez:en,et:rn}=this.ep;const an=pe.ed25519.CURVE.Fp.ORDER,nn=pe.ed25519.CURVE.Fp.create,un=nn(nn(en+Gr)*nn(en-Gr)),tn=nn(Mr*Gr),dn=nn(tn*tn),{value:cn}=qr(nn(un*dn)),Wr=nn(cn*un),on=nn(cn*tn),Hr=nn(Wr*on*rn);let yn;if((0,Je.isNegativeLE)(rn*Hr,an)){let mn=nn(Gr*tr),An=nn(Mr*tr);Mr=mn,Gr=An,yn=nn(Wr*Ft)}else yn=on;(0,Je.isNegativeLE)(Mr*Hr,an)&&(Gr=nn(-Gr));let gn=nn((en-Gr)*yn);return(0,Je.isNegativeLE)(gn,an)&&(gn=nn(-gn)),(0,Xe.numberToBytesLE)(gn,32)}toHex(){return(0,Xe.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Mr){vr(Mr);const{ex:Gr,ey:en}=this.ep,{ex:rn,ey:an}=Mr.ep,nn=pe.ed25519.CURVE.Fp.create,un=nn(Gr*an)===nn(en*rn),tn=nn(en*an)===nn(Gr*rn);return un||tn}add(Mr){return vr(Mr),new Kr(this.ep.add(Mr.ep))}subtract(Mr){return vr(Mr),new Kr(this.ep.subtract(Mr.ep))}multiply(Mr){return new Kr(this.ep.multiply(Mr))}multiplyUnsafe(Mr){return new Kr(this.ep.multiplyUnsafe(Mr))}}pe.RistrettoPoint=(Kr.BASE||(Kr.BASE=new Kr(pe.ed25519.ExtendedPoint.BASE)),Kr.ZERO||(Kr.ZERO=new Kr(pe.ed25519.ExtendedPoint.ZERO)),Kr);const Zr=(Br,Mr)=>{const Gr=Mr.DST,en=typeof Gr=="string"?(0,Se.utf8ToBytes)(Gr):Gr,rn=(0,vt.expand_message_xmd)(Br,en,64,ge.sha512);return Kr.hashToCurve(rn)};pe.hashToRistretto255=Zr,pe.hash_to_ristretto255=pe.hashToRistretto255}(ed25519);var browser$f={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser$1(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$D=safeBufferExports$1.Buffer,crypto$4=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;crypto$4&&crypto$4.getRandomValues?browser$f.exports=randomBytes$2:browser$f.exports=oldBrowser$1;function randomBytes$2(pe,ge){if(pe>MAX_UINT32)throw new RangeError("requested too many random bytes");var Se=Buffer$D.allocUnsafe(pe);if(pe>0)if(pe>MAX_BYTES)for(var Ne=0;Ne<pe;Ne+=MAX_BYTES)crypto$4.getRandomValues(Se.slice(Ne,Ne+MAX_BYTES));else crypto$4.getRandomValues(Se);return typeof ge=="function"?process$1$1.nextTick(function(){ge(null,Se)}):Se}var browserExports=browser$f.exports,public_key={};Object.defineProperty(public_key,"__esModule",{value:!0}),public_key.PublicKey=void 0;const types_1$c=lib$8,utils_1$c=lib$9,ed25519_1$1=ed25519,constants_1$3=constants$3;function key_type_to_str(pe){switch(pe){case constants_1$3.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${pe}`)}}function str_to_key_type(pe){switch(pe.toLowerCase()){case"ed25519":return constants_1$3.KeyType.ED25519;default:throw new Error(`Unknown key type ${pe}`)}}let PublicKey$1=class fi extends types_1$c.Assignable{static from(ge){return typeof ge=="string"?fi.fromString(ge):ge}static fromString(ge){const Se=ge.split(":");let Ne,Ze=constants_1$3.KeyType.ED25519;if(Se.length===1)Ne=Se[0];else if(Se.length===2)Ne=Se[1],Ze=str_to_key_type(Se[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const Je=(0,utils_1$c.baseDecode)(Ne);if(Je.length!==constants_1$3.KeySize.SECRET_KEY)throw new Error(`Invalid public key size (${Je.length}), must be ${constants_1$3.KeySize.SECRET_KEY}`);return new fi({keyType:Ze,data:Je})}toString(){return`${key_type_to_str(this.keyType)}:${(0,utils_1$c.baseEncode)(this.data)}`}verify(ge,Se){switch(this.keyType){case constants_1$3.KeyType.ED25519:return ed25519_1$1.ed25519.verify(Se,ge,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}};public_key.PublicKey=PublicKey$1;var __importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}};Object.defineProperty(key_pair_ed25519,"__esModule",{value:!0}),key_pair_ed25519.KeyPairEd25519=void 0;const utils_1$b=lib$9,ed25519_1=ed25519,randombytes_1=__importDefault$2(browserExports),constants_1$2=constants$3,key_pair_base_1$1=key_pair_base,public_key_1=public_key;class KeyPairEd25519 extends key_pair_base_1$1.KeyPairBase{constructor(ge){super();const Se=(0,utils_1$b.baseDecode)(ge),Ne=new Uint8Array(Se.slice(0,constants_1$2.KeySize.SECRET_KEY)),Ze=ed25519_1.ed25519.getPublicKey(new Uint8Array(Ne));this.publicKey=new public_key_1.PublicKey({keyType:constants_1$2.KeyType.ED25519,data:Ze}),this.secretKey=(0,utils_1$b.baseEncode)(Ne),this.extendedSecretKey=ge}static fromRandom(){const ge=(0,randombytes_1.default)(constants_1$2.KeySize.SECRET_KEY),Se=ed25519_1.ed25519.getPublicKey(new Uint8Array(ge)),Ne=new Uint8Array([...ge,...Se]);return new KeyPairEd25519((0,utils_1$b.baseEncode)(Ne))}sign(ge){return{signature:ed25519_1.ed25519.sign(ge,(0,utils_1$b.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(ge,Se){return this.publicKey.verify(ge,Se)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}key_pair_ed25519.KeyPairEd25519=KeyPairEd25519,Object.defineProperty(key_pair$1,"__esModule",{value:!0}),key_pair$1.KeyPair=void 0;const key_pair_base_1=key_pair_base,key_pair_ed25519_1=key_pair_ed25519;let KeyPair$3=class extends key_pair_base_1.KeyPairBase{static fromRandom(ge){switch(ge.toUpperCase()){case"ED25519":return key_pair_ed25519_1.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${ge}`)}}static fromString(ge){const Se=ge.split(":");if(Se.length===1)return new key_pair_ed25519_1.KeyPairEd25519(Se[0]);if(Se.length===2)switch(Se[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1.KeyPairEd25519(Se[1]);default:throw new Error(`Unknown curve: ${Se[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}};key_pair$1.KeyPair=KeyPair$3,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.PublicKey=pe.KeyPairEd25519=pe.KeyPair=pe.KeyType=void 0;var ge=constants$3;Object.defineProperty(pe,"KeyType",{enumerable:!0,get:function(){return ge.KeyType}});var Se=key_pair$1;Object.defineProperty(pe,"KeyPair",{enumerable:!0,get:function(){return Se.KeyPair}});var Ne=key_pair_ed25519;Object.defineProperty(pe,"KeyPairEd25519",{enumerable:!0,get:function(){return Ne.KeyPairEd25519}});var Ze=public_key;Object.defineProperty(pe,"PublicKey",{enumerable:!0,get:function(){return Ze.PublicKey}})}(lib$a);var keystore$1={};Object.defineProperty(keystore$1,"__esModule",{value:!0}),keystore$1.KeyStore=void 0;class KeyStore{}keystore$1.KeyStore=KeyStore;var __awaiter$j=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(in_memory_key_store$1,"__esModule",{value:!0}),in_memory_key_store$1.InMemoryKeyStore=void 0;const crypto_1$6=lib$a,keystore_1$1=keystore$1;class InMemoryKeyStore extends keystore_1$1.KeyStore{constructor(){super(),this.keys={}}setKey(ge,Se,Ne){return __awaiter$j(this,void 0,void 0,function*(){this.keys[`${Se}:${ge}`]=Ne.toString()})}getKey(ge,Se){return __awaiter$j(this,void 0,void 0,function*(){const Ne=this.keys[`${Se}:${ge}`];return Ne?crypto_1$6.KeyPair.fromString(Ne):null})}removeKey(ge,Se){return __awaiter$j(this,void 0,void 0,function*(){delete this.keys[`${Se}:${ge}`]})}clear(){return __awaiter$j(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$j(this,void 0,void 0,function*(){const ge=new Set;return Object.keys(this.keys).forEach(Se=>{const Ne=Se.split(":");ge.add(Ne[1])}),Array.from(ge.values())})}getAccounts(ge){return __awaiter$j(this,void 0,void 0,function*(){const Se=new Array;return Object.keys(this.keys).forEach(Ne=>{const Ze=Ne.split(":");Ze[Ze.length-1]===ge&&Se.push(Ze.slice(0,Ze.length-1).join(":"))}),Se})}toString(){return"InMemoryKeyStore"}}in_memory_key_store$1.InMemoryKeyStore=InMemoryKeyStore;var merge_key_store$1={},__awaiter$i=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(merge_key_store$1,"__esModule",{value:!0}),merge_key_store$1.MergeKeyStore=void 0;const keystore_1=keystore$1;class MergeKeyStore extends keystore_1.KeyStore{constructor(ge,Se={writeKeyStoreIndex:0}){super(),this.options=Se,this.keyStores=ge}setKey(ge,Se,Ne){return __awaiter$i(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(ge,Se,Ne)})}getKey(ge,Se){return __awaiter$i(this,void 0,void 0,function*(){for(const Ne of this.keyStores){const Ze=yield Ne.getKey(ge,Se);if(Ze)return Ze}return null})}removeKey(ge,Se){return __awaiter$i(this,void 0,void 0,function*(){for(const Ne of this.keyStores)yield Ne.removeKey(ge,Se)})}clear(){return __awaiter$i(this,void 0,void 0,function*(){for(const ge of this.keyStores)yield ge.clear()})}getNetworks(){return __awaiter$i(this,void 0,void 0,function*(){const ge=new Set;for(const Se of this.keyStores)for(const Ne of yield Se.getNetworks())ge.add(Ne);return Array.from(ge)})}getAccounts(ge){return __awaiter$i(this,void 0,void 0,function*(){const Se=new Set;for(const Ne of this.keyStores)for(const Ze of yield Ne.getAccounts(ge))Se.add(Ze);return Array.from(Se)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}merge_key_store$1.MergeKeyStore=MergeKeyStore,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MergeKeyStore=pe.KeyStore=pe.InMemoryKeyStore=void 0;var ge=in_memory_key_store$1;Object.defineProperty(pe,"InMemoryKeyStore",{enumerable:!0,get:function(){return ge.InMemoryKeyStore}});var Se=keystore$1;Object.defineProperty(pe,"KeyStore",{enumerable:!0,get:function(){return Se.KeyStore}});var Ne=merge_key_store$1;Object.defineProperty(pe,"MergeKeyStore",{enumerable:!0,get:function(){return Ne.MergeKeyStore}})}(lib$b),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.KeyStore=void 0;var ge=lib$b;Object.defineProperty(pe,"KeyStore",{enumerable:!0,get:function(){return ge.KeyStore}})}(keystore$2);var in_memory_key_store={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.InMemoryKeyStore=void 0;var ge=lib$b;Object.defineProperty(pe,"InMemoryKeyStore",{enumerable:!0,get:function(){return ge.InMemoryKeyStore}})})(in_memory_key_store);var browser_local_storage_key_store$1={},lib$7={},browser_local_storage_key_store={},__awaiter$h=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(browser_local_storage_key_store,"__esModule",{value:!0}),browser_local_storage_key_store.BrowserLocalStorageKeyStore=void 0;const crypto_1$5=lib$a,keystores_1$1=lib$b,LOCAL_STORAGE_KEY_PREFIX="near-api-js:keystore:";class BrowserLocalStorageKeyStore extends keystores_1$1.KeyStore{constructor(ge=window.localStorage,Se=LOCAL_STORAGE_KEY_PREFIX){super(),this.localStorage=ge,this.prefix=Se}setKey(ge,Se,Ne){return __awaiter$h(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(ge,Se),Ne.toString())})}getKey(ge,Se){return __awaiter$h(this,void 0,void 0,function*(){const Ne=this.localStorage.getItem(this.storageKeyForSecretKey(ge,Se));return Ne?crypto_1$5.KeyPair.fromString(Ne):null})}removeKey(ge,Se){return __awaiter$h(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(ge,Se))})}clear(){return __awaiter$h(this,void 0,void 0,function*(){for(const ge of this.storageKeys())ge.startsWith(this.prefix)&&this.localStorage.removeItem(ge)})}getNetworks(){return __awaiter$h(this,void 0,void 0,function*(){const ge=new Set;for(const Se of this.storageKeys())if(Se.startsWith(this.prefix)){const Ne=Se.substring(this.prefix.length).split(":");ge.add(Ne[1])}return Array.from(ge.values())})}getAccounts(ge){return __awaiter$h(this,void 0,void 0,function*(){const Se=new Array;for(const Ne of this.storageKeys())if(Ne.startsWith(this.prefix)){const Ze=Ne.substring(this.prefix.length).split(":");Ze[1]===ge&&Se.push(Ze[0])}return Se})}storageKeyForSecretKey(ge,Se){return`${this.prefix}${Se}:${ge}`}*storageKeys(){for(let ge=0;ge<this.localStorage.length;ge++)yield this.localStorage.key(ge)}}browser_local_storage_key_store.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.BrowserLocalStorageKeyStore=void 0;var ge=browser_local_storage_key_store;Object.defineProperty(pe,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return ge.BrowserLocalStorageKeyStore}})}(lib$7),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.BrowserLocalStorageKeyStore=void 0;var ge=lib$7;Object.defineProperty(pe,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return ge.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$1);var merge_key_store={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MergeKeyStore=void 0;var ge=lib$b;Object.defineProperty(pe,"MergeKeyStore",{enumerable:!0,get:function(){return ge.MergeKeyStore}})})(merge_key_store),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MergeKeyStore=pe.BrowserLocalStorageKeyStore=pe.InMemoryKeyStore=pe.KeyStore=void 0;const ge=keystore$2;Object.defineProperty(pe,"KeyStore",{enumerable:!0,get:function(){return ge.KeyStore}});const Se=in_memory_key_store;Object.defineProperty(pe,"InMemoryKeyStore",{enumerable:!0,get:function(){return Se.InMemoryKeyStore}});const Ne=browser_local_storage_key_store$1;Object.defineProperty(pe,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return Ne.BrowserLocalStorageKeyStore}});const Ze=merge_key_store;Object.defineProperty(pe,"MergeKeyStore",{enumerable:!0,get:function(){return Ze.MergeKeyStore}})}(browserIndex$1);var commonIndex={},providers={},provider$2={},lib$6={},exponentialBackoff$1={},__awaiter$g=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(exponentialBackoff$1,"__esModule",{value:!0}),exponentialBackoff$1.exponentialBackoff=void 0;function exponentialBackoff(pe,ge,Se,Ne){return __awaiter$g(this,void 0,void 0,function*(){let Ze=pe;for(let Je=0;Je<ge;Je++){const Xe=yield Ne();if(Xe)return Xe;yield sleep(Ze),Ze*=Se}return null})}exponentialBackoff$1.exponentialBackoff=exponentialBackoff;function sleep(pe){return new Promise(ge=>setTimeout(ge,pe))}var jsonRpcProvider$1={},lib$5={},action_creators={},actions={};Object.defineProperty(actions,"__esModule",{value:!0}),actions.Action=actions.SignedDelegate=actions.DeleteAccount=actions.DeleteKey=actions.AddKey=actions.Stake=actions.Transfer=actions.FunctionCall=actions.DeployContract=actions.CreateAccount=actions.IAction=actions.AccessKey=actions.AccessKeyPermission=actions.FullAccessPermission=actions.FunctionCallPermission=void 0;const types_1$b=lib$8;class Enum{constructor(ge){if(Object.keys(ge).length!==1)throw new Error("Enum can only take single value");Object.keys(ge).map(Se=>{this[Se]=ge[Se],this.enum=Se})}}class FunctionCallPermission extends types_1$b.Assignable{}actions.FunctionCallPermission=FunctionCallPermission;class FullAccessPermission extends types_1$b.Assignable{}actions.FullAccessPermission=FullAccessPermission;class AccessKeyPermission extends Enum{}actions.AccessKeyPermission=AccessKeyPermission;class AccessKey extends types_1$b.Assignable{}actions.AccessKey=AccessKey;class IAction extends types_1$b.Assignable{}actions.IAction=IAction;class CreateAccount extends IAction{}actions.CreateAccount=CreateAccount;class DeployContract extends IAction{}actions.DeployContract=DeployContract;class FunctionCall extends IAction{}actions.FunctionCall=FunctionCall;class Transfer extends IAction{}actions.Transfer=Transfer;class Stake extends IAction{}actions.Stake=Stake;class AddKey extends IAction{}actions.AddKey=AddKey;class DeleteKey extends IAction{}actions.DeleteKey=DeleteKey;class DeleteAccount extends IAction{}actions.DeleteAccount=DeleteAccount;class SignedDelegate extends IAction{}actions.SignedDelegate=SignedDelegate;class Action extends Enum{}actions.Action=Action,Object.defineProperty(action_creators,"__esModule",{value:!0}),action_creators.actionCreators=action_creators.stringifyJsonOrBytes=void 0;const actions_1$1=actions;function fullAccessKey$2(){return new actions_1$1.AccessKey({nonce:0,permission:new actions_1$1.AccessKeyPermission({fullAccess:new actions_1$1.FullAccessPermission({})})})}function functionCallAccessKey$2(pe,ge,Se){return new actions_1$1.AccessKey({nonce:0,permission:new actions_1$1.AccessKeyPermission({functionCall:new actions_1$1.FunctionCallPermission({receiverId:pe,allowance:Se,methodNames:ge})})})}function createAccount$2(){return new actions_1$1.Action({createAccount:new actions_1$1.CreateAccount({})})}function deployContract$4(pe){return new actions_1$1.Action({deployContract:new actions_1$1.DeployContract({code:pe})})}function stringifyJsonOrBytes(pe){return pe.byteLength!==void 0&&pe.byteLength===pe.length?pe:Buffer$F.from(JSON.stringify(pe))}action_creators.stringifyJsonOrBytes=stringifyJsonOrBytes;function functionCall$5(pe,ge,Se=BigInt(0),Ne=BigInt(0),Ze=stringifyJsonOrBytes,Je=!1){return Je?new actions_1$1.Action({functionCall:new actions_1$1.FunctionCall({methodName:pe,args:ge,gas:Se,deposit:Ne})}):new actions_1$1.Action({functionCall:new actions_1$1.FunctionCall({methodName:pe,args:Ze(ge),gas:Se,deposit:Ne})})}function transfer$2(pe=BigInt(0)){return new actions_1$1.Action({transfer:new actions_1$1.Transfer({deposit:pe})})}function stake$2(pe=BigInt(0),ge){return new actions_1$1.Action({stake:new actions_1$1.Stake({stake:pe,publicKey:ge})})}function addKey$3(pe,ge){return new actions_1$1.Action({addKey:new actions_1$1.AddKey({publicKey:pe,accessKey:ge})})}function deleteKey$3(pe){return new actions_1$1.Action({deleteKey:new actions_1$1.DeleteKey({publicKey:pe})})}function deleteAccount$2(pe){return new actions_1$1.Action({deleteAccount:new actions_1$1.DeleteAccount({beneficiaryId:pe})})}function signedDelegate({delegateAction:pe,signature:ge}){return new actions_1$1.Action({signedDelegate:new actions_1$1.SignedDelegate({delegateAction:pe,signature:ge})})}action_creators.actionCreators={addKey:addKey$3,createAccount:createAccount$2,deleteAccount:deleteAccount$2,deleteKey:deleteKey$3,deployContract:deployContract$4,fullAccessKey:fullAccessKey$2,functionCall:functionCall$5,functionCallAccessKey:functionCallAccessKey$2,signedDelegate,stake:stake$2,transfer:transfer$2};var create_transaction={},schema={},cjs$2={},serialize$6={},types$4={};types$4.__esModule=!0,types$4.integers=void 0,types$4.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$3={};buffer$3.__esModule=!0,buffer$3.DecodeBuffer=buffer$3.EncodeBuffer=void 0;var EncodeBuffer$2=function(){function pe(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return pe.prototype.resize_if_necessary=function(ge){if(this.buffer_size-this.offset<ge){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+ge);var Se=new ArrayBuffer(this.buffer_size);new Uint8Array(Se).set(new Uint8Array(this.buffer)),this.buffer=Se,this.view=new DataView(Se)}},pe.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},pe.prototype.store_value=function(ge,Se){var Ne=Se.substring(1),Ze=parseInt(Ne)/8;this.resize_if_necessary(Ze);var Je=Se[0]==="f"?"setFloat".concat(Ne):Se[0]==="i"?"setInt".concat(Ne):"setUint".concat(Ne);this.view[Je](this.offset,ge,!0),this.offset+=Ze},pe.prototype.store_bytes=function(ge){this.resize_if_necessary(ge.length),new Uint8Array(this.buffer).set(new Uint8Array(ge),this.offset),this.offset+=ge.length},pe}();buffer$3.EncodeBuffer=EncodeBuffer$2;var DecodeBuffer$2=function(){function pe(ge){this.offset=0,this.buffer_size=ge.length,this.buffer=new ArrayBuffer(ge.length),new Uint8Array(this.buffer).set(ge),this.view=new DataView(this.buffer)}return pe.prototype.assert_enough_buffer=function(ge){if(this.offset+ge>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},pe.prototype.consume_value=function(ge){var Se=ge.substring(1),Ne=parseInt(Se)/8;this.assert_enough_buffer(Ne);var Ze=ge[0]==="f"?"getFloat".concat(Se):ge[0]==="i"?"getInt".concat(Se):"getUint".concat(Se),Je=this.view[Ze](this.offset,!0);return this.offset+=Ne,Je},pe.prototype.consume_bytes=function(ge){this.assert_enough_buffer(ge);var Se=this.buffer.slice(this.offset,this.offset+ge);return this.offset+=ge,Se},pe}();buffer$3.DecodeBuffer=DecodeBuffer$2;var utils$E={},__extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var pe=function(ge,Se){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,Ze){Ne.__proto__=Ze}||function(Ne,Ze){for(var Je in Ze)Object.prototype.hasOwnProperty.call(Ze,Je)&&(Ne[Je]=Ze[Je])},pe(ge,Se)};return function(ge,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Class extends value "+String(Se)+" is not a constructor or null");pe(ge,Se);function Ne(){this.constructor=ge}ge.prototype=Se===null?Object.create(Se):(Ne.prototype=Se.prototype,new Ne)}}();utils$E.__esModule=!0,utils$E.validate_schema=utils$E.ErrorSchema=utils$E.expect_enum=utils$E.expect_same_size=utils$E.expect_bigint=utils$E.expect_type=utils$E.isArrayLike=void 0;var types_js_1$8=types$4;function isArrayLike$2(pe){return Array.isArray(pe)||!!pe&&typeof pe=="object"&&"length"in pe&&typeof pe.length=="number"&&(pe.length===0||pe.length>0&&pe.length-1 in pe)}utils$E.isArrayLike=isArrayLike$2;function expect_type$2(pe,ge,Se){if(typeof pe!==ge)throw new Error("Expected ".concat(ge," not ").concat(typeof pe,"(").concat(pe,") at ").concat(Se.join(".")))}utils$E.expect_type=expect_type$2;function expect_bigint$2(pe,ge){var Se=["number","string","bigint","boolean"].includes(typeof pe),Ne=typeof pe=="object"&&pe!==null&&"toString"in pe;if(!Se&&!Ne)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$E.expect_bigint=expect_bigint$2;function expect_same_size$2(pe,ge,Se){if(pe!==ge)throw new Error("Array length ".concat(pe," does not match schema length ").concat(ge," at ").concat(Se.join(".")))}utils$E.expect_same_size=expect_same_size$2;function expect_enum$2(pe,ge){if(typeof pe!="object"||pe===null)throw new Error("Expected object not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$E.expect_enum=expect_enum$2;var VALID_STRING_TYPES$2=types_js_1$8.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$2=["option","enum","array","set","map","struct"],ErrorSchema$2=function(pe){__extends$2(ge,pe);function ge(Se,Ne){var Ze="Invalid schema: ".concat(JSON.stringify(Se)," expected ").concat(Ne);return pe.call(this,Ze)||this}return ge}(Error);utils$E.ErrorSchema=ErrorSchema$2;function validate_schema$2(pe){if(!(typeof pe=="string"&&VALID_STRING_TYPES$2.includes(pe))){if(pe&&typeof pe=="object"){var ge=Object.keys(pe);if(ge.length===1&&VALID_OBJECT_KEYS$2.includes(ge[0])){var Se=ge[0];if(Se==="option")return validate_schema$2(pe[Se]);if(Se==="enum")return validate_enum_schema$2(pe[Se]);if(Se==="array")return validate_array_schema$2(pe[Se]);if(Se==="set")return validate_schema$2(pe[Se]);if(Se==="map")return validate_map_schema$2(pe[Se]);if(Se==="struct")return validate_struct_schema$2(pe[Se])}}throw new ErrorSchema$2(pe,VALID_OBJECT_KEYS$2.join(", ")+" or "+VALID_STRING_TYPES$2.join(", "))}}utils$E.validate_schema=validate_schema$2;function validate_enum_schema$2(pe){if(!Array.isArray(pe))throw new ErrorSchema$2(pe,"Array");for(var ge=0,Se=pe;ge<Se.length;ge++){var Ne=Se[ge];if(typeof Ne!="object"||!("struct"in Ne))throw new Error('Missing "struct" key in enum schema');if(typeof Ne.struct!="object"||Object.keys(Ne.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$2({struct:Ne.struct})}}function validate_array_schema$2(pe){if(typeof pe!="object")throw new ErrorSchema$2(pe,"{ type, len? }");if(pe.len&&typeof pe.len!="number")throw new Error("Invalid schema: ".concat(pe));if("type"in pe)return validate_schema$2(pe.type);throw new ErrorSchema$2(pe,"{ type, len? }")}function validate_map_schema$2(pe){if(typeof pe=="object"&&"key"in pe&&"value"in pe)validate_schema$2(pe.key),validate_schema$2(pe.value);else throw new ErrorSchema$2(pe,"{ key, value }")}function validate_struct_schema$2(pe){if(typeof pe!="object")throw new ErrorSchema$2(pe,"object");for(var ge in pe)validate_schema$2(pe[ge])}var __createBinding$6=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$6=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$6(ge,pe,Se);return __setModuleDefault$6(ge,pe),ge};serialize$6.__esModule=!0,serialize$6.BorshSerializer=void 0;var types_js_1$7=types$4,buffer_js_1$5=buffer$3,utils$D=__importStar$6(utils$E),BorshSerializer$2=function(){function pe(ge){this.encoded=new buffer_js_1$5.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=ge}return pe.prototype.encode=function(ge,Se){return this.encode_value(ge,Se),this.encoded.get_used_buffer()},pe.prototype.encode_value=function(ge,Se){if(typeof Se=="string"){if(types_js_1$7.integers.includes(Se))return this.encode_integer(ge,Se);if(Se==="string")return this.encode_string(ge);if(Se==="bool")return this.encode_boolean(ge)}if(typeof Se=="object"){if("option"in Se)return this.encode_option(ge,Se);if("enum"in Se)return this.encode_enum(ge,Se);if("array"in Se)return this.encode_array(ge,Se);if("set"in Se)return this.encode_set(ge,Se);if("map"in Se)return this.encode_map(ge,Se);if("struct"in Se)return this.encode_struct(ge,Se)}},pe.prototype.encode_integer=function(ge,Se){var Ne=parseInt(Se.substring(1));Ne<=32||Se=="f64"?(this.checkTypes&&utils$D.expect_type(ge,"number",this.fieldPath),this.encoded.store_value(ge,Se)):(this.checkTypes&&utils$D.expect_bigint(ge,this.fieldPath),this.encode_bigint(BigInt(ge),Ne))},pe.prototype.encode_bigint=function(ge,Se){for(var Ne=Se/8,Ze=new Uint8Array(Ne),Je=0;Je<Ne;Je++)Ze[Je]=Number(ge&BigInt(255)),ge=ge>>BigInt(8);this.encoded.store_bytes(new Uint8Array(Ze))},pe.prototype.encode_string=function(ge){this.checkTypes&&utils$D.expect_type(ge,"string",this.fieldPath);var Se=ge;this.encoded.store_value(Se.length,"u32");for(var Ne=0;Ne<Se.length;Ne++)this.encoded.store_value(Se.charCodeAt(Ne),"u8")},pe.prototype.encode_boolean=function(ge){this.checkTypes&&utils$D.expect_type(ge,"boolean",this.fieldPath),this.encoded.store_value(ge?1:0,"u8")},pe.prototype.encode_option=function(ge,Se){ge==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(ge,Se.option))},pe.prototype.encode_enum=function(ge,Se){this.checkTypes&&utils$D.expect_enum(ge,this.fieldPath);for(var Ne=Object.keys(ge)[0],Ze=0;Ze<Se.enum.length;Ze++){var Je=Se.enum[Ze];if(Ne===Object.keys(Je.struct)[0])return this.encoded.store_value(Ze,"u8"),this.encode_struct(ge,Je)}throw new Error("Enum key (".concat(Ne,") not found in enum schema: ").concat(JSON.stringify(Se)," at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_array=function(ge,Se){if(utils$D.isArrayLike(ge))return this.encode_arraylike(ge,Se);if(ge instanceof ArrayBuffer)return this.encode_buffer(ge,Se);throw new Error("Expected Array-like not ".concat(typeof ge,"(").concat(ge,") at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_arraylike=function(ge,Se){Se.array.len?utils$D.expect_same_size(ge.length,Se.array.len,this.fieldPath):this.encoded.store_value(ge.length,"u32");for(var Ne=0;Ne<ge.length;Ne++)this.encode_value(ge[Ne],Se.array.type)},pe.prototype.encode_buffer=function(ge,Se){Se.array.len?utils$D.expect_same_size(ge.byteLength,Se.array.len,this.fieldPath):this.encoded.store_value(ge.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(ge))},pe.prototype.encode_set=function(ge,Se){this.checkTypes&&utils$D.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Set,Ze=Ne?Array.from(ge.values()):Object.values(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.set)}},pe.prototype.encode_map=function(ge,Se){this.checkTypes&&utils$D.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Map,Ze=Ne?Array.from(ge.keys()):Object.keys(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.map.key),this.encode_value(Ne?ge.get(vt):ge[vt],Se.map.value)}},pe.prototype.encode_struct=function(ge,Se){this.checkTypes&&utils$D.expect_type(ge,"object",this.fieldPath);for(var Ne=0,Ze=Object.keys(Se.struct);Ne<Ze.length;Ne++){var Je=Ze[Ne];this.fieldPath.push(Je),this.encode_value(ge[Je],Se.struct[Je]),this.fieldPath.pop()}},pe}();serialize$6.BorshSerializer=BorshSerializer$2;var deserialize$5={};deserialize$5.__esModule=!0,deserialize$5.BorshDeserializer=void 0;var types_js_1$6=types$4,buffer_js_1$4=buffer$3,BorshDeserializer$2=function(){function pe(ge){this.buffer=new buffer_js_1$4.DecodeBuffer(ge)}return pe.prototype.decode=function(ge){return this.decode_value(ge)},pe.prototype.decode_value=function(ge){if(typeof ge=="string"){if(types_js_1$6.integers.includes(ge))return this.decode_integer(ge);if(ge==="string")return this.decode_string();if(ge==="bool")return this.decode_boolean()}if(typeof ge=="object"){if("option"in ge)return this.decode_option(ge);if("enum"in ge)return this.decode_enum(ge);if("array"in ge)return this.decode_array(ge);if("set"in ge)return this.decode_set(ge);if("map"in ge)return this.decode_map(ge);if("struct"in ge)return this.decode_struct(ge)}throw new Error("Unsupported type: ".concat(ge))},pe.prototype.decode_integer=function(ge){var Se=parseInt(ge.substring(1));return Se<=32||ge=="f64"?this.buffer.consume_value(ge):this.decode_bigint(Se,ge.startsWith("i"))},pe.prototype.decode_bigint=function(ge,Se){Se===void 0&&(Se=!1);var Ne=ge/8,Ze=new Uint8Array(this.buffer.consume_bytes(Ne)),Je=Ze.reduceRight(function(Xe,vt){return Xe+vt.toString(16).padStart(2,"0")},"");return Se&&Ze[Ne-1]?BigInt.asIntN(ge,BigInt("0x".concat(Je))):BigInt("0x".concat(Je))},pe.prototype.decode_string=function(){var ge=this.decode_integer("u32"),Se=new Uint8Array(this.buffer.consume_bytes(ge));return String.fromCharCode.apply(null,Se)},pe.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},pe.prototype.decode_option=function(ge){var Se=this.buffer.consume_value("u8");if(Se===1)return this.decode_value(ge.option);if(Se!==0)throw new Error("Invalid option ".concat(Se));return null},pe.prototype.decode_enum=function(ge){var Se,Ne=this.buffer.consume_value("u8");if(Ne>ge.enum.length)throw new Error("Enum option ".concat(Ne," is not available"));var Ze=ge.enum[Ne].struct,Je=Object.keys(Ze)[0];return Se={},Se[Je]=this.decode_value(Ze[Je]),Se},pe.prototype.decode_array=function(ge){for(var Se=[],Ne=ge.array.len?ge.array.len:this.decode_integer("u32"),Ze=0;Ze<Ne;++Ze)Se.push(this.decode_value(ge.array.type));return Se},pe.prototype.decode_set=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Set,Ze=0;Ze<Se;++Ze)Ne.add(this.decode_value(ge.set));return Ne},pe.prototype.decode_map=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Map,Ze=0;Ze<Se;++Ze){var Je=this.decode_value(ge.map.key),Xe=this.decode_value(ge.map.value);Ne.set(Je,Xe)}return Ne},pe.prototype.decode_struct=function(ge){var Se={};for(var Ne in ge.struct)Se[Ne]=this.decode_value(ge.struct[Ne]);return Se},pe}();deserialize$5.BorshDeserializer=BorshDeserializer$2;var __createBinding$5=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$5=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$5(ge,pe,Se);return __setModuleDefault$5(ge,pe),ge};cjs$2.__esModule=!0,cjs$2.deserialize=cjs$2.serialize=void 0;var serialize_js_1$2=serialize$6,deserialize_js_1$2=deserialize$5,utils$C=__importStar$5(utils$E);function serialize$5(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$C.validate_schema(pe);var Ne=new serialize_js_1$2.BorshSerializer(Se);return Ne.encode(ge,pe)}cjs$2.serialize=serialize$5;function deserialize$4(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$C.validate_schema(pe);var Ne=new deserialize_js_1$2.BorshDeserializer(ge);return Ne.decode(pe)}cjs$2.deserialize=deserialize$4;var prefix={};Object.defineProperty(prefix,"__esModule",{value:!0}),prefix.DelegateActionPrefix=void 0;const types_1$a=lib$8,ACTIONABLE_MESSAGE_BASE=Math.pow(2,30),NEP={MetaTransactions:366};class NEPPrefix extends types_1$a.Assignable{}class ActionableMessagePrefix extends NEPPrefix{constructor(ge){super({prefix:ACTIONABLE_MESSAGE_BASE+ge})}}class DelegateActionPrefix extends ActionableMessagePrefix{constructor(){super(NEP.MetaTransactions)}}prefix.DelegateActionPrefix=DelegateActionPrefix,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.SCHEMA=pe.SignedTransaction=pe.Transaction=pe.decodeSignedTransaction=pe.decodeTransaction=pe.encodeTransaction=pe.encodeSignedDelegate=pe.encodeDelegateAction=void 0;const ge=lib$8,Se=cjs$2,Ne=prefix;function Ze(xt){return new Uint8Array([...(0,Se.serialize)(pe.SCHEMA.DelegateActionPrefix,new Ne.DelegateActionPrefix),...(0,Se.serialize)(pe.SCHEMA.DelegateAction,xt)])}pe.encodeDelegateAction=Ze;function Je(xt){return(0,Se.serialize)(pe.SCHEMA.SignedDelegate,xt)}pe.encodeSignedDelegate=Je;function Xe(xt){const fr=xt instanceof mt?pe.SCHEMA.SignedTransaction:pe.SCHEMA.Transaction;return(0,Se.serialize)(fr,xt)}pe.encodeTransaction=Xe;function vt(xt){return new kt((0,Se.deserialize)(pe.SCHEMA.Transaction,xt))}pe.decodeTransaction=vt;function gt(xt){return new mt((0,Se.deserialize)(pe.SCHEMA.SignedTransaction,xt))}pe.decodeSignedTransaction=gt;class kt extends ge.Assignable{encode(){return Xe(this)}static decode(fr){return vt(fr)}}pe.Transaction=kt;class mt extends ge.Assignable{encode(){return Xe(this)}static decode(fr){return gt(fr)}}pe.SignedTransaction=mt,pe.SCHEMA=new class{constructor(){this.Signature={struct:{keyType:"u8",data:{array:{type:"u8",len:64}}}},this.PublicKey={struct:{keyType:"u8",data:{array:{type:"u8",len:32}}}},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}}(schema),Object.defineProperty(create_transaction,"__esModule",{value:!0}),create_transaction.createTransaction=void 0;const schema_1$1=schema;function createTransaction(pe,ge,Se,Ne,Ze,Je){const Xe=typeof Ne=="bigint"?Ne:BigInt(Ne);return new schema_1$1.Transaction({signerId:pe,publicKey:ge,nonce:Xe,receiverId:Se,actions:Ze,blockHash:Je})}create_transaction.createTransaction=createTransaction;var delegate={};Object.defineProperty(delegate,"__esModule",{value:!0}),delegate.buildDelegateAction=delegate.DelegateAction=void 0;const types_1$9=lib$8,action_creators_1=action_creators,{addKey:addKey$2,createAccount:createAccount$1,deleteAccount:deleteAccount$1,deleteKey:deleteKey$2,deployContract:deployContract$3,functionCall:functionCall$4,stake:stake$1,transfer:transfer$1}=action_creators_1.actionCreators;class DelegateAction extends types_1$9.Assignable{}delegate.DelegateAction=DelegateAction;function buildDelegateAction({actions:pe,maxBlockHeight:ge,nonce:Se,publicKey:Ne,receiverId:Ze,senderId:Je}){return new DelegateAction({senderId:Je,receiverId:Ze,actions:pe.map(Xe=>{if(!Xe.type&&!Xe.params)return Xe;switch(Xe.type){case"AddKey":{const{publicKey:vt,accessKey:gt}=Xe.params;return addKey$2(vt,gt)}case"CreateAccount":return createAccount$1(Xe.params.createAccount);case"DeleteAccount":return deleteAccount$1(Xe.params.deleteAccount);case"DeleteKey":return deleteKey$2(Xe.params.publicKey);case"DeployContract":return deployContract$3(Xe.params.code);case"FunctionCall":{const{methodName:vt,args:gt,gas:kt,deposit:mt}=Xe.params;return functionCall$4(vt,gt,kt,mt)}case"Stake":return stake$1(Xe.params.stake,Xe.params.publicKey);case"Transfer":{const{deposit:vt}=Xe.params;return transfer$1(vt)}}throw new Error("Unrecognized action")}),nonce:Se,maxBlockHeight:ge,publicKey:Ne})}delegate.buildDelegateAction=buildDelegateAction;var sign$3={},sha256$3={},_sha2$1={},_assert$1={};Object.defineProperty(_assert$1,"__esModule",{value:!0}),_assert$1.output=_assert$1.exists=_assert$1.hash=_assert$1.bytes=_assert$1.bool=_assert$1.number=void 0;function number$1(pe){if(!Number.isSafeInteger(pe)||pe<0)throw new Error(`Wrong positive integer: ${pe}`)}_assert$1.number=number$1;function bool$1(pe){if(typeof pe!="boolean")throw new Error(`Expected boolean, not ${pe}`)}_assert$1.bool=bool$1;function isBytes$1(pe){return pe instanceof Uint8Array||pe!=null&&typeof pe=="object"&&pe.constructor.name==="Uint8Array"}function bytes$1(pe,...ge){if(!isBytes$1(pe))throw new Error("Expected Uint8Array");if(ge.length>0&&!ge.includes(pe.length))throw new Error(`Expected Uint8Array of length ${ge}, not of length=${pe.length}`)}_assert$1.bytes=bytes$1;function hash$5(pe){if(typeof pe!="function"||typeof pe.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(pe.outputLen),number$1(pe.blockLen)}_assert$1.hash=hash$5;function exists$1(pe,ge=!0){if(pe.destroyed)throw new Error("Hash instance has been destroyed");if(ge&&pe.finished)throw new Error("Hash#digest() has already been called")}_assert$1.exists=exists$1;function output$1(pe,ge){bytes$1(pe);const Se=ge.outputLen;if(pe.length<Se)throw new Error(`digestInto() expects output buffer of length at least ${Se}`)}_assert$1.output=output$1;const assert$k={number:number$1,bool:bool$1,bytes:bytes$1,hash:hash$5,exists:exists$1,output:output$1};_assert$1.default=assert$k;var utils$B={},crypto$3={};Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.crypto=void 0,crypto$3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(pe){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(pe,"__esModule",{value:!0}),pe.randomBytes=pe.wrapXOFConstructorWithOpts=pe.wrapConstructorWithOpts=pe.wrapConstructor=pe.checkOpts=pe.Hash=pe.concatBytes=pe.toBytes=pe.utf8ToBytes=pe.asyncLoop=pe.nextTick=pe.hexToBytes=pe.bytesToHex=pe.isLE=pe.rotr=pe.createView=pe.u32=pe.u8=void 0;const ge=crypto$3,Se=jr=>new Uint8Array(jr.buffer,jr.byteOffset,jr.byteLength);pe.u8=Se;const Ne=jr=>new Uint32Array(jr.buffer,jr.byteOffset,Math.floor(jr.byteLength/4));pe.u32=Ne;function Ze(jr){return jr instanceof Uint8Array||jr!=null&&typeof jr=="object"&&jr.constructor.name==="Uint8Array"}const Je=jr=>new DataView(jr.buffer,jr.byteOffset,jr.byteLength);pe.createView=Je;const Xe=(jr,Dr)=>jr<<32-Dr|jr>>>Dr;if(pe.rotr=Xe,pe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!pe.isLE)throw new Error("Non little-endian hardware is not supported");const vt=Array.from({length:256},(jr,Dr)=>Dr.toString(16).padStart(2,"0"));function gt(jr){if(!Ze(jr))throw new Error("Uint8Array expected");let Dr="";for(let Vr=0;Vr<jr.length;Vr++)Dr+=vt[jr[Vr]];return Dr}pe.bytesToHex=gt;const kt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function mt(jr){if(jr>=kt._0&&jr<=kt._9)return jr-kt._0;if(jr>=kt._A&&jr<=kt._F)return jr-(kt._A-10);if(jr>=kt._a&&jr<=kt._f)return jr-(kt._a-10)}function xt(jr){if(typeof jr!="string")throw new Error("hex string expected, got "+typeof jr);const Dr=jr.length,Vr=Dr/2;if(Dr%2)throw new Error("padded hex string expected, got unpadded hex of length "+Dr);const Ir=new Uint8Array(Vr);for(let br=0,Vt=0;br<Vr;br++,Vt+=2){const ht=mt(jr.charCodeAt(Vt)),Ct=mt(jr.charCodeAt(Vt+1));if(ht===void 0||Ct===void 0){const or=jr[Vt]+jr[Vt+1];throw new Error('hex string expected, got non-hex character "'+or+'" at index '+Vt)}Ir[br]=ht*16+Ct}return Ir}pe.hexToBytes=xt;const fr=async()=>{};pe.nextTick=fr;async function ar(jr,Dr,Vr){let Ir=Date.now();for(let br=0;br<jr;br++){Vr(br);const Vt=Date.now()-Ir;Vt>=0&&Vt<Dr||(await(0,pe.nextTick)(),Ir+=Vt)}}pe.asyncLoop=ar;function gr(jr){if(typeof jr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof jr}`);return new Uint8Array(new TextEncoder().encode(jr))}pe.utf8ToBytes=gr;function wr(jr){if(typeof jr=="string"&&(jr=gr(jr)),!Ze(jr))throw new Error(`expected Uint8Array, got ${typeof jr}`);return jr}pe.toBytes=wr;function Er(...jr){let Dr=0;for(let Ir=0;Ir<jr.length;Ir++){const br=jr[Ir];if(!Ze(br))throw new Error("Uint8Array expected");Dr+=br.length}const Vr=new Uint8Array(Dr);for(let Ir=0,br=0;Ir<jr.length;Ir++){const Vt=jr[Ir];Vr.set(Vt,br),br+=Vt.length}return Vr}pe.concatBytes=Er;class _r{clone(){return this._cloneInto()}}pe.Hash=_r;const Sr={}.toString;function Or(jr,Dr){if(Dr!==void 0&&Sr.call(Dr)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(jr,Dr)}pe.checkOpts=Or;function Pr(jr){const Dr=Ir=>jr().update(wr(Ir)).digest(),Vr=jr();return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=()=>jr(),Dr}pe.wrapConstructor=Pr;function kr(jr){const Dr=(Ir,br)=>jr(br).update(wr(Ir)).digest(),Vr=jr({});return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=Ir=>jr(Ir),Dr}pe.wrapConstructorWithOpts=kr;function Ur(jr){const Dr=(Ir,br)=>jr(br).update(wr(Ir)).digest(),Vr=jr({});return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=Ir=>jr(Ir),Dr}pe.wrapXOFConstructorWithOpts=Ur;function Yr(jr=32){if(ge.crypto&&typeof ge.crypto.getRandomValues=="function")return ge.crypto.getRandomValues(new Uint8Array(jr));throw new Error("crypto.getRandomValues must be defined")}pe.randomBytes=Yr}(utils$B),Object.defineProperty(_sha2$1,"__esModule",{value:!0}),_sha2$1.SHA2=void 0;const _assert_js_1$1=_assert$1,utils_js_1$3=utils$B;function setBigUint64$1(pe,ge,Se,Ne){if(typeof pe.setBigUint64=="function")return pe.setBigUint64(ge,Se,Ne);const Ze=BigInt(32),Je=BigInt(4294967295),Xe=Number(Se>>Ze&Je),vt=Number(Se&Je),gt=Ne?4:0,kt=Ne?0:4;pe.setUint32(ge+gt,Xe,Ne),pe.setUint32(ge+kt,vt,Ne)}let SHA2$1=class extends utils_js_1$3.Hash{constructor(ge,Se,Ne,Ze){super(),this.blockLen=ge,this.outputLen=Se,this.padOffset=Ne,this.isLE=Ze,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ge),this.view=(0,utils_js_1$3.createView)(this.buffer)}update(ge){(0,_assert_js_1$1.exists)(this);const{view:Se,buffer:Ne,blockLen:Ze}=this;ge=(0,utils_js_1$3.toBytes)(ge);const Je=ge.length;for(let Xe=0;Xe<Je;){const vt=Math.min(Ze-this.pos,Je-Xe);if(vt===Ze){const gt=(0,utils_js_1$3.createView)(ge);for(;Ze<=Je-Xe;Xe+=Ze)this.process(gt,Xe);continue}Ne.set(ge.subarray(Xe,Xe+vt),this.pos),this.pos+=vt,Xe+=vt,this.pos===Ze&&(this.process(Se,0),this.pos=0)}return this.length+=ge.length,this.roundClean(),this}digestInto(ge){(0,_assert_js_1$1.exists)(this),(0,_assert_js_1$1.output)(ge,this),this.finished=!0;const{buffer:Se,view:Ne,blockLen:Ze,isLE:Je}=this;let{pos:Xe}=this;Se[Xe++]=128,this.buffer.subarray(Xe).fill(0),this.padOffset>Ze-Xe&&(this.process(Ne,0),Xe=0);for(let xt=Xe;xt<Ze;xt++)Se[xt]=0;setBigUint64$1(Ne,Ze-8,BigInt(this.length*8),Je),this.process(Ne,0);const vt=(0,utils_js_1$3.createView)(ge),gt=this.outputLen;if(gt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const kt=gt/4,mt=this.get();if(kt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let xt=0;xt<kt;xt++)vt.setUint32(4*xt,mt[xt],Je)}digest(){const{buffer:ge,outputLen:Se}=this;this.digestInto(ge);const Ne=ge.slice(0,Se);return this.destroy(),Ne}_cloneInto(ge){ge||(ge=new this.constructor),ge.set(...this.get());const{blockLen:Se,buffer:Ne,length:Ze,finished:Je,destroyed:Xe,pos:vt}=this;return ge.length=Ze,ge.pos=vt,ge.finished=Je,ge.destroyed=Xe,Ze%Se&&ge.buffer.set(Ne),ge}};_sha2$1.SHA2=SHA2$1,Object.defineProperty(sha256$3,"__esModule",{value:!0}),sha256$3.sha224=sha256$3.sha256=void 0;const _sha2_js_1$1=_sha2$1,utils_js_1$2=utils$B,Chi$1=(pe,ge,Se)=>pe&ge^~pe&Se,Maj$1=(pe,ge,Se)=>pe&ge^pe&Se^ge&Se,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$3=class extends _sha2_js_1$1.SHA2{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:ge,B:Se,C:Ne,D:Ze,E:Je,F:Xe,G:vt,H:gt}=this;return[ge,Se,Ne,Ze,Je,Xe,vt,gt]}set(ge,Se,Ne,Ze,Je,Xe,vt,gt){this.A=ge|0,this.B=Se|0,this.C=Ne|0,this.D=Ze|0,this.E=Je|0,this.F=Xe|0,this.G=vt|0,this.H=gt|0}process(ge,Se){for(let xt=0;xt<16;xt++,Se+=4)SHA256_W$1[xt]=ge.getUint32(Se,!1);for(let xt=16;xt<64;xt++){const fr=SHA256_W$1[xt-15],ar=SHA256_W$1[xt-2],gr=(0,utils_js_1$2.rotr)(fr,7)^(0,utils_js_1$2.rotr)(fr,18)^fr>>>3,wr=(0,utils_js_1$2.rotr)(ar,17)^(0,utils_js_1$2.rotr)(ar,19)^ar>>>10;SHA256_W$1[xt]=wr+SHA256_W$1[xt-7]+gr+SHA256_W$1[xt-16]|0}let{A:Ne,B:Ze,C:Je,D:Xe,E:vt,F:gt,G:kt,H:mt}=this;for(let xt=0;xt<64;xt++){const fr=(0,utils_js_1$2.rotr)(vt,6)^(0,utils_js_1$2.rotr)(vt,11)^(0,utils_js_1$2.rotr)(vt,25),ar=mt+fr+Chi$1(vt,gt,kt)+SHA256_K$1[xt]+SHA256_W$1[xt]|0,wr=((0,utils_js_1$2.rotr)(Ne,2)^(0,utils_js_1$2.rotr)(Ne,13)^(0,utils_js_1$2.rotr)(Ne,22))+Maj$1(Ne,Ze,Je)|0;mt=kt,kt=gt,gt=vt,vt=Xe+ar|0,Xe=Je,Je=Ze,Ze=Ne,Ne=ar+wr|0}Ne=Ne+this.A|0,Ze=Ze+this.B|0,Je=Je+this.C|0,Xe=Xe+this.D|0,vt=vt+this.E|0,gt=gt+this.F|0,kt=kt+this.G|0,mt=mt+this.H|0,this.set(Ne,Ze,Je,Xe,vt,gt,kt,mt)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SHA224$2=class extends SHA256$3{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};sha256$3.sha256=(0,utils_js_1$2.wrapConstructor)(()=>new SHA256$3),sha256$3.sha224=(0,utils_js_1$2.wrapConstructor)(()=>new SHA224$2);var signature$2={};Object.defineProperty(signature$2,"__esModule",{value:!0}),signature$2.Signature=void 0;const types_1$8=lib$8;let Signature$3=class extends types_1$8.Assignable{};signature$2.Signature=Signature$3;var __awaiter$f=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(sign$3,"__esModule",{value:!0}),sign$3.signDelegateAction=sign$3.signTransaction=void 0;const sha256_1$1=sha256$3,actions_1=actions,create_transaction_1=create_transaction,schema_1=schema,signature_1=signature$2;function signTransactionObject(pe,ge,Se,Ne){return __awaiter$f(this,void 0,void 0,function*(){const Ze=(0,schema_1.encodeTransaction)(pe),Je=new Uint8Array((0,sha256_1$1.sha256)(Ze)),Xe=yield ge.signMessage(Ze,Se,Ne),vt=new schema_1.SignedTransaction({transaction:pe,signature:new signature_1.Signature({keyType:pe.publicKey.keyType,data:Xe.signature})});return[Je,vt]})}function signTransaction(...pe){return __awaiter$f(this,void 0,void 0,function*(){if(pe[0].constructor===schema_1.Transaction){const[ge,Se,Ne,Ze]=pe;return signTransactionObject(ge,Se,Ne,Ze)}else{const[ge,Se,Ne,Ze,Je,Xe,vt]=pe,gt=yield Je.getPublicKey(Xe,vt),kt=(0,create_transaction_1.createTransaction)(Xe,gt,ge,Se,Ne,Ze);return signTransactionObject(kt,Je,Xe,vt)}})}sign$3.signTransaction=signTransaction;function signDelegateAction({delegateAction:pe,signer:ge}){return __awaiter$f(this,void 0,void 0,function*(){const Se=(0,schema_1.encodeDelegateAction)(pe),Ne=yield ge.sign(Se),Ze=new actions_1.SignedDelegate({delegateAction:pe,signature:new signature_1.Signature({keyType:pe.publicKey.keyType,data:Ne})});return{hash:new Uint8Array((0,sha256_1$1.sha256)(Se)),signedDelegateAction:Ze}})}sign$3.signDelegateAction=signDelegateAction,function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je);var vt=Object.getOwnPropertyDescriptor(Ze,Je);(!vt||("get"in vt?!Ze.__esModule:vt.writable||vt.configurable))&&(vt={enumerable:!0,get:function(){return Ze[Je]}}),Object.defineProperty(Ne,Xe,vt)}:function(Ne,Ze,Je,Xe){Xe===void 0&&(Xe=Je),Ne[Xe]=Ze[Je]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(Ne,Ze){for(var Je in Ne)Je!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,Je)&&ge(Ze,Ne,Je)};Object.defineProperty(pe,"__esModule",{value:!0}),Se(action_creators,pe),Se(actions,pe),Se(create_transaction,pe),Se(delegate,pe),Se(schema,pe),Se(sign$3,pe),Se(signature$2,pe)}(lib$5);var provider$1={};Object.defineProperty(provider$1,"__esModule",{value:!0}),provider$1.Provider=void 0;class Provider{}provider$1.Provider=Provider;var fetch_json={},httpErrors={exports:{}};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var browser$e=depd;function depd(pe){if(!pe)throw new TypeError("argument namespace is required");function ge(Se){}return ge._file=void 0,ge._ignored=!0,ge._namespace=pe,ge._traced=!1,ge._warned=Object.create(null),ge.function=wrapfunction,ge.property=wrapproperty,ge}function wrapfunction(pe,ge){if(typeof pe!="function")throw new TypeError("argument fn must be a function");return pe}function wrapproperty(pe,ge,Se){if(!pe||typeof pe!="object"&&typeof pe!="function")throw new TypeError("argument obj must be object");var Ne=Object.getOwnPropertyDescriptor(pe,ge);if(!Ne)throw new TypeError("must call property on owner object");if(!Ne.configurable)throw new TypeError("property must be configurable")}var setprototypeof=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(pe,ge){return pe.__proto__=ge,pe}function mixinProperties(pe,ge){for(var Se in ge)pe.hasOwnProperty(Se)||(pe[Se]=ge[Se]);return pe}const require$$0$2={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var codes=require$$0$2,statuses=status;status.STATUS_CODES=codes,status.codes=populateStatusesMap(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0};function populateStatusesMap(pe,ge){var Se=[];return Object.keys(ge).forEach(function(Ze){var Je=ge[Ze],Xe=Number(Ze);pe[Xe]=Je,pe[Je]=Xe,pe[Je.toLowerCase()]=Xe,Se.push(Xe)}),Se}function status(pe){if(typeof pe=="number"){if(!status[pe])throw new Error("invalid status code: "+pe);return pe}if(typeof pe!="string")throw new TypeError("code must be a number or string");var ge=parseInt(pe,10);if(!isNaN(ge)){if(!status[ge])throw new Error("invalid status code: "+ge);return ge}if(ge=status[pe.toLowerCase()],!ge)throw new Error('invalid status message: "'+pe+'"');return ge}var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(ge,Se){ge.super_=Se,ge.prototype=Object.create(Se.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$1.exports=function(ge,Se){ge.super_=Se;var Ne=function(){};Ne.prototype=Se.prototype,ge.prototype=new Ne,ge.prototype.constructor=ge};var inherits_browserExports$1=inherits_browser$1.exports;/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var toidentifier=toIdentifier;function toIdentifier(pe){return pe.split(" ").map(function(ge){return ge.slice(0,1).toUpperCase()+ge.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */(function(pe){var ge=browser$e("http-errors"),Se=setprototypeof,Ne=statuses,Ze=inherits_browserExports$1,Je=toidentifier;pe.exports=vt,pe.exports.HttpError=gt(),fr(pe.exports,Ne.codes,pe.exports.HttpError);function Xe(ar){return+(String(ar).charAt(0)+"00")}function vt(){for(var ar,gr,wr=500,Er={},_r=0;_r<arguments.length;_r++){var Sr=arguments[_r];if(Sr instanceof Error){ar=Sr,wr=ar.status||ar.statusCode||wr;continue}switch(typeof Sr){case"string":gr=Sr;break;case"number":wr=Sr;break;case"object":Er=Sr;break}}(typeof wr!="number"||!Ne[wr]&&(wr<400||wr>=600))&&(wr=500);var Or=vt[wr]||vt[Xe(wr)];ar||(ar=Or?new Or(gr):new Error(gr||Ne[wr]),Error.captureStackTrace(ar,vt)),(!Or||!(ar instanceof Or)||ar.status!==wr)&&(ar.expose=wr<500,ar.status=ar.statusCode=wr);for(var Pr in Er)Pr!=="status"&&Pr!=="statusCode"&&(ar[Pr]=Er[Pr]);return ar}function gt(){function ar(){throw new TypeError("cannot construct abstract class")}return Ze(ar,Error),ar}function kt(ar,gr,wr){var Er=gr.match(/Error$/)?gr:gr+"Error";function _r(Sr){var Or=Sr??Ne[wr],Pr=new Error(Or);return Error.captureStackTrace(Pr,_r),Se(Pr,_r.prototype),Object.defineProperty(Pr,"message",{enumerable:!0,configurable:!0,value:Or,writable:!0}),Object.defineProperty(Pr,"name",{enumerable:!1,configurable:!0,value:Er,writable:!0}),Pr}return Ze(_r,ar),xt(_r,Er),_r.prototype.status=wr,_r.prototype.statusCode=wr,_r.prototype.expose=!0,_r}function mt(ar,gr,wr){var Er=gr.match(/Error$/)?gr:gr+"Error";function _r(Sr){var Or=Sr??Ne[wr],Pr=new Error(Or);return Error.captureStackTrace(Pr,_r),Se(Pr,_r.prototype),Object.defineProperty(Pr,"message",{enumerable:!0,configurable:!0,value:Or,writable:!0}),Object.defineProperty(Pr,"name",{enumerable:!1,configurable:!0,value:Er,writable:!0}),Pr}return Ze(_r,ar),xt(_r,Er),_r.prototype.status=wr,_r.prototype.statusCode=wr,_r.prototype.expose=!1,_r}function xt(ar,gr){var wr=Object.getOwnPropertyDescriptor(ar,"name");wr&&wr.configurable&&(wr.value=gr,Object.defineProperty(ar,"name",wr))}function fr(ar,gr,wr){gr.forEach(function(_r){var Sr,Or=Je(Ne[_r]);switch(Xe(_r)){case 400:Sr=kt(wr,Or,_r);break;case 500:Sr=mt(wr,Or,_r);break}Sr&&(ar[_r]=Sr,ar[Or]=Sr)}),ar["I'mateapot"]=ge.function(ar.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}})(httpErrors);var httpErrorsExports=httpErrors.exports,fetch$1={},browser$d={exports:{}},hasRequiredBrowser$4;function requireBrowser$4(){return hasRequiredBrowser$4||(hasRequiredBrowser$4=1,function(pe,ge){var Se=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ne<"u")return Ne;throw new Error("unable to locate global object")},Ne=Se();pe.exports=ge=Ne.fetch,Ne.fetch&&(ge.default=Ne.fetch.bind(Ne)),ge.Headers=Ne.Headers,ge.Request=Ne.Request,ge.Response=Ne.Response}(browser$d,browser$d.exports)),browser$d.exports}var streamHttp={},request={exports:{}},capability={},hasRequiredCapability;function requireCapability(){return hasRequiredCapability||(hasRequiredCapability=1,function(pe){pe.fetch=Ze(commonjsGlobal$1.fetch)&&Ze(commonjsGlobal$1.ReadableStream),pe.writableStream=Ze(commonjsGlobal$1.WritableStream),pe.abortController=Ze(commonjsGlobal$1.AbortController);var ge;function Se(){if(ge!==void 0)return ge;if(commonjsGlobal$1.XMLHttpRequest){ge=new commonjsGlobal$1.XMLHttpRequest;try{ge.open("GET",commonjsGlobal$1.XDomainRequest?"/":"https://example.com")}catch{ge=null}}else ge=null;return ge}function Ne(Je){var Xe=Se();if(!Xe)return!1;try{return Xe.responseType=Je,Xe.responseType===Je}catch{}return!1}pe.arraybuffer=pe.fetch||Ne("arraybuffer"),pe.msstream=!pe.fetch&&Ne("ms-stream"),pe.mozchunkedarraybuffer=!pe.fetch&&Ne("moz-chunked-arraybuffer"),pe.overrideMimeType=pe.fetch||(Se()?Ze(Se().overrideMimeType):!1);function Ze(Je){return typeof Je=="function"}ge=null}(capability)),capability}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(ge,Se){Se&&(ge.super_=Se,ge.prototype=Object.create(Se.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(ge,Se){if(Se){ge.super_=Se;var Ne=function(){};Ne.prototype=Se.prototype,ge.prototype=new Ne,ge.prototype.constructor=ge}};var inherits_browserExports=inherits_browser.exports,response={},readableBrowser$1={exports:{}},events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply=R$2&&typeof R$2.apply=="function"?R$2.apply:function(ge,Se,Ne){return Function.prototype.apply.call(ge,Se,Ne)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(ge){return Object.getOwnPropertyNames(ge).concat(Object.getOwnPropertySymbols(ge))}:ReflectOwnKeys=function(ge){return Object.getOwnPropertyNames(ge)};function ProcessEmitWarning(pe){console&&console.warn&&console.warn(pe)}var NumberIsNaN=Number.isNaN||function(ge){return ge!==ge};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(pe){if(typeof pe!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof pe)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(pe){if(typeof pe!="number"||pe<0||NumberIsNaN(pe))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+pe+".");defaultMaxListeners=pe}}),EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(ge){if(typeof ge!="number"||ge<0||NumberIsNaN(ge))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ge+".");return this._maxListeners=ge,this};function _getMaxListeners(pe){return pe._maxListeners===void 0?EventEmitter.defaultMaxListeners:pe._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(ge){for(var Se=[],Ne=1;Ne<arguments.length;Ne++)Se.push(arguments[Ne]);var Ze=ge==="error",Je=this._events;if(Je!==void 0)Ze=Ze&&Je.error===void 0;else if(!Ze)return!1;if(Ze){var Xe;if(Se.length>0&&(Xe=Se[0]),Xe instanceof Error)throw Xe;var vt=new Error("Unhandled error."+(Xe?" ("+Xe.message+")":""));throw vt.context=Xe,vt}var gt=Je[ge];if(gt===void 0)return!1;if(typeof gt=="function")ReflectApply(gt,this,Se);else for(var kt=gt.length,mt=arrayClone(gt,kt),Ne=0;Ne<kt;++Ne)ReflectApply(mt[Ne],this,Se);return!0};function _addListener(pe,ge,Se,Ne){var Ze,Je,Xe;if(checkListener(Se),Je=pe._events,Je===void 0?(Je=pe._events=Object.create(null),pe._eventsCount=0):(Je.newListener!==void 0&&(pe.emit("newListener",ge,Se.listener?Se.listener:Se),Je=pe._events),Xe=Je[ge]),Xe===void 0)Xe=Je[ge]=Se,++pe._eventsCount;else if(typeof Xe=="function"?Xe=Je[ge]=Ne?[Se,Xe]:[Xe,Se]:Ne?Xe.unshift(Se):Xe.push(Se),Ze=_getMaxListeners(pe),Ze>0&&Xe.length>Ze&&!Xe.warned){Xe.warned=!0;var vt=new Error("Possible EventEmitter memory leak detected. "+Xe.length+" "+String(ge)+" listeners added. Use emitter.setMaxListeners() to increase limit");vt.name="MaxListenersExceededWarning",vt.emitter=pe,vt.type=ge,vt.count=Xe.length,ProcessEmitWarning(vt)}return pe}EventEmitter.prototype.addListener=function(ge,Se){return _addListener(this,ge,Se,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(ge,Se){return _addListener(this,ge,Se,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(pe,ge,Se){var Ne={fired:!1,wrapFn:void 0,target:pe,type:ge,listener:Se},Ze=onceWrapper.bind(Ne);return Ze.listener=Se,Ne.wrapFn=Ze,Ze}EventEmitter.prototype.once=function(ge,Se){return checkListener(Se),this.on(ge,_onceWrap(this,ge,Se)),this},EventEmitter.prototype.prependOnceListener=function(ge,Se){return checkListener(Se),this.prependListener(ge,_onceWrap(this,ge,Se)),this},EventEmitter.prototype.removeListener=function(ge,Se){var Ne,Ze,Je,Xe,vt;if(checkListener(Se),Ze=this._events,Ze===void 0)return this;if(Ne=Ze[ge],Ne===void 0)return this;if(Ne===Se||Ne.listener===Se)--this._eventsCount===0?this._events=Object.create(null):(delete Ze[ge],Ze.removeListener&&this.emit("removeListener",ge,Ne.listener||Se));else if(typeof Ne!="function"){for(Je=-1,Xe=Ne.length-1;Xe>=0;Xe--)if(Ne[Xe]===Se||Ne[Xe].listener===Se){vt=Ne[Xe].listener,Je=Xe;break}if(Je<0)return this;Je===0?Ne.shift():spliceOne(Ne,Je),Ne.length===1&&(Ze[ge]=Ne[0]),Ze.removeListener!==void 0&&this.emit("removeListener",ge,vt||Se)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(ge){var Se,Ne,Ze;if(Ne=this._events,Ne===void 0)return this;if(Ne.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ne[ge]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Ne[ge]),this;if(arguments.length===0){var Je=Object.keys(Ne),Xe;for(Ze=0;Ze<Je.length;++Ze)Xe=Je[Ze],Xe!=="removeListener"&&this.removeAllListeners(Xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Se=Ne[ge],typeof Se=="function")this.removeListener(ge,Se);else if(Se!==void 0)for(Ze=Se.length-1;Ze>=0;Ze--)this.removeListener(ge,Se[Ze]);return this};function _listeners(pe,ge,Se){var Ne=pe._events;if(Ne===void 0)return[];var Ze=Ne[ge];return Ze===void 0?[]:typeof Ze=="function"?Se?[Ze.listener||Ze]:[Ze]:Se?unwrapListeners(Ze):arrayClone(Ze,Ze.length)}EventEmitter.prototype.listeners=function(ge){return _listeners(this,ge,!0)},EventEmitter.prototype.rawListeners=function(ge){return _listeners(this,ge,!1)},EventEmitter.listenerCount=function(pe,ge){return typeof pe.listenerCount=="function"?pe.listenerCount(ge):listenerCount.call(pe,ge)},EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(pe){var ge=this._events;if(ge!==void 0){var Se=ge[pe];if(typeof Se=="function")return 1;if(Se!==void 0)return Se.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(pe,ge){for(var Se=new Array(ge),Ne=0;Ne<ge;++Ne)Se[Ne]=pe[Ne];return Se}function spliceOne(pe,ge){for(;ge+1<pe.length;ge++)pe[ge]=pe[ge+1];pe.pop()}function unwrapListeners(pe){for(var ge=new Array(pe.length),Se=0;Se<ge.length;++Se)ge[Se]=pe[Se].listener||pe[Se];return ge}function once(pe,ge){return new Promise(function(Se,Ne){function Ze(Xe){pe.removeListener(ge,Je),Ne(Xe)}function Je(){typeof pe.removeListener=="function"&&pe.removeListener("error",Ze),Se([].slice.call(arguments))}eventTargetAgnosticAddListener(pe,ge,Je,{once:!0}),ge!=="error"&&addErrorHandlerIfEventEmitter(pe,Ze,{once:!0})})}function addErrorHandlerIfEventEmitter(pe,ge,Se){typeof pe.on=="function"&&eventTargetAgnosticAddListener(pe,"error",ge,Se)}function eventTargetAgnosticAddListener(pe,ge,Se,Ne){if(typeof pe.on=="function")Ne.once?pe.once(ge,Se):pe.on(ge,Se);else if(typeof pe.addEventListener=="function")pe.addEventListener(ge,function Ze(Je){Ne.once&&pe.removeEventListener(ge,Ze),Se(Je)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof pe)}var eventsExports=events.exports,streamBrowser$1,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var util$4={},types$3={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var ge={},Se=Symbol("test"),Ne=Object(Se);if(typeof Se=="string"||Object.prototype.toString.call(Se)!=="[object Symbol]"||Object.prototype.toString.call(Ne)!=="[object Symbol]")return!1;var Ze=42;ge[Se]=Ze;for(var Je in ge)return!1;if(typeof Object.keys=="function"&&Object.keys(ge).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(ge).length!==0)return!1;var Xe=Object.getOwnPropertySymbols(ge);if(Xe.length!==1||Xe[0]!==Se||!Object.prototype.propertyIsEnumerable.call(ge,Se))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var vt=Object.getOwnPropertyDescriptor(ge,Se);if(vt.value!==Ze||vt.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri=URIError,abs$1=Math.abs,floor$2=Math.floor,max$3=Math.max,min$3=Math.min,pow$1=Math.pow,round$1=Math.round,_isNaN=Number.isNaN||function(ge){return ge!==ge},$isNaN=_isNaN,sign$2=function(ge){return $isNaN(ge)||ge===0?ge:ge<0?-1:1},gOPD$4=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$4;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,hasSymbols$1,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$1;hasRequiredHasSymbols=1;var pe=typeof Symbol<"u"&&Symbol,ge=shams$1;return hasSymbols$1=function(){return typeof pe!="function"||typeof Symbol!="function"||typeof pe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ge()},hasSymbols$1}var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,$Object$2=esObjectAtoms,Object_getPrototypeOf=$Object$2.getPrototypeOf||null,ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max$2=Math.max,funcType="[object Function]",concatty=function(ge,Se){for(var Ne=[],Ze=0;Ze<ge.length;Ze+=1)Ne[Ze]=ge[Ze];for(var Je=0;Je<Se.length;Je+=1)Ne[Je+ge.length]=Se[Je];return Ne},slicy=function(ge,Se){for(var Ne=[],Ze=Se,Je=0;Ze<ge.length;Ze+=1,Je+=1)Ne[Je]=ge[Ze];return Ne},joiny=function(pe,ge){for(var Se="",Ne=0;Ne<pe.length;Ne+=1)Se+=pe[Ne],Ne+1<pe.length&&(Se+=ge);return Se},implementation$1=function(ge){var Se=this;if(typeof Se!="function"||toStr$3.apply(Se)!==funcType)throw new TypeError(ERROR_MESSAGE+Se);for(var Ne=slicy(arguments,1),Ze,Je=function(){if(this instanceof Ze){var mt=Se.apply(this,concatty(Ne,arguments));return Object(mt)===mt?mt:this}return Se.apply(ge,concatty(Ne,arguments))},Xe=max$2(0,Se.length-Ne.length),vt=[],gt=0;gt<Xe;gt++)vt[gt]="$"+gt;if(Ze=Function("binder","return function ("+joiny(vt,",")+"){ return binder.apply(this,arguments); }")(Je),Se.prototype){var kt=function(){};kt.prototype=Se.prototype,Ze.prototype=new kt,kt.prototype=null}return Ze},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,functionCall$3=Function.prototype.call,functionApply=Function.prototype.apply,reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$7=functionBind,$apply$2=functionApply,$call$2=functionCall$3,$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$7.call($call$2,$apply$2),bind$6=functionBind,$TypeError$5=requireType(),$call$1=functionCall$3,$actualApply=actualApply$1,callBindApplyHelpers=function(ge){if(ge.length<1||typeof ge[0]!="function")throw new $TypeError$5("a function is required");return $actualApply(bind$6,$call$1,ge)},callBind$2=callBindApplyHelpers,gOPD$3=gopd$1,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(pe){if(!pe||typeof pe!="object"||!("code"in pe)||pe.code!=="ERR_PROTO_ACCESS")throw pe}var desc=!!hasProtoAccessor&&gOPD$3&&gOPD$3(Object.prototype,"__proto__"),$Object$1=Object,$getPrototypeOf=$Object$1.getPrototypeOf,get$2=desc&&typeof desc.get=="function"?callBind$2([desc.get]):typeof $getPrototypeOf=="function"?function(ge){return $getPrototypeOf(ge==null?ge:$Object$1(ge))}:!1,reflectGetProto=Reflect_getPrototypeOf,originalGetProto=Object_getPrototypeOf,getDunderProto=get$2,getProto$3=reflectGetProto?function(ge){return reflectGetProto(ge)}:originalGetProto?function(ge){if(!ge||typeof ge!="object"&&typeof ge!="function")throw new TypeError("getProto: not an object");return originalGetProto(ge)}:getDunderProto?function(ge){return getDunderProto(ge)}:null,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$5=functionBind,hasown=bind$5.call(call,$hasOwn),undefined$1,$Object=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$4=requireType(),$URIError=uri,abs=abs$1,floor$1=floor$2,max$1=max$3,min$2=min$3,pow=pow$1,round=round$1,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(pe){try{return $Function('"use strict"; return ('+pe+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$4},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=requireHasSymbols()(),getProto$2=getProto$3,$ObjectGPO=Object_getPrototypeOf,$ReflectGPO=Reflect_getPrototypeOf,$apply$1=functionApply,$call=functionCall$3,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$2?undefined$1:getProto$2(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$4,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor$1,"%Math.max%":max$1,"%Math.min%":min$2,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$2)try{null.error}catch(pe){var errorProto=getProto$2(getProto$2(pe));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function pe(ge){var Se;if(ge==="%AsyncFunction%")Se=getEvalledConstructor("async function () {}");else if(ge==="%GeneratorFunction%")Se=getEvalledConstructor("function* () {}");else if(ge==="%AsyncGeneratorFunction%")Se=getEvalledConstructor("async function* () {}");else if(ge==="%AsyncGenerator%"){var Ne=pe("%AsyncGeneratorFunction%");Ne&&(Se=Ne.prototype)}else if(ge==="%AsyncIteratorPrototype%"){var Ze=pe("%AsyncGenerator%");Ze&&getProto$2&&(Se=getProto$2(Ze.prototype))}return INTRINSICS[ge]=Se,Se},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$4=functionBind,hasOwn$1=hasown,$concat=bind$4.call($call,Array.prototype.concat),$spliceApply=bind$4.call($apply$1,Array.prototype.splice),$replace=bind$4.call($call,String.prototype.replace),$strSlice=bind$4.call($call,String.prototype.slice),$exec$2=bind$4.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(ge){var Se=$strSlice(ge,0,1),Ne=$strSlice(ge,-1);if(Se==="%"&&Ne!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(Ne==="%"&&Se!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var Ze=[];return $replace(ge,rePropName,function(Je,Xe,vt,gt){Ze[Ze.length]=vt?$replace(gt,reEscapeChar,"$1"):Xe||Je}),Ze},getBaseIntrinsic=function(ge,Se){var Ne=ge,Ze;if(hasOwn$1(LEGACY_ALIASES,Ne)&&(Ze=LEGACY_ALIASES[Ne],Ne="%"+Ze[0]+"%"),hasOwn$1(INTRINSICS,Ne)){var Je=INTRINSICS[Ne];if(Je===needsEval&&(Je=doEval(Ne)),typeof Je>"u"&&!Se)throw new $TypeError$4("intrinsic "+ge+" exists, but is not available. Please file an issue!");return{alias:Ze,name:Ne,value:Je}}throw new $SyntaxError$1("intrinsic "+ge+" does not exist!")},getIntrinsic=function(ge,Se){if(typeof ge!="string"||ge.length===0)throw new $TypeError$4("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Se!="boolean")throw new $TypeError$4('"allowMissing" argument must be a boolean');if($exec$2(/^%?[^%]*%?$/,ge)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ne=stringToPath(ge),Ze=Ne.length>0?Ne[0]:"",Je=getBaseIntrinsic("%"+Ze+"%",Se),Xe=Je.name,vt=Je.value,gt=!1,kt=Je.alias;kt&&(Ze=kt[0],$spliceApply(Ne,$concat([0,1],kt)));for(var mt=1,xt=!0;mt<Ne.length;mt+=1){var fr=Ne[mt],ar=$strSlice(fr,0,1),gr=$strSlice(fr,-1);if((ar==='"'||ar==="'"||ar==="`"||gr==='"'||gr==="'"||gr==="`")&&ar!==gr)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((fr==="constructor"||!xt)&&(gt=!0),Ze+="."+fr,Xe="%"+Ze+"%",hasOwn$1(INTRINSICS,Xe))vt=INTRINSICS[Xe];else if(vt!=null){if(!(fr in vt)){if(!Se)throw new $TypeError$4("base intrinsic for "+ge+" exists, but the property is not available.");return}if($gOPD&&mt+1>=Ne.length){var wr=$gOPD(vt,fr);xt=!!wr,xt&&"get"in wr&&!("originalValue"in wr.get)?vt=wr.get:vt=vt[fr]}else xt=hasOwn$1(vt,fr),vt=vt[fr];xt&&!gt&&(INTRINSICS[Xe]=vt)}}return vt},GetIntrinsic$1=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$1=callBindBasic([GetIntrinsic$1("%String.prototype.indexOf%")]),callBound$6=function(ge,Se){var Ne=GetIntrinsic$1(ge,!!Se);return typeof Ne=="function"&&$indexOf$1(ge,".prototype.")>-1?callBindBasic([Ne]):Ne},hasToStringTag$4=shams(),callBound$5=callBound$6,$toString$2=callBound$5("Object.prototype.toString"),isStandardArguments=function(ge){return hasToStringTag$4&&ge&&typeof ge=="object"&&Symbol.toStringTag in ge?!1:$toString$2(ge)==="[object Arguments]"},isLegacyArguments=function(ge){return isStandardArguments(ge)?!0:ge!==null&&typeof ge=="object"&&"length"in ge&&typeof ge.length=="number"&&ge.length>=0&&$toString$2(ge)!=="[object Array]"&&"callee"in ge&&$toString$2(ge.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,callBound$4=callBound$6,hasToStringTag$3=shams(),hasOwn=hasown,gOPD$2=gopd$1,fn;if(hasToStringTag$3){var $exec$1=callBound$4("RegExp.prototype.exec"),isRegexMarker={},throwRegexMarker=function(){throw isRegexMarker},badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn=function(ge){if(!ge||typeof ge!="object")return!1;var Se=gOPD$2(ge,"lastIndex"),Ne=Se&&hasOwn(Se,"value");if(!Ne)return!1;try{$exec$1(ge,badStringifier)}catch(Ze){return Ze===isRegexMarker}}}else{var $toString$1=callBound$4("Object.prototype.toString"),regexClass="[object RegExp]";fn=function(ge){return!ge||typeof ge!="object"&&typeof ge!="function"?!1:$toString$1(ge)===regexClass}}var isRegex$1=fn,callBound$3=callBound$6,isRegex=isRegex$1,$exec=callBound$3("RegExp.prototype.exec"),$TypeError$3=requireType(),safeRegexTest$1=function(ge){if(!isRegex(ge))throw new $TypeError$3("`regex` must be a RegExp");return function(Ne){return $exec(ge,Ne)!==null}},callBound$2=callBound$6,safeRegexTest=safeRegexTest$1,isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag$2=shams(),getProto$1=getProto$3,toStr$2=callBound$2("Object.prototype.toString"),fnToStr$1=callBound$2("Function.prototype.toString"),getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(ge){if(typeof ge!="function")return!1;if(isFnRegex(fnToStr$1(ge)))return!0;if(!hasToStringTag$2){var Se=toStr$2(ge);return Se==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var Ne=getGeneratorFunc();GeneratorFunction=Ne?getProto$1(Ne):!1}return getProto$1(ge)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(pe){pe!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(ge){try{var Se=fnToStr.call(ge);return constructorRegex.test(Se)}catch{return!1}},tryFunctionObject=function(ge){try{return isES6ClassFn(ge)?!1:(fnToStr.call(ge),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(ge){if((isIE68||!ge)&&(typeof ge>"u"||typeof ge=="object"))try{var Se=toStr$1.call(ge);return(Se===ddaClass||Se===ddaClass2||Se===ddaClass3||Se===objectClass)&&ge("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(ge){if(isDDA(ge))return!0;if(!ge||typeof ge!="function"&&typeof ge!="object")return!1;try{reflectApply(ge,null,badArrayLike)}catch(Se){if(Se!==isCallableMarker)return!1}return!isES6ClassFn(ge)&&tryFunctionObject(ge)}:function(ge){if(isDDA(ge))return!0;if(!ge||typeof ge!="function"&&typeof ge!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(ge);if(isES6ClassFn(ge))return!1;var Se=toStr$1.call(ge);return Se!==fnClass&&Se!==genClass&&!/^\[object HTML/.test(Se)?!1:tryFunctionObject(ge)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(ge,Se,Ne){for(var Ze=0,Je=ge.length;Ze<Je;Ze++)hasOwnProperty$2.call(ge,Ze)&&(Ne==null?Se(ge[Ze],Ze,ge):Se.call(Ne,ge[Ze],Ze,ge))},forEachString=function(ge,Se,Ne){for(var Ze=0,Je=ge.length;Ze<Je;Ze++)Ne==null?Se(ge.charAt(Ze),Ze,ge):Se.call(Ne,ge.charAt(Ze),Ze,ge)},forEachObject=function(ge,Se,Ne){for(var Ze in ge)hasOwnProperty$2.call(ge,Ze)&&(Ne==null?Se(ge[Ze],Ze,ge):Se.call(Ne,ge[Ze],Ze,ge))};function isArray$2(pe){return toStr.call(pe)==="[object Array]"}var forEach$1=function(ge,Se,Ne){if(!isCallable(Se))throw new TypeError("iterator must be a function");var Ze;arguments.length>=3&&(Ze=Ne),isArray$2(ge)?forEachArray(ge,Se,Ze):typeof ge=="string"?forEachString(ge,Se,Ze):forEachObject(ge,Se,Ze)},possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$3=typeof globalThis>"u"?commonjsGlobal$1:globalThis,availableTypedArrays$1=function(){for(var ge=[],Se=0;Se<possibleNames.length;Se++)typeof g$3[possibleNames[Se]]=="function"&&(ge[ge.length]=possibleNames[Se]);return ge},callBind$1={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$2=requireType(),gopd=gopd$1,defineDataProperty=function(ge,Se,Ne){if(!ge||typeof ge!="object"&&typeof ge!="function")throw new $TypeError$2("`obj` must be an object or a function`");if(typeof Se!="string"&&typeof Se!="symbol")throw new $TypeError$2("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$2("`loose`, if provided, must be a boolean");var Ze=arguments.length>3?arguments[3]:null,Je=arguments.length>4?arguments[4]:null,Xe=arguments.length>5?arguments[5]:null,vt=arguments.length>6?arguments[6]:!1,gt=!!gopd&&gopd(ge,Se);if($defineProperty$1)$defineProperty$1(ge,Se,{configurable:Xe===null&&gt?gt.configurable:!Xe,enumerable:Ze===null&&gt?gt.enumerable:!Ze,value:Ne,writable:Je===null&&gt?gt.writable:!Je});else if(vt||!Ze&&!Je&&!Xe)ge[Se]=Ne;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError$1=requireType(),$floor=GetIntrinsic("%Math.floor%"),setFunctionLength=function(ge,Se){if(typeof ge!="function")throw new $TypeError$1("`fn` is not a function");if(typeof Se!="number"||Se<0||Se>4294967295||$floor(Se)!==Se)throw new $TypeError$1("`length` must be a positive 32-bit integer");var Ne=arguments.length>2&&!!arguments[2],Ze=!0,Je=!0;if("length"in ge&&gOPD$1){var Xe=gOPD$1(ge,"length");Xe&&!Xe.configurable&&(Ze=!1),Xe&&!Xe.writable&&(Je=!1)}return(Ze||Je||!Ne)&&(hasDescriptors?define(ge,"length",Se,!0,!0):define(ge,"length",Se)),ge},bind$3=functionBind,$apply=functionApply,actualApply=actualApply$1,applyBind=function(){return actualApply(bind$3,$apply,arguments)};(function(pe){var ge=setFunctionLength,Se=esDefineProperty,Ne=callBindApplyHelpers,Ze=applyBind;pe.exports=function(Xe){var vt=Ne(arguments),gt=Xe.length-(arguments.length-1);return ge(vt,1+(gt>0?gt:0),!0)},Se?Se(pe.exports,"apply",{value:Ze}):pe.exports.apply=Ze})(callBind$1);var callBindExports=callBind$1.exports,forEach=forEach$1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound$1=callBound$6,gOPD=gopd$1,getProto=getProto$3,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$2=typeof globalThis>"u"?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(ge,Se){for(var Ne=0;Ne<ge.length;Ne+=1)if(ge[Ne]===Se)return Ne;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(pe){var ge=new g$2[pe];if(Symbol.toStringTag in ge&&getProto){var Se=getProto(ge),Ne=gOPD(Se,Symbol.toStringTag);if(!Ne&&Se){var Ze=getProto(Se);Ne=gOPD(Ze,Symbol.toStringTag)}cache["$"+pe]=callBind(Ne.get)}}):forEach(typedArrays,function(pe){var ge=new g$2[pe],Se=ge.slice||ge.set;Se&&(cache["$"+pe]=callBind(Se))});var tryTypedArrays=function(ge){var Se=!1;return forEach(cache,function(Ne,Ze){if(!Se)try{"$"+Ne(ge)===Ze&&(Se=$slice(Ze,1))}catch{}}),Se},trySlices=function(ge){var Se=!1;return forEach(cache,function(Ne,Ze){if(!Se)try{Ne(ge),Se=$slice(Ze,1)}catch{}}),Se},whichTypedArray$1=function(ge){if(!ge||typeof ge!="object")return!1;if(!hasToStringTag){var Se=$slice($toString(ge),8,-1);return $indexOf(typedArrays,Se)>-1?Se:Se!=="Object"?!1:trySlices(ge)}return gOPD?tryTypedArrays(ge):null},whichTypedArray=whichTypedArray$1,isTypedArray$1=function(ge){return!!whichTypedArray(ge)};(function(pe){var ge=isArguments,Se=isGeneratorFunction,Ne=whichTypedArray$1,Ze=isTypedArray$1;function Je(tn){return tn.call.bind(tn)}var Xe=typeof BigInt<"u",vt=typeof Symbol<"u",gt=Je(Object.prototype.toString),kt=Je(Number.prototype.valueOf),mt=Je(String.prototype.valueOf),xt=Je(Boolean.prototype.valueOf);if(Xe)var fr=Je(BigInt.prototype.valueOf);if(vt)var ar=Je(Symbol.prototype.valueOf);function gr(tn,dn){if(typeof tn!="object")return!1;try{return dn(tn),!0}catch{return!1}}pe.isArgumentsObject=ge,pe.isGeneratorFunction=Se,pe.isTypedArray=Ze;function wr(tn){return typeof Promise<"u"&&tn instanceof Promise||tn!==null&&typeof tn=="object"&&typeof tn.then=="function"&&typeof tn.catch=="function"}pe.isPromise=wr;function Er(tn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(tn):Ze(tn)||yr(tn)}pe.isArrayBufferView=Er;function _r(tn){return Ne(tn)==="Uint8Array"}pe.isUint8Array=_r;function Sr(tn){return Ne(tn)==="Uint8ClampedArray"}pe.isUint8ClampedArray=Sr;function Or(tn){return Ne(tn)==="Uint16Array"}pe.isUint16Array=Or;function Pr(tn){return Ne(tn)==="Uint32Array"}pe.isUint32Array=Pr;function kr(tn){return Ne(tn)==="Int8Array"}pe.isInt8Array=kr;function Ur(tn){return Ne(tn)==="Int16Array"}pe.isInt16Array=Ur;function Yr(tn){return Ne(tn)==="Int32Array"}pe.isInt32Array=Yr;function jr(tn){return Ne(tn)==="Float32Array"}pe.isFloat32Array=jr;function Dr(tn){return Ne(tn)==="Float64Array"}pe.isFloat64Array=Dr;function Vr(tn){return Ne(tn)==="BigInt64Array"}pe.isBigInt64Array=Vr;function Ir(tn){return Ne(tn)==="BigUint64Array"}pe.isBigUint64Array=Ir;function br(tn){return gt(tn)==="[object Map]"}br.working=typeof Map<"u"&&br(new Map);function Vt(tn){return typeof Map>"u"?!1:br.working?br(tn):tn instanceof Map}pe.isMap=Vt;function ht(tn){return gt(tn)==="[object Set]"}ht.working=typeof Set<"u"&&ht(new Set);function Ct(tn){return typeof Set>"u"?!1:ht.working?ht(tn):tn instanceof Set}pe.isSet=Ct;function or(tn){return gt(tn)==="[object WeakMap]"}or.working=typeof WeakMap<"u"&&or(new WeakMap);function pr(tn){return typeof WeakMap>"u"?!1:or.working?or(tn):tn instanceof WeakMap}pe.isWeakMap=pr;function lr(tn){return gt(tn)==="[object WeakSet]"}lr.working=typeof WeakSet<"u"&&lr(new WeakSet);function vr(tn){return lr(tn)}pe.isWeakSet=vr;function tr(tn){return gt(tn)==="[object ArrayBuffer]"}tr.working=typeof ArrayBuffer<"u"&&tr(new ArrayBuffer);function ur(tn){return typeof ArrayBuffer>"u"?!1:tr.working?tr(tn):tn instanceof ArrayBuffer}pe.isArrayBuffer=ur;function Ft(tn){return gt(tn)==="[object DataView]"}Ft.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ft(new DataView(new ArrayBuffer(1),0,1));function yr(tn){return typeof DataView>"u"?!1:Ft.working?Ft(tn):tn instanceof DataView}pe.isDataView=yr;var Nr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function qr(tn){return gt(tn)==="[object SharedArrayBuffer]"}function Rr(tn){return typeof Nr>"u"?!1:(typeof qr.working>"u"&&(qr.working=qr(new Nr)),qr.working?qr(tn):tn instanceof Nr)}pe.isSharedArrayBuffer=Rr;function Ar(tn){return gt(tn)==="[object AsyncFunction]"}pe.isAsyncFunction=Ar;function Tr(tn){return gt(tn)==="[object Map Iterator]"}pe.isMapIterator=Tr;function Kr(tn){return gt(tn)==="[object Set Iterator]"}pe.isSetIterator=Kr;function Zr(tn){return gt(tn)==="[object Generator]"}pe.isGeneratorObject=Zr;function Br(tn){return gt(tn)==="[object WebAssembly.Module]"}pe.isWebAssemblyCompiledModule=Br;function Mr(tn){return gr(tn,kt)}pe.isNumberObject=Mr;function Gr(tn){return gr(tn,mt)}pe.isStringObject=Gr;function en(tn){return gr(tn,xt)}pe.isBooleanObject=en;function rn(tn){return Xe&&gr(tn,fr)}pe.isBigIntObject=rn;function an(tn){return vt&&gr(tn,ar)}pe.isSymbolObject=an;function nn(tn){return Mr(tn)||Gr(tn)||en(tn)||rn(tn)||an(tn)}pe.isBoxedPrimitive=nn;function un(tn){return typeof Uint8Array<"u"&&(ur(tn)||Rr(tn))}pe.isAnyArrayBuffer=un,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(tn){Object.defineProperty(pe,tn,{enumerable:!1,value:function(){throw new Error(tn+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function(ge){return ge&&typeof ge=="object"&&typeof ge.copy=="function"&&typeof ge.fill=="function"&&typeof ge.readUInt8=="function"};(function(pe){var ge={},Se=Object.getOwnPropertyDescriptors||function(Nr){for(var qr=Object.keys(Nr),Rr={},Ar=0;Ar<qr.length;Ar++)Rr[qr[Ar]]=Object.getOwnPropertyDescriptor(Nr,qr[Ar]);return Rr},Ne=/%[sdj%]/g;pe.format=function(yr){if(!Ur(yr)){for(var Nr=[],qr=0;qr<arguments.length;qr++)Nr.push(vt(arguments[qr]));return Nr.join(" ")}for(var qr=1,Rr=arguments,Ar=Rr.length,Tr=String(yr).replace(Ne,function(Zr){if(Zr==="%%")return"%";if(qr>=Ar)return Zr;switch(Zr){case"%s":return String(Rr[qr++]);case"%d":return Number(Rr[qr++]);case"%j":try{return JSON.stringify(Rr[qr++])}catch{return"[Circular]"}default:return Zr}}),Kr=Rr[qr];qr<Ar;Kr=Rr[++qr])Or(Kr)||!Vr(Kr)?Tr+=" "+Kr:Tr+=" "+vt(Kr);return Tr},pe.deprecate=function(yr,Nr){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return yr;if(typeof process$1$1>"u")return function(){return pe.deprecate(yr,Nr).apply(this,arguments)};var qr=!1;function Rr(){if(!qr){if(process$1$1.throwDeprecation)throw new Error(Nr);process$1$1.traceDeprecation?console.trace(Nr):console.error(Nr),qr=!0}return yr.apply(this,arguments)}return Rr};var Ze={},Je=/^$/;if(ge.NODE_DEBUG){var Xe=ge.NODE_DEBUG;Xe=Xe.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Je=new RegExp("^"+Xe+"$","i")}pe.debuglog=function(yr){if(yr=yr.toUpperCase(),!Ze[yr])if(Je.test(yr)){var Nr=process$1$1.pid;Ze[yr]=function(){var qr=pe.format.apply(pe,arguments);console.error("%s %d: %s",yr,Nr,qr)}}else Ze[yr]=function(){};return Ze[yr]};function vt(yr,Nr){var qr={seen:[],stylize:kt};return arguments.length>=3&&(qr.depth=arguments[2]),arguments.length>=4&&(qr.colors=arguments[3]),Sr(Nr)?qr.showHidden=Nr:Nr&&pe._extend(qr,Nr),jr(qr.showHidden)&&(qr.showHidden=!1),jr(qr.depth)&&(qr.depth=2),jr(qr.colors)&&(qr.colors=!1),jr(qr.customInspect)&&(qr.customInspect=!0),qr.colors&&(qr.stylize=gt),xt(qr,yr,qr.depth)}pe.inspect=vt,vt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},vt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function gt(yr,Nr){var qr=vt.styles[Nr];return qr?"\x1B["+vt.colors[qr][0]+"m"+yr+"\x1B["+vt.colors[qr][1]+"m":yr}function kt(yr,Nr){return yr}function mt(yr){var Nr={};return yr.forEach(function(qr,Rr){Nr[qr]=!0}),Nr}function xt(yr,Nr,qr){if(yr.customInspect&&Nr&&Vt(Nr.inspect)&&Nr.inspect!==pe.inspect&&!(Nr.constructor&&Nr.constructor.prototype===Nr)){var Rr=Nr.inspect(qr,yr);return Ur(Rr)||(Rr=xt(yr,Rr,qr)),Rr}var Ar=fr(yr,Nr);if(Ar)return Ar;var Tr=Object.keys(Nr),Kr=mt(Tr);if(yr.showHidden&&(Tr=Object.getOwnPropertyNames(Nr)),br(Nr)&&(Tr.indexOf("message")>=0||Tr.indexOf("description")>=0))return ar(Nr);if(Tr.length===0){if(Vt(Nr)){var Zr=Nr.name?": "+Nr.name:"";return yr.stylize("[Function"+Zr+"]","special")}if(Dr(Nr))return yr.stylize(RegExp.prototype.toString.call(Nr),"regexp");if(Ir(Nr))return yr.stylize(Date.prototype.toString.call(Nr),"date");if(br(Nr))return ar(Nr)}var Br="",Mr=!1,Gr=["{","}"];if(_r(Nr)&&(Mr=!0,Gr=["[","]"]),Vt(Nr)){var en=Nr.name?": "+Nr.name:"";Br=" [Function"+en+"]"}if(Dr(Nr)&&(Br=" "+RegExp.prototype.toString.call(Nr)),Ir(Nr)&&(Br=" "+Date.prototype.toUTCString.call(Nr)),br(Nr)&&(Br=" "+ar(Nr)),Tr.length===0&&(!Mr||Nr.length==0))return Gr[0]+Br+Gr[1];if(qr<0)return Dr(Nr)?yr.stylize(RegExp.prototype.toString.call(Nr),"regexp"):yr.stylize("[Object]","special");yr.seen.push(Nr);var rn;return Mr?rn=gr(yr,Nr,qr,Kr,Tr):rn=Tr.map(function(an){return wr(yr,Nr,qr,Kr,an,Mr)}),yr.seen.pop(),Er(rn,Br,Gr)}function fr(yr,Nr){if(jr(Nr))return yr.stylize("undefined","undefined");if(Ur(Nr)){var qr="'"+JSON.stringify(Nr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return yr.stylize(qr,"string")}if(kr(Nr))return yr.stylize(""+Nr,"number");if(Sr(Nr))return yr.stylize(""+Nr,"boolean");if(Or(Nr))return yr.stylize("null","null")}function ar(yr){return"["+Error.prototype.toString.call(yr)+"]"}function gr(yr,Nr,qr,Rr,Ar){for(var Tr=[],Kr=0,Zr=Nr.length;Kr<Zr;++Kr)vr(Nr,String(Kr))?Tr.push(wr(yr,Nr,qr,Rr,String(Kr),!0)):Tr.push("");return Ar.forEach(function(Br){Br.match(/^\d+$/)||Tr.push(wr(yr,Nr,qr,Rr,Br,!0))}),Tr}function wr(yr,Nr,qr,Rr,Ar,Tr){var Kr,Zr,Br;if(Br=Object.getOwnPropertyDescriptor(Nr,Ar)||{value:Nr[Ar]},Br.get?Br.set?Zr=yr.stylize("[Getter/Setter]","special"):Zr=yr.stylize("[Getter]","special"):Br.set&&(Zr=yr.stylize("[Setter]","special")),vr(Rr,Ar)||(Kr="["+Ar+"]"),Zr||(yr.seen.indexOf(Br.value)<0?(Or(qr)?Zr=xt(yr,Br.value,null):Zr=xt(yr,Br.value,qr-1),Zr.indexOf(`
`)>-1&&(Tr?Zr=Zr.split(`
`).map(function(Mr){return"  "+Mr}).join(`
`).slice(2):Zr=`
`+Zr.split(`
`).map(function(Mr){return"   "+Mr}).join(`
`))):Zr=yr.stylize("[Circular]","special")),jr(Kr)){if(Tr&&Ar.match(/^\d+$/))return Zr;Kr=JSON.stringify(""+Ar),Kr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Kr=Kr.slice(1,-1),Kr=yr.stylize(Kr,"name")):(Kr=Kr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Kr=yr.stylize(Kr,"string"))}return Kr+": "+Zr}function Er(yr,Nr,qr){var Rr=yr.reduce(function(Ar,Tr){return Tr.indexOf(`
`)>=0,Ar+Tr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Rr>60?qr[0]+(Nr===""?"":Nr+`
 `)+" "+yr.join(`,
  `)+" "+qr[1]:qr[0]+Nr+" "+yr.join(", ")+" "+qr[1]}pe.types=types$3;function _r(yr){return Array.isArray(yr)}pe.isArray=_r;function Sr(yr){return typeof yr=="boolean"}pe.isBoolean=Sr;function Or(yr){return yr===null}pe.isNull=Or;function Pr(yr){return yr==null}pe.isNullOrUndefined=Pr;function kr(yr){return typeof yr=="number"}pe.isNumber=kr;function Ur(yr){return typeof yr=="string"}pe.isString=Ur;function Yr(yr){return typeof yr=="symbol"}pe.isSymbol=Yr;function jr(yr){return yr===void 0}pe.isUndefined=jr;function Dr(yr){return Vr(yr)&&Ct(yr)==="[object RegExp]"}pe.isRegExp=Dr,pe.types.isRegExp=Dr;function Vr(yr){return typeof yr=="object"&&yr!==null}pe.isObject=Vr;function Ir(yr){return Vr(yr)&&Ct(yr)==="[object Date]"}pe.isDate=Ir,pe.types.isDate=Ir;function br(yr){return Vr(yr)&&(Ct(yr)==="[object Error]"||yr instanceof Error)}pe.isError=br,pe.types.isNativeError=br;function Vt(yr){return typeof yr=="function"}pe.isFunction=Vt;function ht(yr){return yr===null||typeof yr=="boolean"||typeof yr=="number"||typeof yr=="string"||typeof yr=="symbol"||typeof yr>"u"}pe.isPrimitive=ht,pe.isBuffer=isBufferBrowser;function Ct(yr){return Object.prototype.toString.call(yr)}function or(yr){return yr<10?"0"+yr.toString(10):yr.toString(10)}var pr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lr(){var yr=new Date,Nr=[or(yr.getHours()),or(yr.getMinutes()),or(yr.getSeconds())].join(":");return[yr.getDate(),pr[yr.getMonth()],Nr].join(" ")}pe.log=function(){console.log("%s - %s",lr(),pe.format.apply(pe,arguments))},pe.inherits=inherits_browserExports,pe._extend=function(yr,Nr){if(!Nr||!Vr(Nr))return yr;for(var qr=Object.keys(Nr),Rr=qr.length;Rr--;)yr[qr[Rr]]=Nr[qr[Rr]];return yr};function vr(yr,Nr){return Object.prototype.hasOwnProperty.call(yr,Nr)}var tr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;pe.promisify=function(Nr){if(typeof Nr!="function")throw new TypeError('The "original" argument must be of type Function');if(tr&&Nr[tr]){var qr=Nr[tr];if(typeof qr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(qr,tr,{value:qr,enumerable:!1,writable:!1,configurable:!0}),qr}function qr(){for(var Rr,Ar,Tr=new Promise(function(Br,Mr){Rr=Br,Ar=Mr}),Kr=[],Zr=0;Zr<arguments.length;Zr++)Kr.push(arguments[Zr]);Kr.push(function(Br,Mr){Br?Ar(Br):Rr(Mr)});try{Nr.apply(this,Kr)}catch(Br){Ar(Br)}return Tr}return Object.setPrototypeOf(qr,Object.getPrototypeOf(Nr)),tr&&Object.defineProperty(qr,tr,{value:qr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(qr,Se(Nr))},pe.promisify.custom=tr;function ur(yr,Nr){if(!yr){var qr=new Error("Promise was rejected with a falsy value");qr.reason=yr,yr=qr}return Nr(yr)}function Ft(yr){if(typeof yr!="function")throw new TypeError('The "original" argument must be of type Function');function Nr(){for(var qr=[],Rr=0;Rr<arguments.length;Rr++)qr.push(arguments[Rr]);var Ar=qr.pop();if(typeof Ar!="function")throw new TypeError("The last argument must be of type Function");var Tr=this,Kr=function(){return Ar.apply(Tr,arguments)};yr.apply(this,qr).then(function(Zr){process$1$1.nextTick(Kr.bind(null,null,Zr))},function(Zr){process$1$1.nextTick(ur.bind(null,Zr,Kr))})}return Object.setPrototypeOf(Nr,Object.getPrototypeOf(yr)),Object.defineProperties(Nr,Se(yr)),Nr}pe.callbackify=Ft})(util$4);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function pe(gr,wr){var Er=Object.keys(gr);if(Object.getOwnPropertySymbols){var _r=Object.getOwnPropertySymbols(gr);wr&&(_r=_r.filter(function(Sr){return Object.getOwnPropertyDescriptor(gr,Sr).enumerable})),Er.push.apply(Er,_r)}return Er}function ge(gr){for(var wr=1;wr<arguments.length;wr++){var Er=arguments[wr]!=null?arguments[wr]:{};wr%2?pe(Object(Er),!0).forEach(function(_r){Se(gr,_r,Er[_r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gr,Object.getOwnPropertyDescriptors(Er)):pe(Object(Er)).forEach(function(_r){Object.defineProperty(gr,_r,Object.getOwnPropertyDescriptor(Er,_r))})}return gr}function Se(gr,wr,Er){return wr=Xe(wr),wr in gr?Object.defineProperty(gr,wr,{value:Er,enumerable:!0,configurable:!0,writable:!0}):gr[wr]=Er,gr}function Ne(gr,wr){if(!(gr instanceof wr))throw new TypeError("Cannot call a class as a function")}function Ze(gr,wr){for(var Er=0;Er<wr.length;Er++){var _r=wr[Er];_r.enumerable=_r.enumerable||!1,_r.configurable=!0,"value"in _r&&(_r.writable=!0),Object.defineProperty(gr,Xe(_r.key),_r)}}function Je(gr,wr,Er){return wr&&Ze(gr.prototype,wr),Object.defineProperty(gr,"prototype",{writable:!1}),gr}function Xe(gr){var wr=vt(gr,"string");return typeof wr=="symbol"?wr:String(wr)}function vt(gr,wr){if(typeof gr!="object"||gr===null)return gr;var Er=gr[Symbol.toPrimitive];if(Er!==void 0){var _r=Er.call(gr,wr);if(typeof _r!="object")return _r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(gr)}var gt=require$$1$2,kt=gt.Buffer,mt=util$4,xt=mt.inspect,fr=xt&&xt.custom||"inspect";function ar(gr,wr,Er){kt.prototype.copy.call(gr,wr,Er)}return buffer_list=function(){function gr(){Ne(this,gr),this.head=null,this.tail=null,this.length=0}return Je(gr,[{key:"push",value:function(Er){var _r={data:Er,next:null};this.length>0?this.tail.next=_r:this.head=_r,this.tail=_r,++this.length}},{key:"unshift",value:function(Er){var _r={data:Er,next:this.head};this.length===0&&(this.tail=_r),this.head=_r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Er=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Er}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Er){if(this.length===0)return"";for(var _r=this.head,Sr=""+_r.data;_r=_r.next;)Sr+=Er+_r.data;return Sr}},{key:"concat",value:function(Er){if(this.length===0)return kt.alloc(0);for(var _r=kt.allocUnsafe(Er>>>0),Sr=this.head,Or=0;Sr;)ar(Sr.data,_r,Or),Or+=Sr.data.length,Sr=Sr.next;return _r}},{key:"consume",value:function(Er,_r){var Sr;return Er<this.head.data.length?(Sr=this.head.data.slice(0,Er),this.head.data=this.head.data.slice(Er)):Er===this.head.data.length?Sr=this.shift():Sr=_r?this._getString(Er):this._getBuffer(Er),Sr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Er){var _r=this.head,Sr=1,Or=_r.data;for(Er-=Or.length;_r=_r.next;){var Pr=_r.data,kr=Er>Pr.length?Pr.length:Er;if(kr===Pr.length?Or+=Pr:Or+=Pr.slice(0,Er),Er-=kr,Er===0){kr===Pr.length?(++Sr,_r.next?this.head=_r.next:this.head=this.tail=null):(this.head=_r,_r.data=Pr.slice(kr));break}++Sr}return this.length-=Sr,Or}},{key:"_getBuffer",value:function(Er){var _r=kt.allocUnsafe(Er),Sr=this.head,Or=1;for(Sr.data.copy(_r),Er-=Sr.data.length;Sr=Sr.next;){var Pr=Sr.data,kr=Er>Pr.length?Pr.length:Er;if(Pr.copy(_r,_r.length-Er,0,kr),Er-=kr,Er===0){kr===Pr.length?(++Or,Sr.next?this.head=Sr.next:this.head=this.tail=null):(this.head=Sr,Sr.data=Pr.slice(kr));break}++Or}return this.length-=Or,_r}},{key:fr,value:function(Er,_r){return xt(this,ge(ge({},_r),{},{depth:0,customInspect:!1}))}}]),gr}(),buffer_list}var destroy_1$1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1$1;hasRequiredDestroy=1;function pe(Xe,vt){var gt=this,kt=this._readableState&&this._readableState.destroyed,mt=this._writableState&&this._writableState.destroyed;return kt||mt?(vt?vt(Xe):Xe&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(Ze,this,Xe)):process$1$1.nextTick(Ze,this,Xe)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Xe||null,function(xt){!vt&&xt?gt._writableState?gt._writableState.errorEmitted?process$1$1.nextTick(Se,gt):(gt._writableState.errorEmitted=!0,process$1$1.nextTick(ge,gt,xt)):process$1$1.nextTick(ge,gt,xt):vt?(process$1$1.nextTick(Se,gt),vt(xt)):process$1$1.nextTick(Se,gt)}),this)}function ge(Xe,vt){Ze(Xe,vt),Se(Xe)}function Se(Xe){Xe._writableState&&!Xe._writableState.emitClose||Xe._readableState&&!Xe._readableState.emitClose||Xe.emit("close")}function Ne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ze(Xe,vt){Xe.emit("error",vt)}function Je(Xe,vt){var gt=Xe._readableState,kt=Xe._writableState;gt&&gt.autoDestroy||kt&&kt.autoDestroy?Xe.destroy(vt):Xe.emit("error",vt)}return destroy_1$1={destroy:pe,undestroy:Ne,errorOrDestroy:Je},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function pe(vt,gt){vt.prototype=Object.create(gt.prototype),vt.prototype.constructor=vt,vt.__proto__=gt}var ge={};function Se(vt,gt,kt){kt||(kt=Error);function mt(fr,ar,gr){return typeof gt=="string"?gt:gt(fr,ar,gr)}var xt=function(fr){pe(ar,fr);function ar(gr,wr,Er){return fr.call(this,mt(gr,wr,Er))||this}return ar}(kt);xt.prototype.name=kt.name,xt.prototype.code=vt,ge[vt]=xt}function Ne(vt,gt){if(Array.isArray(vt)){var kt=vt.length;return vt=vt.map(function(mt){return String(mt)}),kt>2?"one of ".concat(gt," ").concat(vt.slice(0,kt-1).join(", "),", or ")+vt[kt-1]:kt===2?"one of ".concat(gt," ").concat(vt[0]," or ").concat(vt[1]):"of ".concat(gt," ").concat(vt[0])}else return"of ".concat(gt," ").concat(String(vt))}function Ze(vt,gt,kt){return vt.substr(0,gt.length)===gt}function Je(vt,gt,kt){return(kt===void 0||kt>vt.length)&&(kt=vt.length),vt.substring(kt-gt.length,kt)===gt}function Xe(vt,gt,kt){return typeof kt!="number"&&(kt=0),kt+gt.length>vt.length?!1:vt.indexOf(gt,kt)!==-1}return Se("ERR_INVALID_OPT_VALUE",function(vt,gt){return'The value "'+gt+'" is invalid for option "'+vt+'"'},TypeError),Se("ERR_INVALID_ARG_TYPE",function(vt,gt,kt){var mt;typeof gt=="string"&&Ze(gt,"not ")?(mt="must not be",gt=gt.replace(/^not /,"")):mt="must be";var xt;if(Je(vt," argument"))xt="The ".concat(vt," ").concat(mt," ").concat(Ne(gt,"type"));else{var fr=Xe(vt,".")?"property":"argument";xt='The "'.concat(vt,'" ').concat(fr," ").concat(mt," ").concat(Ne(gt,"type"))}return xt+=". Received type ".concat(typeof kt),xt},TypeError),Se("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Se("ERR_METHOD_NOT_IMPLEMENTED",function(vt){return"The "+vt+" method is not implemented"}),Se("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Se("ERR_STREAM_DESTROYED",function(vt){return"Cannot call "+vt+" after a stream was destroyed"}),Se("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Se("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Se("ERR_STREAM_WRITE_AFTER_END","write after end"),Se("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Se("ERR_UNKNOWN_ENCODING",function(vt){return"Unknown encoding: "+vt},TypeError),Se("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=ge,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var pe=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function ge(Ne,Ze,Je){return Ne.highWaterMark!=null?Ne.highWaterMark:Ze?Ne[Je]:null}function Se(Ne,Ze,Je,Xe){var vt=ge(Ze,Xe,Je);if(vt!=null){if(!(isFinite(vt)&&Math.floor(vt)===vt)||vt<0){var gt=Xe?Je:"highWaterMark";throw new pe(gt,vt)}return Math.floor(vt)}return Ne.objectMode?16:16*1024}return state={getHighWaterMark:Se},state}var browser$c=deprecate;function deprecate(pe,ge){if(config("noDeprecation"))return pe;var Se=!1;function Ne(){if(!Se){if(config("throwDeprecation"))throw new Error(ge);config("traceDeprecation")?console.trace(ge):console.warn(ge),Se=!0}return pe.apply(this,arguments)}return Ne}function config(pe){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var ge=commonjsGlobal$1.localStorage[pe];return ge==null?!1:String(ge).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=jr;function pe(Rr){var Ar=this;this.next=null,this.entry=null,this.finish=function(){qr(Ar,Rr)}}var ge;jr.WritableState=Ur;var Se={deprecate:browser$c},Ne=requireStreamBrowser(),Ze=require$$1$2.Buffer,Je=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Xe(Rr){return Ze.from(Rr)}function vt(Rr){return Ze.isBuffer(Rr)||Rr instanceof Je}var gt=requireDestroy(),kt=requireState(),mt=kt.getHighWaterMark,xt=requireErrorsBrowser().codes,fr=xt.ERR_INVALID_ARG_TYPE,ar=xt.ERR_METHOD_NOT_IMPLEMENTED,gr=xt.ERR_MULTIPLE_CALLBACK,wr=xt.ERR_STREAM_CANNOT_PIPE,Er=xt.ERR_STREAM_DESTROYED,_r=xt.ERR_STREAM_NULL_VALUES,Sr=xt.ERR_STREAM_WRITE_AFTER_END,Or=xt.ERR_UNKNOWN_ENCODING,Pr=gt.errorOrDestroy;inherits_browserExports(jr,Ne);function kr(){}function Ur(Rr,Ar,Tr){ge=ge||require_stream_duplex$1(),Rr=Rr||{},typeof Tr!="boolean"&&(Tr=Ar instanceof ge),this.objectMode=!!Rr.objectMode,Tr&&(this.objectMode=this.objectMode||!!Rr.writableObjectMode),this.highWaterMark=mt(this,Rr,"writableHighWaterMark",Tr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Kr=Rr.decodeStrings===!1;this.decodeStrings=!Kr,this.defaultEncoding=Rr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Zr){or(Ar,Zr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Rr.emitClose!==!1,this.autoDestroy=!!Rr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new pe(this)}Ur.prototype.getBuffer=function(){for(var Ar=this.bufferedRequest,Tr=[];Ar;)Tr.push(Ar),Ar=Ar.next;return Tr},function(){try{Object.defineProperty(Ur.prototype,"buffer",{get:Se.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Yr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Yr=Function.prototype[Symbol.hasInstance],Object.defineProperty(jr,Symbol.hasInstance,{value:function(Ar){return Yr.call(this,Ar)?!0:this!==jr?!1:Ar&&Ar._writableState instanceof Ur}})):Yr=function(Ar){return Ar instanceof this};function jr(Rr){ge=ge||require_stream_duplex$1();var Ar=this instanceof ge;if(!Ar&&!Yr.call(jr,this))return new jr(Rr);this._writableState=new Ur(Rr,this,Ar),this.writable=!0,Rr&&(typeof Rr.write=="function"&&(this._write=Rr.write),typeof Rr.writev=="function"&&(this._writev=Rr.writev),typeof Rr.destroy=="function"&&(this._destroy=Rr.destroy),typeof Rr.final=="function"&&(this._final=Rr.final)),Ne.call(this)}jr.prototype.pipe=function(){Pr(this,new wr)};function Dr(Rr,Ar){var Tr=new Sr;Pr(Rr,Tr),process$1$1.nextTick(Ar,Tr)}function Vr(Rr,Ar,Tr,Kr){var Zr;return Tr===null?Zr=new _r:typeof Tr!="string"&&!Ar.objectMode&&(Zr=new fr("chunk",["string","Buffer"],Tr)),Zr?(Pr(Rr,Zr),process$1$1.nextTick(Kr,Zr),!1):!0}jr.prototype.write=function(Rr,Ar,Tr){var Kr=this._writableState,Zr=!1,Br=!Kr.objectMode&&vt(Rr);return Br&&!Ze.isBuffer(Rr)&&(Rr=Xe(Rr)),typeof Ar=="function"&&(Tr=Ar,Ar=null),Br?Ar="buffer":Ar||(Ar=Kr.defaultEncoding),typeof Tr!="function"&&(Tr=kr),Kr.ending?Dr(this,Tr):(Br||Vr(this,Kr,Rr,Tr))&&(Kr.pendingcb++,Zr=br(this,Kr,Br,Rr,Ar,Tr)),Zr},jr.prototype.cork=function(){this._writableState.corked++},jr.prototype.uncork=function(){var Rr=this._writableState;Rr.corked&&(Rr.corked--,!Rr.writing&&!Rr.corked&&!Rr.bufferProcessing&&Rr.bufferedRequest&&vr(this,Rr))},jr.prototype.setDefaultEncoding=function(Ar){if(typeof Ar=="string"&&(Ar=Ar.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ar+"").toLowerCase())>-1))throw new Or(Ar);return this._writableState.defaultEncoding=Ar,this},Object.defineProperty(jr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ir(Rr,Ar,Tr){return!Rr.objectMode&&Rr.decodeStrings!==!1&&typeof Ar=="string"&&(Ar=Ze.from(Ar,Tr)),Ar}Object.defineProperty(jr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function br(Rr,Ar,Tr,Kr,Zr,Br){if(!Tr){var Mr=Ir(Ar,Kr,Zr);Kr!==Mr&&(Tr=!0,Zr="buffer",Kr=Mr)}var Gr=Ar.objectMode?1:Kr.length;Ar.length+=Gr;var en=Ar.length<Ar.highWaterMark;if(en||(Ar.needDrain=!0),Ar.writing||Ar.corked){var rn=Ar.lastBufferedRequest;Ar.lastBufferedRequest={chunk:Kr,encoding:Zr,isBuf:Tr,callback:Br,next:null},rn?rn.next=Ar.lastBufferedRequest:Ar.bufferedRequest=Ar.lastBufferedRequest,Ar.bufferedRequestCount+=1}else Vt(Rr,Ar,!1,Gr,Kr,Zr,Br);return en}function Vt(Rr,Ar,Tr,Kr,Zr,Br,Mr){Ar.writelen=Kr,Ar.writecb=Mr,Ar.writing=!0,Ar.sync=!0,Ar.destroyed?Ar.onwrite(new Er("write")):Tr?Rr._writev(Zr,Ar.onwrite):Rr._write(Zr,Br,Ar.onwrite),Ar.sync=!1}function ht(Rr,Ar,Tr,Kr,Zr){--Ar.pendingcb,Tr?(process$1$1.nextTick(Zr,Kr),process$1$1.nextTick(yr,Rr,Ar),Rr._writableState.errorEmitted=!0,Pr(Rr,Kr)):(Zr(Kr),Rr._writableState.errorEmitted=!0,Pr(Rr,Kr),yr(Rr,Ar))}function Ct(Rr){Rr.writing=!1,Rr.writecb=null,Rr.length-=Rr.writelen,Rr.writelen=0}function or(Rr,Ar){var Tr=Rr._writableState,Kr=Tr.sync,Zr=Tr.writecb;if(typeof Zr!="function")throw new gr;if(Ct(Tr),Ar)ht(Rr,Tr,Kr,Ar,Zr);else{var Br=tr(Tr)||Rr.destroyed;!Br&&!Tr.corked&&!Tr.bufferProcessing&&Tr.bufferedRequest&&vr(Rr,Tr),Kr?process$1$1.nextTick(pr,Rr,Tr,Br,Zr):pr(Rr,Tr,Br,Zr)}}function pr(Rr,Ar,Tr,Kr){Tr||lr(Rr,Ar),Ar.pendingcb--,Kr(),yr(Rr,Ar)}function lr(Rr,Ar){Ar.length===0&&Ar.needDrain&&(Ar.needDrain=!1,Rr.emit("drain"))}function vr(Rr,Ar){Ar.bufferProcessing=!0;var Tr=Ar.bufferedRequest;if(Rr._writev&&Tr&&Tr.next){var Kr=Ar.bufferedRequestCount,Zr=new Array(Kr),Br=Ar.corkedRequestsFree;Br.entry=Tr;for(var Mr=0,Gr=!0;Tr;)Zr[Mr]=Tr,Tr.isBuf||(Gr=!1),Tr=Tr.next,Mr+=1;Zr.allBuffers=Gr,Vt(Rr,Ar,!0,Ar.length,Zr,"",Br.finish),Ar.pendingcb++,Ar.lastBufferedRequest=null,Br.next?(Ar.corkedRequestsFree=Br.next,Br.next=null):Ar.corkedRequestsFree=new pe(Ar),Ar.bufferedRequestCount=0}else{for(;Tr;){var en=Tr.chunk,rn=Tr.encoding,an=Tr.callback,nn=Ar.objectMode?1:en.length;if(Vt(Rr,Ar,!1,nn,en,rn,an),Tr=Tr.next,Ar.bufferedRequestCount--,Ar.writing)break}Tr===null&&(Ar.lastBufferedRequest=null)}Ar.bufferedRequest=Tr,Ar.bufferProcessing=!1}jr.prototype._write=function(Rr,Ar,Tr){Tr(new ar("_write()"))},jr.prototype._writev=null,jr.prototype.end=function(Rr,Ar,Tr){var Kr=this._writableState;return typeof Rr=="function"?(Tr=Rr,Rr=null,Ar=null):typeof Ar=="function"&&(Tr=Ar,Ar=null),Rr!=null&&this.write(Rr,Ar),Kr.corked&&(Kr.corked=1,this.uncork()),Kr.ending||Nr(this,Kr,Tr),this},Object.defineProperty(jr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tr(Rr){return Rr.ending&&Rr.length===0&&Rr.bufferedRequest===null&&!Rr.finished&&!Rr.writing}function ur(Rr,Ar){Rr._final(function(Tr){Ar.pendingcb--,Tr&&Pr(Rr,Tr),Ar.prefinished=!0,Rr.emit("prefinish"),yr(Rr,Ar)})}function Ft(Rr,Ar){!Ar.prefinished&&!Ar.finalCalled&&(typeof Rr._final=="function"&&!Ar.destroyed?(Ar.pendingcb++,Ar.finalCalled=!0,process$1$1.nextTick(ur,Rr,Ar)):(Ar.prefinished=!0,Rr.emit("prefinish")))}function yr(Rr,Ar){var Tr=tr(Ar);if(Tr&&(Ft(Rr,Ar),Ar.pendingcb===0&&(Ar.finished=!0,Rr.emit("finish"),Ar.autoDestroy))){var Kr=Rr._readableState;(!Kr||Kr.autoDestroy&&Kr.endEmitted)&&Rr.destroy()}return Tr}function Nr(Rr,Ar,Tr){Ar.ending=!0,yr(Rr,Ar),Tr&&(Ar.finished?process$1$1.nextTick(Tr):Rr.once("finish",Tr)),Ar.ended=!0,Rr.writable=!1}function qr(Rr,Ar,Tr){var Kr=Rr.entry;for(Rr.entry=null;Kr;){var Zr=Kr.callback;Ar.pendingcb--,Zr(Tr),Kr=Kr.next}Ar.corkedRequestsFree.next=Rr}return Object.defineProperty(jr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ar){this._writableState&&(this._writableState.destroyed=Ar)}}),jr.prototype.destroy=gt.destroy,jr.prototype._undestroy=gt.undestroy,jr.prototype._destroy=function(Rr,Ar){Ar(Rr)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var pe=Object.keys||function(kt){var mt=[];for(var xt in kt)mt.push(xt);return mt};_stream_duplex$1=Xe;var ge=require_stream_readable$1(),Se=require_stream_writable$1();inherits_browserExports(Xe,ge);for(var Ne=pe(Se.prototype),Ze=0;Ze<Ne.length;Ze++){var Je=Ne[Ze];Xe.prototype[Je]||(Xe.prototype[Je]=Se.prototype[Je])}function Xe(kt){if(!(this instanceof Xe))return new Xe(kt);ge.call(this,kt),Se.call(this,kt),this.allowHalfOpen=!0,kt&&(kt.readable===!1&&(this.readable=!1),kt.writable===!1&&(this.writable=!1),kt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",vt)))}Object.defineProperty(Xe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Xe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Xe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function vt(){this._writableState.ended||process$1$1.nextTick(gt,this)}function gt(kt){kt.end()}return Object.defineProperty(Xe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(mt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=mt,this._writableState.destroyed=mt)}}),_stream_duplex$1}var string_decoder={},Buffer$C=safeBufferExports$1.Buffer,isEncoding=Buffer$C.isEncoding||function(pe){switch(pe=""+pe,pe&&pe.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(pe){if(!pe)return"utf8";for(var ge;;)switch(pe){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return pe;default:if(ge)return;pe=(""+pe).toLowerCase(),ge=!0}}function normalizeEncoding(pe){var ge=_normalizeEncoding(pe);if(typeof ge!="string"&&(Buffer$C.isEncoding===isEncoding||!isEncoding(pe)))throw new Error("Unknown encoding: "+pe);return ge||pe}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(pe){this.encoding=normalizeEncoding(pe);var ge;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,ge=4;break;case"utf8":this.fillLast=utf8FillLast,ge=4;break;case"base64":this.text=base64Text,this.end=base64End,ge=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$C.allocUnsafe(ge)}StringDecoder$1.prototype.write=function(pe){if(pe.length===0)return"";var ge,Se;if(this.lastNeed){if(ge=this.fillLast(pe),ge===void 0)return"";Se=this.lastNeed,this.lastNeed=0}else Se=0;return Se<pe.length?ge?ge+this.text(pe,Se):this.text(pe,Se):ge||""},StringDecoder$1.prototype.end=utf8End,StringDecoder$1.prototype.text=utf8Text,StringDecoder$1.prototype.fillLast=function(pe){if(this.lastNeed<=pe.length)return pe.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pe.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pe.length),this.lastNeed-=pe.length};function utf8CheckByte(pe){return pe<=127?0:pe>>5===6?2:pe>>4===14?3:pe>>3===30?4:pe>>6===2?-1:-2}function utf8CheckIncomplete(pe,ge,Se){var Ne=ge.length-1;if(Ne<Se)return 0;var Ze=utf8CheckByte(ge[Ne]);return Ze>=0?(Ze>0&&(pe.lastNeed=Ze-1),Ze):--Ne<Se||Ze===-2?0:(Ze=utf8CheckByte(ge[Ne]),Ze>=0?(Ze>0&&(pe.lastNeed=Ze-2),Ze):--Ne<Se||Ze===-2?0:(Ze=utf8CheckByte(ge[Ne]),Ze>=0?(Ze>0&&(Ze===2?Ze=0:pe.lastNeed=Ze-3),Ze):0))}function utf8CheckExtraBytes(pe,ge,Se){if((ge[0]&192)!==128)return pe.lastNeed=0,"";if(pe.lastNeed>1&&ge.length>1){if((ge[1]&192)!==128)return pe.lastNeed=1,"";if(pe.lastNeed>2&&ge.length>2&&(ge[2]&192)!==128)return pe.lastNeed=2,""}}function utf8FillLast(pe){var ge=this.lastTotal-this.lastNeed,Se=utf8CheckExtraBytes(this,pe);if(Se!==void 0)return Se;if(this.lastNeed<=pe.length)return pe.copy(this.lastChar,ge,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pe.copy(this.lastChar,ge,0,pe.length),this.lastNeed-=pe.length}function utf8Text(pe,ge){var Se=utf8CheckIncomplete(this,pe,ge);if(!this.lastNeed)return pe.toString("utf8",ge);this.lastTotal=Se;var Ne=pe.length-(Se-this.lastNeed);return pe.copy(this.lastChar,0,Ne),pe.toString("utf8",ge,Ne)}function utf8End(pe){var ge=pe&&pe.length?this.write(pe):"";return this.lastNeed?ge+"":ge}function utf16Text(pe,ge){if((pe.length-ge)%2===0){var Se=pe.toString("utf16le",ge);if(Se){var Ne=Se.charCodeAt(Se.length-1);if(Ne>=55296&&Ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pe[pe.length-2],this.lastChar[1]=pe[pe.length-1],Se.slice(0,-1)}return Se}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pe[pe.length-1],pe.toString("utf16le",ge,pe.length-1)}function utf16End(pe){var ge=pe&&pe.length?this.write(pe):"";if(this.lastNeed){var Se=this.lastTotal-this.lastNeed;return ge+this.lastChar.toString("utf16le",0,Se)}return ge}function base64Text(pe,ge){var Se=(pe.length-ge)%3;return Se===0?pe.toString("base64",ge):(this.lastNeed=3-Se,this.lastTotal=3,Se===1?this.lastChar[0]=pe[pe.length-1]:(this.lastChar[0]=pe[pe.length-2],this.lastChar[1]=pe[pe.length-1]),pe.toString("base64",ge,pe.length-Se))}function base64End(pe){var ge=pe&&pe.length?this.write(pe):"";return this.lastNeed?ge+this.lastChar.toString("base64",0,3-this.lastNeed):ge}function simpleWrite(pe){return pe.toString(this.encoding)}function simpleEnd(pe){return pe&&pe.length?this.write(pe):""}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var pe=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function ge(Je){var Xe=!1;return function(){if(!Xe){Xe=!0;for(var vt=arguments.length,gt=new Array(vt),kt=0;kt<vt;kt++)gt[kt]=arguments[kt];Je.apply(this,gt)}}}function Se(){}function Ne(Je){return Je.setHeader&&typeof Je.abort=="function"}function Ze(Je,Xe,vt){if(typeof Xe=="function")return Ze(Je,null,Xe);Xe||(Xe={}),vt=ge(vt||Se);var gt=Xe.readable||Xe.readable!==!1&&Je.readable,kt=Xe.writable||Xe.writable!==!1&&Je.writable,mt=function(){Je.writable||fr()},xt=Je._writableState&&Je._writableState.finished,fr=function(){kt=!1,xt=!0,gt||vt.call(Je)},ar=Je._readableState&&Je._readableState.endEmitted,gr=function(){gt=!1,ar=!0,kt||vt.call(Je)},wr=function(Or){vt.call(Je,Or)},Er=function(){var Or;if(gt&&!ar)return(!Je._readableState||!Je._readableState.ended)&&(Or=new pe),vt.call(Je,Or);if(kt&&!xt)return(!Je._writableState||!Je._writableState.ended)&&(Or=new pe),vt.call(Je,Or)},_r=function(){Je.req.on("finish",fr)};return Ne(Je)?(Je.on("complete",fr),Je.on("abort",Er),Je.req?_r():Je.on("request",_r)):kt&&!Je._writableState&&(Je.on("end",mt),Je.on("close",mt)),Je.on("end",gr),Je.on("finish",fr),Xe.error!==!1&&Je.on("error",wr),Je.on("close",Er),function(){Je.removeListener("complete",fr),Je.removeListener("abort",Er),Je.removeListener("request",_r),Je.req&&Je.req.removeListener("finish",fr),Je.removeListener("end",mt),Je.removeListener("close",mt),Je.removeListener("finish",fr),Je.removeListener("end",gr),Je.removeListener("error",wr),Je.removeListener("close",Er)}}return endOfStream=Ze,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var pe;function ge(Or,Pr,kr){return Pr=Se(Pr),Pr in Or?Object.defineProperty(Or,Pr,{value:kr,enumerable:!0,configurable:!0,writable:!0}):Or[Pr]=kr,Or}function Se(Or){var Pr=Ne(Or,"string");return typeof Pr=="symbol"?Pr:String(Pr)}function Ne(Or,Pr){if(typeof Or!="object"||Or===null)return Or;var kr=Or[Symbol.toPrimitive];if(kr!==void 0){var Ur=kr.call(Or,Pr);if(typeof Ur!="object")return Ur;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Pr==="string"?String:Number)(Or)}var Ze=requireEndOfStream(),Je=Symbol("lastResolve"),Xe=Symbol("lastReject"),vt=Symbol("error"),gt=Symbol("ended"),kt=Symbol("lastPromise"),mt=Symbol("handlePromise"),xt=Symbol("stream");function fr(Or,Pr){return{value:Or,done:Pr}}function ar(Or){var Pr=Or[Je];if(Pr!==null){var kr=Or[xt].read();kr!==null&&(Or[kt]=null,Or[Je]=null,Or[Xe]=null,Pr(fr(kr,!1)))}}function gr(Or){process$1$1.nextTick(ar,Or)}function wr(Or,Pr){return function(kr,Ur){Or.then(function(){if(Pr[gt]){kr(fr(void 0,!0));return}Pr[mt](kr,Ur)},Ur)}}var Er=Object.getPrototypeOf(function(){}),_r=Object.setPrototypeOf((pe={get stream(){return this[xt]},next:function(){var Pr=this,kr=this[vt];if(kr!==null)return Promise.reject(kr);if(this[gt])return Promise.resolve(fr(void 0,!0));if(this[xt].destroyed)return new Promise(function(Dr,Vr){process$1$1.nextTick(function(){Pr[vt]?Vr(Pr[vt]):Dr(fr(void 0,!0))})});var Ur=this[kt],Yr;if(Ur)Yr=new Promise(wr(Ur,this));else{var jr=this[xt].read();if(jr!==null)return Promise.resolve(fr(jr,!1));Yr=new Promise(this[mt])}return this[kt]=Yr,Yr}},ge(pe,Symbol.asyncIterator,function(){return this}),ge(pe,"return",function(){var Pr=this;return new Promise(function(kr,Ur){Pr[xt].destroy(null,function(Yr){if(Yr){Ur(Yr);return}kr(fr(void 0,!0))})})}),pe),Er),Sr=function(Pr){var kr,Ur=Object.create(_r,(kr={},ge(kr,xt,{value:Pr,writable:!0}),ge(kr,Je,{value:null,writable:!0}),ge(kr,Xe,{value:null,writable:!0}),ge(kr,vt,{value:null,writable:!0}),ge(kr,gt,{value:Pr._readableState.endEmitted,writable:!0}),ge(kr,mt,{value:function(jr,Dr){var Vr=Ur[xt].read();Vr?(Ur[kt]=null,Ur[Je]=null,Ur[Xe]=null,jr(fr(Vr,!1))):(Ur[Je]=jr,Ur[Xe]=Dr)},writable:!0}),kr));return Ur[kt]=null,Ze(Pr,function(Yr){if(Yr&&Yr.code!=="ERR_STREAM_PREMATURE_CLOSE"){var jr=Ur[Xe];jr!==null&&(Ur[kt]=null,Ur[Je]=null,Ur[Xe]=null,jr(Yr)),Ur[vt]=Yr;return}var Dr=Ur[Je];Dr!==null&&(Ur[kt]=null,Ur[Je]=null,Ur[Xe]=null,Dr(fr(void 0,!0))),Ur[gt]=!0}),Pr.on("readable",gr.bind(null,Ur)),Ur};return async_iterator=Sr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Dr;var pe;Dr.ReadableState=jr,eventsExports.EventEmitter;var ge=function(Mr,Gr){return Mr.listeners(Gr).length},Se=requireStreamBrowser(),Ne=require$$1$2.Buffer,Ze=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Je(Br){return Ne.from(Br)}function Xe(Br){return Ne.isBuffer(Br)||Br instanceof Ze}var vt=util$4,gt;vt&&vt.debuglog?gt=vt.debuglog("stream"):gt=function(){};var kt=requireBuffer_list(),mt=requireDestroy(),xt=requireState(),fr=xt.getHighWaterMark,ar=requireErrorsBrowser().codes,gr=ar.ERR_INVALID_ARG_TYPE,wr=ar.ERR_STREAM_PUSH_AFTER_EOF,Er=ar.ERR_METHOD_NOT_IMPLEMENTED,_r=ar.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Sr,Or,Pr;inherits_browserExports(Dr,Se);var kr=mt.errorOrDestroy,Ur=["error","close","destroy","pause","resume"];function Yr(Br,Mr,Gr){if(typeof Br.prependListener=="function")return Br.prependListener(Mr,Gr);!Br._events||!Br._events[Mr]?Br.on(Mr,Gr):Array.isArray(Br._events[Mr])?Br._events[Mr].unshift(Gr):Br._events[Mr]=[Gr,Br._events[Mr]]}function jr(Br,Mr,Gr){pe=pe||require_stream_duplex$1(),Br=Br||{},typeof Gr!="boolean"&&(Gr=Mr instanceof pe),this.objectMode=!!Br.objectMode,Gr&&(this.objectMode=this.objectMode||!!Br.readableObjectMode),this.highWaterMark=fr(this,Br,"readableHighWaterMark",Gr),this.buffer=new kt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Br.emitClose!==!1,this.autoDestroy=!!Br.autoDestroy,this.destroyed=!1,this.defaultEncoding=Br.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Br.encoding&&(Sr||(Sr=string_decoder.StringDecoder),this.decoder=new Sr(Br.encoding),this.encoding=Br.encoding)}function Dr(Br){if(pe=pe||require_stream_duplex$1(),!(this instanceof Dr))return new Dr(Br);var Mr=this instanceof pe;this._readableState=new jr(Br,this,Mr),this.readable=!0,Br&&(typeof Br.read=="function"&&(this._read=Br.read),typeof Br.destroy=="function"&&(this._destroy=Br.destroy)),Se.call(this)}Object.defineProperty(Dr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Mr){this._readableState&&(this._readableState.destroyed=Mr)}}),Dr.prototype.destroy=mt.destroy,Dr.prototype._undestroy=mt.undestroy,Dr.prototype._destroy=function(Br,Mr){Mr(Br)},Dr.prototype.push=function(Br,Mr){var Gr=this._readableState,en;return Gr.objectMode?en=!0:typeof Br=="string"&&(Mr=Mr||Gr.defaultEncoding,Mr!==Gr.encoding&&(Br=Ne.from(Br,Mr),Mr=""),en=!0),Vr(this,Br,Mr,!1,en)},Dr.prototype.unshift=function(Br){return Vr(this,Br,null,!0,!1)};function Vr(Br,Mr,Gr,en,rn){gt("readableAddChunk",Mr);var an=Br._readableState;if(Mr===null)an.reading=!1,or(Br,an);else{var nn;if(rn||(nn=br(an,Mr)),nn)kr(Br,nn);else if(an.objectMode||Mr&&Mr.length>0)if(typeof Mr!="string"&&!an.objectMode&&Object.getPrototypeOf(Mr)!==Ne.prototype&&(Mr=Je(Mr)),en)an.endEmitted?kr(Br,new _r):Ir(Br,an,Mr,!0);else if(an.ended)kr(Br,new wr);else{if(an.destroyed)return!1;an.reading=!1,an.decoder&&!Gr?(Mr=an.decoder.write(Mr),an.objectMode||Mr.length!==0?Ir(Br,an,Mr,!1):vr(Br,an)):Ir(Br,an,Mr,!1)}else en||(an.reading=!1,vr(Br,an))}return!an.ended&&(an.length<an.highWaterMark||an.length===0)}function Ir(Br,Mr,Gr,en){Mr.flowing&&Mr.length===0&&!Mr.sync?(Mr.awaitDrain=0,Br.emit("data",Gr)):(Mr.length+=Mr.objectMode?1:Gr.length,en?Mr.buffer.unshift(Gr):Mr.buffer.push(Gr),Mr.needReadable&&pr(Br)),vr(Br,Mr)}function br(Br,Mr){var Gr;return!Xe(Mr)&&typeof Mr!="string"&&Mr!==void 0&&!Br.objectMode&&(Gr=new gr("chunk",["string","Buffer","Uint8Array"],Mr)),Gr}Dr.prototype.isPaused=function(){return this._readableState.flowing===!1},Dr.prototype.setEncoding=function(Br){Sr||(Sr=string_decoder.StringDecoder);var Mr=new Sr(Br);this._readableState.decoder=Mr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Gr=this._readableState.buffer.head,en="";Gr!==null;)en+=Mr.write(Gr.data),Gr=Gr.next;return this._readableState.buffer.clear(),en!==""&&this._readableState.buffer.push(en),this._readableState.length=en.length,this};var Vt=1073741824;function ht(Br){return Br>=Vt?Br=Vt:(Br--,Br|=Br>>>1,Br|=Br>>>2,Br|=Br>>>4,Br|=Br>>>8,Br|=Br>>>16,Br++),Br}function Ct(Br,Mr){return Br<=0||Mr.length===0&&Mr.ended?0:Mr.objectMode?1:Br!==Br?Mr.flowing&&Mr.length?Mr.buffer.head.data.length:Mr.length:(Br>Mr.highWaterMark&&(Mr.highWaterMark=ht(Br)),Br<=Mr.length?Br:Mr.ended?Mr.length:(Mr.needReadable=!0,0))}Dr.prototype.read=function(Br){gt("read",Br),Br=parseInt(Br,10);var Mr=this._readableState,Gr=Br;if(Br!==0&&(Mr.emittedReadable=!1),Br===0&&Mr.needReadable&&((Mr.highWaterMark!==0?Mr.length>=Mr.highWaterMark:Mr.length>0)||Mr.ended))return gt("read: emitReadable",Mr.length,Mr.ended),Mr.length===0&&Mr.ended?Tr(this):pr(this),null;if(Br=Ct(Br,Mr),Br===0&&Mr.ended)return Mr.length===0&&Tr(this),null;var en=Mr.needReadable;gt("need readable",en),(Mr.length===0||Mr.length-Br<Mr.highWaterMark)&&(en=!0,gt("length less than watermark",en)),Mr.ended||Mr.reading?(en=!1,gt("reading or ended",en)):en&&(gt("do read"),Mr.reading=!0,Mr.sync=!0,Mr.length===0&&(Mr.needReadable=!0),this._read(Mr.highWaterMark),Mr.sync=!1,Mr.reading||(Br=Ct(Gr,Mr)));var rn;return Br>0?rn=Ar(Br,Mr):rn=null,rn===null?(Mr.needReadable=Mr.length<=Mr.highWaterMark,Br=0):(Mr.length-=Br,Mr.awaitDrain=0),Mr.length===0&&(Mr.ended||(Mr.needReadable=!0),Gr!==Br&&Mr.ended&&Tr(this)),rn!==null&&this.emit("data",rn),rn};function or(Br,Mr){if(gt("onEofChunk"),!Mr.ended){if(Mr.decoder){var Gr=Mr.decoder.end();Gr&&Gr.length&&(Mr.buffer.push(Gr),Mr.length+=Mr.objectMode?1:Gr.length)}Mr.ended=!0,Mr.sync?pr(Br):(Mr.needReadable=!1,Mr.emittedReadable||(Mr.emittedReadable=!0,lr(Br)))}}function pr(Br){var Mr=Br._readableState;gt("emitReadable",Mr.needReadable,Mr.emittedReadable),Mr.needReadable=!1,Mr.emittedReadable||(gt("emitReadable",Mr.flowing),Mr.emittedReadable=!0,process$1$1.nextTick(lr,Br))}function lr(Br){var Mr=Br._readableState;gt("emitReadable_",Mr.destroyed,Mr.length,Mr.ended),!Mr.destroyed&&(Mr.length||Mr.ended)&&(Br.emit("readable"),Mr.emittedReadable=!1),Mr.needReadable=!Mr.flowing&&!Mr.ended&&Mr.length<=Mr.highWaterMark,Rr(Br)}function vr(Br,Mr){Mr.readingMore||(Mr.readingMore=!0,process$1$1.nextTick(tr,Br,Mr))}function tr(Br,Mr){for(;!Mr.reading&&!Mr.ended&&(Mr.length<Mr.highWaterMark||Mr.flowing&&Mr.length===0);){var Gr=Mr.length;if(gt("maybeReadMore read 0"),Br.read(0),Gr===Mr.length)break}Mr.readingMore=!1}Dr.prototype._read=function(Br){kr(this,new Er("_read()"))},Dr.prototype.pipe=function(Br,Mr){var Gr=this,en=this._readableState;switch(en.pipesCount){case 0:en.pipes=Br;break;case 1:en.pipes=[en.pipes,Br];break;default:en.pipes.push(Br);break}en.pipesCount+=1,gt("pipe count=%d opts=%j",en.pipesCount,Mr);var rn=(!Mr||Mr.end!==!1)&&Br!==process$1$1.stdout&&Br!==process$1$1.stderr,an=rn?un:gn;en.endEmitted?process$1$1.nextTick(an):Gr.once("end",an),Br.on("unpipe",nn);function nn(mn,An){gt("onunpipe"),mn===Gr&&An&&An.hasUnpiped===!1&&(An.hasUnpiped=!0,cn())}function un(){gt("onend"),Br.end()}var tn=ur(Gr);Br.on("drain",tn);var dn=!1;function cn(){gt("cleanup"),Br.removeListener("close",Hr),Br.removeListener("finish",yn),Br.removeListener("drain",tn),Br.removeListener("error",on),Br.removeListener("unpipe",nn),Gr.removeListener("end",un),Gr.removeListener("end",gn),Gr.removeListener("data",Wr),dn=!0,en.awaitDrain&&(!Br._writableState||Br._writableState.needDrain)&&tn()}Gr.on("data",Wr);function Wr(mn){gt("ondata");var An=Br.write(mn);gt("dest.write",An),An===!1&&((en.pipesCount===1&&en.pipes===Br||en.pipesCount>1&&Zr(en.pipes,Br)!==-1)&&!dn&&(gt("false write response, pause",en.awaitDrain),en.awaitDrain++),Gr.pause())}function on(mn){gt("onerror",mn),gn(),Br.removeListener("error",on),ge(Br,"error")===0&&kr(Br,mn)}Yr(Br,"error",on);function Hr(){Br.removeListener("finish",yn),gn()}Br.once("close",Hr);function yn(){gt("onfinish"),Br.removeListener("close",Hr),gn()}Br.once("finish",yn);function gn(){gt("unpipe"),Gr.unpipe(Br)}return Br.emit("pipe",Gr),en.flowing||(gt("pipe resume"),Gr.resume()),Br};function ur(Br){return function(){var Gr=Br._readableState;gt("pipeOnDrain",Gr.awaitDrain),Gr.awaitDrain&&Gr.awaitDrain--,Gr.awaitDrain===0&&ge(Br,"data")&&(Gr.flowing=!0,Rr(Br))}}Dr.prototype.unpipe=function(Br){var Mr=this._readableState,Gr={hasUnpiped:!1};if(Mr.pipesCount===0)return this;if(Mr.pipesCount===1)return Br&&Br!==Mr.pipes?this:(Br||(Br=Mr.pipes),Mr.pipes=null,Mr.pipesCount=0,Mr.flowing=!1,Br&&Br.emit("unpipe",this,Gr),this);if(!Br){var en=Mr.pipes,rn=Mr.pipesCount;Mr.pipes=null,Mr.pipesCount=0,Mr.flowing=!1;for(var an=0;an<rn;an++)en[an].emit("unpipe",this,{hasUnpiped:!1});return this}var nn=Zr(Mr.pipes,Br);return nn===-1?this:(Mr.pipes.splice(nn,1),Mr.pipesCount-=1,Mr.pipesCount===1&&(Mr.pipes=Mr.pipes[0]),Br.emit("unpipe",this,Gr),this)},Dr.prototype.on=function(Br,Mr){var Gr=Se.prototype.on.call(this,Br,Mr),en=this._readableState;return Br==="data"?(en.readableListening=this.listenerCount("readable")>0,en.flowing!==!1&&this.resume()):Br==="readable"&&!en.endEmitted&&!en.readableListening&&(en.readableListening=en.needReadable=!0,en.flowing=!1,en.emittedReadable=!1,gt("on readable",en.length,en.reading),en.length?pr(this):en.reading||process$1$1.nextTick(yr,this)),Gr},Dr.prototype.addListener=Dr.prototype.on,Dr.prototype.removeListener=function(Br,Mr){var Gr=Se.prototype.removeListener.call(this,Br,Mr);return Br==="readable"&&process$1$1.nextTick(Ft,this),Gr},Dr.prototype.removeAllListeners=function(Br){var Mr=Se.prototype.removeAllListeners.apply(this,arguments);return(Br==="readable"||Br===void 0)&&process$1$1.nextTick(Ft,this),Mr};function Ft(Br){var Mr=Br._readableState;Mr.readableListening=Br.listenerCount("readable")>0,Mr.resumeScheduled&&!Mr.paused?Mr.flowing=!0:Br.listenerCount("data")>0&&Br.resume()}function yr(Br){gt("readable nexttick read 0"),Br.read(0)}Dr.prototype.resume=function(){var Br=this._readableState;return Br.flowing||(gt("resume"),Br.flowing=!Br.readableListening,Nr(this,Br)),Br.paused=!1,this};function Nr(Br,Mr){Mr.resumeScheduled||(Mr.resumeScheduled=!0,process$1$1.nextTick(qr,Br,Mr))}function qr(Br,Mr){gt("resume",Mr.reading),Mr.reading||Br.read(0),Mr.resumeScheduled=!1,Br.emit("resume"),Rr(Br),Mr.flowing&&!Mr.reading&&Br.read(0)}Dr.prototype.pause=function(){return gt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(gt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Rr(Br){var Mr=Br._readableState;for(gt("flow",Mr.flowing);Mr.flowing&&Br.read()!==null;);}Dr.prototype.wrap=function(Br){var Mr=this,Gr=this._readableState,en=!1;Br.on("end",function(){if(gt("wrapped end"),Gr.decoder&&!Gr.ended){var nn=Gr.decoder.end();nn&&nn.length&&Mr.push(nn)}Mr.push(null)}),Br.on("data",function(nn){if(gt("wrapped data"),Gr.decoder&&(nn=Gr.decoder.write(nn)),!(Gr.objectMode&&nn==null)&&!(!Gr.objectMode&&(!nn||!nn.length))){var un=Mr.push(nn);un||(en=!0,Br.pause())}});for(var rn in Br)this[rn]===void 0&&typeof Br[rn]=="function"&&(this[rn]=function(un){return function(){return Br[un].apply(Br,arguments)}}(rn));for(var an=0;an<Ur.length;an++)Br.on(Ur[an],this.emit.bind(this,Ur[an]));return this._read=function(nn){gt("wrapped _read",nn),en&&(en=!1,Br.resume())},this},typeof Symbol=="function"&&(Dr.prototype[Symbol.asyncIterator]=function(){return Or===void 0&&(Or=requireAsync_iterator()),Or(this)}),Object.defineProperty(Dr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Dr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Dr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Mr){this._readableState&&(this._readableState.flowing=Mr)}}),Dr._fromList=Ar,Object.defineProperty(Dr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ar(Br,Mr){if(Mr.length===0)return null;var Gr;return Mr.objectMode?Gr=Mr.buffer.shift():!Br||Br>=Mr.length?(Mr.decoder?Gr=Mr.buffer.join(""):Mr.buffer.length===1?Gr=Mr.buffer.first():Gr=Mr.buffer.concat(Mr.length),Mr.buffer.clear()):Gr=Mr.buffer.consume(Br,Mr.decoder),Gr}function Tr(Br){var Mr=Br._readableState;gt("endReadable",Mr.endEmitted),Mr.endEmitted||(Mr.ended=!0,process$1$1.nextTick(Kr,Mr,Br))}function Kr(Br,Mr){if(gt("endReadableNT",Br.endEmitted,Br.length),!Br.endEmitted&&Br.length===0&&(Br.endEmitted=!0,Mr.readable=!1,Mr.emit("end"),Br.autoDestroy)){var Gr=Mr._writableState;(!Gr||Gr.autoDestroy&&Gr.finished)&&Mr.destroy()}}typeof Symbol=="function"&&(Dr.from=function(Br,Mr){return Pr===void 0&&(Pr=requireFromBrowser()),Pr(Dr,Br,Mr)});function Zr(Br,Mr){for(var Gr=0,en=Br.length;Gr<en;Gr++)if(Br[Gr]===Mr)return Gr;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform$1;hasRequired_stream_transform=1,_stream_transform$1=vt;var pe=requireErrorsBrowser().codes,ge=pe.ERR_METHOD_NOT_IMPLEMENTED,Se=pe.ERR_MULTIPLE_CALLBACK,Ne=pe.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ze=pe.ERR_TRANSFORM_WITH_LENGTH_0,Je=require_stream_duplex$1();inherits_browserExports(vt,Je);function Xe(mt,xt){var fr=this._transformState;fr.transforming=!1;var ar=fr.writecb;if(ar===null)return this.emit("error",new Se);fr.writechunk=null,fr.writecb=null,xt!=null&&this.push(xt),ar(mt);var gr=this._readableState;gr.reading=!1,(gr.needReadable||gr.length<gr.highWaterMark)&&this._read(gr.highWaterMark)}function vt(mt){if(!(this instanceof vt))return new vt(mt);Je.call(this,mt),this._transformState={afterTransform:Xe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,mt&&(typeof mt.transform=="function"&&(this._transform=mt.transform),typeof mt.flush=="function"&&(this._flush=mt.flush)),this.on("prefinish",gt)}function gt(){var mt=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(xt,fr){kt(mt,xt,fr)}):kt(this,null,null)}vt.prototype.push=function(mt,xt){return this._transformState.needTransform=!1,Je.prototype.push.call(this,mt,xt)},vt.prototype._transform=function(mt,xt,fr){fr(new ge("_transform()"))},vt.prototype._write=function(mt,xt,fr){var ar=this._transformState;if(ar.writecb=fr,ar.writechunk=mt,ar.writeencoding=xt,!ar.transforming){var gr=this._readableState;(ar.needTransform||gr.needReadable||gr.length<gr.highWaterMark)&&this._read(gr.highWaterMark)}},vt.prototype._read=function(mt){var xt=this._transformState;xt.writechunk!==null&&!xt.transforming?(xt.transforming=!0,this._transform(xt.writechunk,xt.writeencoding,xt.afterTransform)):xt.needTransform=!0},vt.prototype._destroy=function(mt,xt){Je.prototype._destroy.call(this,mt,function(fr){xt(fr)})};function kt(mt,xt,fr){if(xt)return mt.emit("error",xt);if(fr!=null&&mt.push(fr),mt._writableState.length)throw new Ze;if(mt._transformState.transforming)throw new Ne;return mt.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough$1;hasRequired_stream_passthrough=1,_stream_passthrough$1=ge;var pe=require_stream_transform();inherits_browserExports(ge,pe);function ge(Se){if(!(this instanceof ge))return new ge(Se);pe.call(this,Se)}return ge.prototype._transform=function(Se,Ne,Ze){Ze(null,Se)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var pe;function ge(fr){var ar=!1;return function(){ar||(ar=!0,fr.apply(void 0,arguments))}}var Se=requireErrorsBrowser().codes,Ne=Se.ERR_MISSING_ARGS,Ze=Se.ERR_STREAM_DESTROYED;function Je(fr){if(fr)throw fr}function Xe(fr){return fr.setHeader&&typeof fr.abort=="function"}function vt(fr,ar,gr,wr){wr=ge(wr);var Er=!1;fr.on("close",function(){Er=!0}),pe===void 0&&(pe=requireEndOfStream()),pe(fr,{readable:ar,writable:gr},function(Sr){if(Sr)return wr(Sr);Er=!0,wr()});var _r=!1;return function(Sr){if(!Er&&!_r){if(_r=!0,Xe(fr))return fr.abort();if(typeof fr.destroy=="function")return fr.destroy();wr(Sr||new Ze("pipe"))}}}function gt(fr){fr()}function kt(fr,ar){return fr.pipe(ar)}function mt(fr){return!fr.length||typeof fr[fr.length-1]!="function"?Je:fr.pop()}function xt(){for(var fr=arguments.length,ar=new Array(fr),gr=0;gr<fr;gr++)ar[gr]=arguments[gr];var wr=mt(ar);if(Array.isArray(ar[0])&&(ar=ar[0]),ar.length<2)throw new Ne("streams");var Er,_r=ar.map(function(Sr,Or){var Pr=Or<ar.length-1,kr=Or>0;return vt(Sr,Pr,kr,function(Ur){Er||(Er=Ur),Ur&&_r.forEach(gt),!Pr&&(_r.forEach(gt),wr(Er))})});return ar.reduce(kt)}return pipeline_1=xt,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(pe,ge){ge=pe.exports=require_stream_readable$1(),ge.Stream=ge,ge.Readable=ge,ge.Writable=require_stream_writable$1(),ge.Duplex=require_stream_duplex$1(),ge.Transform=require_stream_transform(),ge.PassThrough=require_stream_passthrough(),ge.finished=requireEndOfStream(),ge.pipeline=requirePipeline()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response;hasRequiredResponse=1;var pe=requireCapability(),ge=inherits_browserExports,Se=requireReadableBrowser(),Ne=response.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},Ze=response.IncomingMessage=function(Je,Xe,vt,gt){var kt=this;if(Se.Readable.call(kt),kt._mode=vt,kt.headers={},kt.rawHeaders=[],kt.trailers={},kt.rawTrailers=[],kt.on("end",function(){process$1$1.nextTick(function(){kt.emit("close")})}),vt==="fetch"){let wr=function(){xt.read().then(function(Er){if(!kt._destroyed){if(gt(Er.done),Er.done){kt.push(null);return}kt.push(Buffer$F.from(Er.value)),wr()}}).catch(function(Er){gt(!0),kt._destroyed||kt.emit("error",Er)})};if(kt._fetchResponse=Xe,kt.url=Xe.url,kt.statusCode=Xe.status,kt.statusMessage=Xe.statusText,Xe.headers.forEach(function(Er,_r){kt.headers[_r.toLowerCase()]=Er,kt.rawHeaders.push(_r,Er)}),pe.writableStream){var mt=new WritableStream({write:function(Er){return gt(!1),new Promise(function(_r,Sr){kt._destroyed?Sr():kt.push(Buffer$F.from(Er))?_r():kt._resumeFetch=_r})},close:function(){gt(!0),kt._destroyed||kt.push(null)},abort:function(Er){gt(!0),kt._destroyed||kt.emit("error",Er)}});try{Xe.body.pipeTo(mt).catch(function(Er){gt(!0),kt._destroyed||kt.emit("error",Er)});return}catch{}}var xt=Xe.body.getReader();wr()}else{kt._xhr=Je,kt._pos=0,kt.url=Je.responseURL,kt.statusCode=Je.status,kt.statusMessage=Je.statusText;var fr=Je.getAllResponseHeaders().split(/\r?\n/);if(fr.forEach(function(wr){var Er=wr.match(/^([^:]+):\s*(.*)/);if(Er){var _r=Er[1].toLowerCase();_r==="set-cookie"?(kt.headers[_r]===void 0&&(kt.headers[_r]=[]),kt.headers[_r].push(Er[2])):kt.headers[_r]!==void 0?kt.headers[_r]+=", "+Er[2]:kt.headers[_r]=Er[2],kt.rawHeaders.push(Er[1],Er[2])}}),kt._charset="x-user-defined",!pe.overrideMimeType){var ar=kt.rawHeaders["mime-type"];if(ar){var gr=ar.match(/;\s*charset=([^;])(;|$)/);gr&&(kt._charset=gr[1].toLowerCase())}kt._charset||(kt._charset="utf-8")}}};return ge(Ze,Se.Readable),Ze.prototype._read=function(){var Je=this,Xe=Je._resumeFetch;Xe&&(Je._resumeFetch=null,Xe())},Ze.prototype._onXHRProgress=function(Je){var Xe=this,vt=Xe._xhr,gt=null;switch(Xe._mode){case"text":if(gt=vt.responseText,gt.length>Xe._pos){var kt=gt.substr(Xe._pos);if(Xe._charset==="x-user-defined"){for(var mt=Buffer$F.alloc(kt.length),xt=0;xt<kt.length;xt++)mt[xt]=kt.charCodeAt(xt)&255;Xe.push(mt)}else Xe.push(kt,Xe._charset);Xe._pos=gt.length}break;case"arraybuffer":if(vt.readyState!==Ne.DONE||!vt.response)break;gt=vt.response,Xe.push(Buffer$F.from(new Uint8Array(gt)));break;case"moz-chunked-arraybuffer":if(gt=vt.response,vt.readyState!==Ne.LOADING||!gt)break;Xe.push(Buffer$F.from(new Uint8Array(gt)));break;case"ms-stream":if(gt=vt.response,vt.readyState!==Ne.LOADING)break;var fr=new commonjsGlobal$1.MSStreamReader;fr.onprogress=function(){fr.result.byteLength>Xe._pos&&(Xe.push(Buffer$F.from(new Uint8Array(fr.result.slice(Xe._pos)))),Xe._pos=fr.result.byteLength)},fr.onload=function(){Je(!0),Xe.push(null)},fr.readAsArrayBuffer(gt);break}Xe._xhr.readyState===Ne.DONE&&Xe._mode!=="ms-stream"&&(Je(!0),Xe.push(null))},response}var hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request.exports;hasRequiredRequest=1;var pe=requireCapability(),ge=inherits_browserExports,Se=requireResponse(),Ne=requireReadableBrowser(),Ze=Se.IncomingMessage,Je=Se.readyStates;function Xe(mt,xt){return pe.fetch&&xt?"fetch":pe.mozchunkedarraybuffer?"moz-chunked-arraybuffer":pe.msstream?"ms-stream":pe.arraybuffer&&mt?"arraybuffer":"text"}var vt=request.exports=function(mt){var xt=this;Ne.Writable.call(xt),xt._opts=mt,xt._body=[],xt._headers={},mt.auth&&xt.setHeader("Authorization","Basic "+Buffer$F.from(mt.auth).toString("base64")),Object.keys(mt.headers).forEach(function(gr){xt.setHeader(gr,mt.headers[gr])});var fr,ar=!0;if(mt.mode==="disable-fetch"||"requestTimeout"in mt&&!pe.abortController)ar=!1,fr=!0;else if(mt.mode==="prefer-streaming")fr=!1;else if(mt.mode==="allow-wrong-content-type")fr=!pe.overrideMimeType;else if(!mt.mode||mt.mode==="default"||mt.mode==="prefer-fast")fr=!0;else throw new Error("Invalid value for opts.mode");xt._mode=Xe(fr,ar),xt._fetchTimer=null,xt._socketTimeout=null,xt._socketTimer=null,xt.on("finish",function(){xt._onFinish()})};ge(vt,Ne.Writable),vt.prototype.setHeader=function(mt,xt){var fr=this,ar=mt.toLowerCase();kt.indexOf(ar)===-1&&(fr._headers[ar]={name:mt,value:xt})},vt.prototype.getHeader=function(mt){var xt=this._headers[mt.toLowerCase()];return xt?xt.value:null},vt.prototype.removeHeader=function(mt){var xt=this;delete xt._headers[mt.toLowerCase()]},vt.prototype._onFinish=function(){var mt=this;if(!mt._destroyed){var xt=mt._opts;"timeout"in xt&&xt.timeout!==0&&mt.setTimeout(xt.timeout);var fr=mt._headers,ar=null;xt.method!=="GET"&&xt.method!=="HEAD"&&(ar=new Blob(mt._body,{type:(fr["content-type"]||{}).value||""}));var gr=[];if(Object.keys(fr).forEach(function(Sr){var Or=fr[Sr].name,Pr=fr[Sr].value;Array.isArray(Pr)?Pr.forEach(function(kr){gr.push([Or,kr])}):gr.push([Or,Pr])}),mt._mode==="fetch"){var wr=null;if(pe.abortController){var Er=new AbortController;wr=Er.signal,mt._fetchAbortController=Er,"requestTimeout"in xt&&xt.requestTimeout!==0&&(mt._fetchTimer=commonjsGlobal$1.setTimeout(function(){mt.emit("requestTimeout"),mt._fetchAbortController&&mt._fetchAbortController.abort()},xt.requestTimeout))}commonjsGlobal$1.fetch(mt._opts.url,{method:mt._opts.method,headers:gr,body:ar||void 0,mode:"cors",credentials:xt.withCredentials?"include":"same-origin",signal:wr}).then(function(Sr){mt._fetchResponse=Sr,mt._resetTimers(!1),mt._connect()},function(Sr){mt._resetTimers(!0),mt._destroyed||mt.emit("error",Sr)})}else{var _r=mt._xhr=new commonjsGlobal$1.XMLHttpRequest;try{_r.open(mt._opts.method,mt._opts.url,!0)}catch(Sr){process$1$1.nextTick(function(){mt.emit("error",Sr)});return}"responseType"in _r&&(_r.responseType=mt._mode),"withCredentials"in _r&&(_r.withCredentials=!!xt.withCredentials),mt._mode==="text"&&"overrideMimeType"in _r&&_r.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in xt&&(_r.timeout=xt.requestTimeout,_r.ontimeout=function(){mt.emit("requestTimeout")}),gr.forEach(function(Sr){_r.setRequestHeader(Sr[0],Sr[1])}),mt._response=null,_r.onreadystatechange=function(){switch(_r.readyState){case Je.LOADING:case Je.DONE:mt._onXHRProgress();break}},mt._mode==="moz-chunked-arraybuffer"&&(_r.onprogress=function(){mt._onXHRProgress()}),_r.onerror=function(){mt._destroyed||(mt._resetTimers(!0),mt.emit("error",new Error("XHR error")))};try{_r.send(ar)}catch(Sr){process$1$1.nextTick(function(){mt.emit("error",Sr)});return}}}};function gt(mt){try{var xt=mt.status;return xt!==null&&xt!==0}catch{return!1}}vt.prototype._onXHRProgress=function(){var mt=this;mt._resetTimers(!1),!(!gt(mt._xhr)||mt._destroyed)&&(mt._response||mt._connect(),mt._response._onXHRProgress(mt._resetTimers.bind(mt)))},vt.prototype._connect=function(){var mt=this;mt._destroyed||(mt._response=new Ze(mt._xhr,mt._fetchResponse,mt._mode,mt._resetTimers.bind(mt)),mt._response.on("error",function(xt){mt.emit("error",xt)}),mt.emit("response",mt._response))},vt.prototype._write=function(mt,xt,fr){var ar=this;ar._body.push(mt),fr()},vt.prototype._resetTimers=function(mt){var xt=this;commonjsGlobal$1.clearTimeout(xt._socketTimer),xt._socketTimer=null,mt?(commonjsGlobal$1.clearTimeout(xt._fetchTimer),xt._fetchTimer=null):xt._socketTimeout&&(xt._socketTimer=commonjsGlobal$1.setTimeout(function(){xt.emit("timeout")},xt._socketTimeout))},vt.prototype.abort=vt.prototype.destroy=function(mt){var xt=this;xt._destroyed=!0,xt._resetTimers(!0),xt._response&&(xt._response._destroyed=!0),xt._xhr?xt._xhr.abort():xt._fetchAbortController&&xt._fetchAbortController.abort(),mt&&xt.emit("error",mt)},vt.prototype.end=function(mt,xt,fr){var ar=this;typeof mt=="function"&&(fr=mt,mt=void 0),Ne.Writable.prototype.end.call(ar,mt,xt,fr)},vt.prototype.setTimeout=function(mt,xt){var fr=this;xt&&fr.once("timeout",xt),fr._socketTimeout=mt,fr._resetTimers(!1)},vt.prototype.flushHeaders=function(){},vt.prototype.setNoDelay=function(){},vt.prototype.setSocketKeepAlive=function(){};var kt=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return request.exports}var immutable=extend,hasOwnProperty$1=Object.prototype.hasOwnProperty;function extend(){for(var pe={},ge=0;ge<arguments.length;ge++){var Se=arguments[ge];for(var Ne in Se)hasOwnProperty$1.call(Se,Ne)&&(pe[Ne]=Se[Ne])}return pe}var browser$b,hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,browser$b={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),browser$b}var url={exports:{}},punycode={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode.exports;var hasRequiredPunycode;function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(pe,ge){(function(Se){var Ne=ge&&!ge.nodeType&&ge,Ze=pe&&!pe.nodeType&&pe,Je=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(Je.global===Je||Je.window===Je||Je.self===Je)&&(Se=Je);var Xe,vt=2147483647,gt=36,kt=1,mt=26,xt=38,fr=700,ar=72,gr=128,wr="-",Er=/^xn--/,_r=/[^\x20-\x7E]/,Sr=/[\x2E\u3002\uFF0E\uFF61]/g,Or={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pr=gt-kt,kr=Math.floor,Ur=String.fromCharCode,Yr;function jr(tr){throw new RangeError(Or[tr])}function Dr(tr,ur){for(var Ft=tr.length,yr=[];Ft--;)yr[Ft]=ur(tr[Ft]);return yr}function Vr(tr,ur){var Ft=tr.split("@"),yr="";Ft.length>1&&(yr=Ft[0]+"@",tr=Ft[1]),tr=tr.replace(Sr,".");var Nr=tr.split("."),qr=Dr(Nr,ur).join(".");return yr+qr}function Ir(tr){for(var ur=[],Ft=0,yr=tr.length,Nr,qr;Ft<yr;)Nr=tr.charCodeAt(Ft++),Nr>=55296&&Nr<=56319&&Ft<yr?(qr=tr.charCodeAt(Ft++),(qr&64512)==56320?ur.push(((Nr&1023)<<10)+(qr&1023)+65536):(ur.push(Nr),Ft--)):ur.push(Nr);return ur}function br(tr){return Dr(tr,function(ur){var Ft="";return ur>65535&&(ur-=65536,Ft+=Ur(ur>>>10&1023|55296),ur=56320|ur&1023),Ft+=Ur(ur),Ft}).join("")}function Vt(tr){return tr-48<10?tr-22:tr-65<26?tr-65:tr-97<26?tr-97:gt}function ht(tr,ur){return tr+22+75*(tr<26)-((ur!=0)<<5)}function Ct(tr,ur,Ft){var yr=0;for(tr=Ft?kr(tr/fr):tr>>1,tr+=kr(tr/ur);tr>Pr*mt>>1;yr+=gt)tr=kr(tr/Pr);return kr(yr+(Pr+1)*tr/(tr+xt))}function or(tr){var ur=[],Ft=tr.length,yr,Nr=0,qr=gr,Rr=ar,Ar,Tr,Kr,Zr,Br,Mr,Gr,en,rn;for(Ar=tr.lastIndexOf(wr),Ar<0&&(Ar=0),Tr=0;Tr<Ar;++Tr)tr.charCodeAt(Tr)>=128&&jr("not-basic"),ur.push(tr.charCodeAt(Tr));for(Kr=Ar>0?Ar+1:0;Kr<Ft;){for(Zr=Nr,Br=1,Mr=gt;Kr>=Ft&&jr("invalid-input"),Gr=Vt(tr.charCodeAt(Kr++)),(Gr>=gt||Gr>kr((vt-Nr)/Br))&&jr("overflow"),Nr+=Gr*Br,en=Mr<=Rr?kt:Mr>=Rr+mt?mt:Mr-Rr,!(Gr<en);Mr+=gt)rn=gt-en,Br>kr(vt/rn)&&jr("overflow"),Br*=rn;yr=ur.length+1,Rr=Ct(Nr-Zr,yr,Zr==0),kr(Nr/yr)>vt-qr&&jr("overflow"),qr+=kr(Nr/yr),Nr%=yr,ur.splice(Nr++,0,qr)}return br(ur)}function pr(tr){var ur,Ft,yr,Nr,qr,Rr,Ar,Tr,Kr,Zr,Br,Mr=[],Gr,en,rn,an;for(tr=Ir(tr),Gr=tr.length,ur=gr,Ft=0,qr=ar,Rr=0;Rr<Gr;++Rr)Br=tr[Rr],Br<128&&Mr.push(Ur(Br));for(yr=Nr=Mr.length,Nr&&Mr.push(wr);yr<Gr;){for(Ar=vt,Rr=0;Rr<Gr;++Rr)Br=tr[Rr],Br>=ur&&Br<Ar&&(Ar=Br);for(en=yr+1,Ar-ur>kr((vt-Ft)/en)&&jr("overflow"),Ft+=(Ar-ur)*en,ur=Ar,Rr=0;Rr<Gr;++Rr)if(Br=tr[Rr],Br<ur&&++Ft>vt&&jr("overflow"),Br==ur){for(Tr=Ft,Kr=gt;Zr=Kr<=qr?kt:Kr>=qr+mt?mt:Kr-qr,!(Tr<Zr);Kr+=gt)an=Tr-Zr,rn=gt-Zr,Mr.push(Ur(ht(Zr+an%rn,0))),Tr=kr(an/rn);Mr.push(Ur(ht(Tr,0))),qr=Ct(Ft,en,yr==Nr),Ft=0,++yr}++Ft,++ur}return Mr.join("")}function lr(tr){return Vr(tr,function(ur){return Er.test(ur)?or(ur.slice(4).toLowerCase()):ur})}function vr(tr){return Vr(tr,function(ur){return _r.test(ur)?"xn--"+pr(ur):ur})}if(Xe={version:"1.4.1",ucs2:{decode:Ir,encode:br},decode:or,encode:pr,toASCII:vr,toUnicode:lr},Ne&&Ze)if(pe.exports==Ne)Ze.exports=Xe;else for(Yr in Xe)Xe.hasOwnProperty(Yr)&&(Ne[Yr]=Xe[Yr]);else Se.punycode=Xe})(commonjsGlobal$1)}(punycode,punycode.exports)),punycode.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);var objectInspect,hasRequiredObjectInspect;function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var pe=typeof Map=="function"&&Map.prototype,ge=Object.getOwnPropertyDescriptor&&pe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Se=pe&&ge&&typeof ge.get=="function"?ge.get:null,Ne=pe&&Map.prototype.forEach,Ze=typeof Set=="function"&&Set.prototype,Je=Object.getOwnPropertyDescriptor&&Ze?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xe=Ze&&Je&&typeof Je.get=="function"?Je.get:null,vt=Ze&&Set.prototype.forEach,gt=typeof WeakMap=="function"&&WeakMap.prototype,kt=gt?WeakMap.prototype.has:null,mt=typeof WeakSet=="function"&&WeakSet.prototype,xt=mt?WeakSet.prototype.has:null,fr=typeof WeakRef=="function"&&WeakRef.prototype,ar=fr?WeakRef.prototype.deref:null,gr=Boolean.prototype.valueOf,wr=Object.prototype.toString,Er=Function.prototype.toString,_r=String.prototype.match,Sr=String.prototype.slice,Or=String.prototype.replace,Pr=String.prototype.toUpperCase,kr=String.prototype.toLowerCase,Ur=RegExp.prototype.test,Yr=Array.prototype.concat,jr=Array.prototype.join,Dr=Array.prototype.slice,Vr=Math.floor,Ir=typeof BigInt=="function"?BigInt.prototype.valueOf:null,br=Object.getOwnPropertySymbols,Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ht=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ct=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ht||!0)?Symbol.toStringTag:null,or=Object.prototype.propertyIsEnumerable,pr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Fr){return Fr.__proto__}:null);function lr(Fr,Qr){if(Fr===1/0||Fr===-1/0||Fr!==Fr||Fr&&Fr>-1e3&&Fr<1e3||Ur.call(/e/,Qr))return Qr;var vn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Fr=="number"){var ln=Fr<0?-Vr(-Fr):Vr(Fr);if(ln!==Fr){var pn=String(ln),sn=Sr.call(Qr,pn.length+1);return Or.call(pn,vn,"$&_")+"."+Or.call(Or.call(sn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Or.call(Qr,vn,"$&_")}var vr=require$$0$1,tr=vr.custom,ur=en(tr)?tr:null,Ft={__proto__:null,double:'"',single:"'"},yr={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};objectInspect=function Fr(Qr,vn,ln,pn){var sn=vn||{};if(nn(sn,"quoteStyle")&&!nn(Ft,sn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(nn(sn,"maxStringLength")&&(typeof sn.maxStringLength=="number"?sn.maxStringLength<0&&sn.maxStringLength!==1/0:sn.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _n=nn(sn,"customInspect")?sn.customInspect:!0;if(typeof _n!="boolean"&&_n!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(nn(sn,"indent")&&sn.indent!==null&&sn.indent!=="	"&&!(parseInt(sn.indent,10)===sn.indent&&sn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(nn(sn,"numericSeparator")&&typeof sn.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var jn=sn.numericSeparator;if(typeof Qr>"u")return"undefined";if(Qr===null)return"null";if(typeof Qr=="boolean")return Qr?"true":"false";if(typeof Qr=="string")return mn(Qr,sn);if(typeof Qr=="number"){if(Qr===0)return 1/0/Qr>0?"0":"-0";var xn=String(Qr);return jn?lr(Qr,xn):xn}if(typeof Qr=="bigint"){var $n=String(Qr)+"n";return jn?lr(Qr,$n):$n}var Nn=typeof sn.depth>"u"?5:sn.depth;if(typeof ln>"u"&&(ln=0),ln>=Nn&&Nn>0&&typeof Qr=="object")return Ar(Qr)?"[Array]":"[Object]";var Bn=Lr(sn,ln);if(typeof pn>"u")pn=[];else if(dn(pn,Qr)>=0)return"[Circular]";function wn(Kn,Hn,Wn){if(Hn&&(pn=Dr.call(pn),pn.push(Hn)),Wn){var zn={depth:sn.depth};return nn(sn,"quoteStyle")&&(zn.quoteStyle=sn.quoteStyle),Fr(Kn,zn,ln+1,pn)}return Fr(Kn,sn,ln+1,pn)}if(typeof Qr=="function"&&!Kr(Qr)){var Ln=tn(Qr),On=Xr(Qr,wn);return"[Function"+(Ln?": "+Ln:" (anonymous)")+"]"+(On.length>0?" { "+jr.call(On,", ")+" }":"")}if(en(Qr)){var Sn=ht?Or.call(String(Qr),/^(Symbol\(.*\))_[^)]*$/,"$1"):Vt.call(Qr);return typeof Qr=="object"&&!ht?hn(Sn):Sn}if(gn(Qr)){for(var Dn="<"+kr.call(String(Qr.nodeName)),Tn=Qr.attributes||[],En=0;En<Tn.length;En++)Dn+=" "+Tn[En].name+"="+Nr(qr(Tn[En].value),"double",sn);return Dn+=">",Qr.childNodes&&Qr.childNodes.length&&(Dn+="..."),Dn+="</"+kr.call(String(Qr.nodeName))+">",Dn}if(Ar(Qr)){if(Qr.length===0)return"[]";var Fn=Xr(Qr,wn);return Bn&&!xr(Fn)?"["+Jr(Fn,Bn)+"]":"[ "+jr.call(Fn,", ")+" ]"}if(Zr(Qr)){var Pn=Xr(Qr,wn);return!("cause"in Error.prototype)&&"cause"in Qr&&!or.call(Qr,"cause")?"{ ["+String(Qr)+"] "+jr.call(Yr.call("[cause]: "+wn(Qr.cause),Pn),", ")+" }":Pn.length===0?"["+String(Qr)+"]":"{ ["+String(Qr)+"] "+jr.call(Pn,", ")+" }"}if(typeof Qr=="object"&&_n){if(ur&&typeof Qr[ur]=="function"&&vr)return vr(Qr,{depth:Nn-ln});if(_n!=="symbol"&&typeof Qr.inspect=="function")return Qr.inspect()}if(cn(Qr)){var Mn=[];return Ne&&Ne.call(Qr,function(Kn,Hn){Mn.push(wn(Hn,Qr,!0)+" => "+wn(Kn,Qr))}),$r("Map",Se.call(Qr),Mn,Bn)}if(Hr(Qr)){var qn=[];return vt&&vt.call(Qr,function(Kn){qn.push(wn(Kn,Qr))}),$r("Set",Xe.call(Qr),qn,Bn)}if(Wr(Qr))return Cr("WeakMap");if(yn(Qr))return Cr("WeakSet");if(on(Qr))return Cr("WeakRef");if(Mr(Qr))return hn(wn(Number(Qr)));if(rn(Qr))return hn(wn(Ir.call(Qr)));if(Gr(Qr))return hn(gr.call(Qr));if(Br(Qr))return hn(wn(String(Qr)));if(typeof window<"u"&&Qr===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Qr===globalThis||typeof commonjsGlobal$1<"u"&&Qr===commonjsGlobal$1)return"{ [object globalThis] }";if(!Tr(Qr)&&!Kr(Qr)){var Cn=Xr(Qr,wn),In=pr?pr(Qr)===Object.prototype:Qr instanceof Object||Qr.constructor===Object,Un=Qr instanceof Object?"":"null prototype",Rn=!In&&Ct&&Object(Qr)===Qr&&Ct in Qr?Sr.call(un(Qr),8,-1):Un?"Object":"",kn=In||typeof Qr.constructor!="function"?"":Qr.constructor.name?Qr.constructor.name+" ":"",Gn=kn+(Rn||Un?"["+jr.call(Yr.call([],Rn||[],Un||[]),": ")+"] ":"");return Cn.length===0?Gn+"{}":Bn?Gn+"{"+Jr(Cn,Bn)+"}":Gn+"{ "+jr.call(Cn,", ")+" }"}return String(Qr)};function Nr(Fr,Qr,vn){var ln=vn.quoteStyle||Qr,pn=Ft[ln];return pn+Fr+pn}function qr(Fr){return Or.call(String(Fr),/"/g,"&quot;")}function Rr(Fr){return!Ct||!(typeof Fr=="object"&&(Ct in Fr||typeof Fr[Ct]<"u"))}function Ar(Fr){return un(Fr)==="[object Array]"&&Rr(Fr)}function Tr(Fr){return un(Fr)==="[object Date]"&&Rr(Fr)}function Kr(Fr){return un(Fr)==="[object RegExp]"&&Rr(Fr)}function Zr(Fr){return un(Fr)==="[object Error]"&&Rr(Fr)}function Br(Fr){return un(Fr)==="[object String]"&&Rr(Fr)}function Mr(Fr){return un(Fr)==="[object Number]"&&Rr(Fr)}function Gr(Fr){return un(Fr)==="[object Boolean]"&&Rr(Fr)}function en(Fr){if(ht)return Fr&&typeof Fr=="object"&&Fr instanceof Symbol;if(typeof Fr=="symbol")return!0;if(!Fr||typeof Fr!="object"||!Vt)return!1;try{return Vt.call(Fr),!0}catch{}return!1}function rn(Fr){if(!Fr||typeof Fr!="object"||!Ir)return!1;try{return Ir.call(Fr),!0}catch{}return!1}var an=Object.prototype.hasOwnProperty||function(Fr){return Fr in this};function nn(Fr,Qr){return an.call(Fr,Qr)}function un(Fr){return wr.call(Fr)}function tn(Fr){if(Fr.name)return Fr.name;var Qr=_r.call(Er.call(Fr),/^function\s*([\w$]+)/);return Qr?Qr[1]:null}function dn(Fr,Qr){if(Fr.indexOf)return Fr.indexOf(Qr);for(var vn=0,ln=Fr.length;vn<ln;vn++)if(Fr[vn]===Qr)return vn;return-1}function cn(Fr){if(!Se||!Fr||typeof Fr!="object")return!1;try{Se.call(Fr);try{Xe.call(Fr)}catch{return!0}return Fr instanceof Map}catch{}return!1}function Wr(Fr){if(!kt||!Fr||typeof Fr!="object")return!1;try{kt.call(Fr,kt);try{xt.call(Fr,xt)}catch{return!0}return Fr instanceof WeakMap}catch{}return!1}function on(Fr){if(!ar||!Fr||typeof Fr!="object")return!1;try{return ar.call(Fr),!0}catch{}return!1}function Hr(Fr){if(!Xe||!Fr||typeof Fr!="object")return!1;try{Xe.call(Fr);try{Se.call(Fr)}catch{return!0}return Fr instanceof Set}catch{}return!1}function yn(Fr){if(!xt||!Fr||typeof Fr!="object")return!1;try{xt.call(Fr,xt);try{kt.call(Fr,kt)}catch{return!0}return Fr instanceof WeakSet}catch{}return!1}function gn(Fr){return!Fr||typeof Fr!="object"?!1:typeof HTMLElement<"u"&&Fr instanceof HTMLElement?!0:typeof Fr.nodeName=="string"&&typeof Fr.getAttribute=="function"}function mn(Fr,Qr){if(Fr.length>Qr.maxStringLength){var vn=Fr.length-Qr.maxStringLength,ln="... "+vn+" more character"+(vn>1?"s":"");return mn(Sr.call(Fr,0,Qr.maxStringLength),Qr)+ln}var pn=yr[Qr.quoteStyle||"single"];pn.lastIndex=0;var sn=Or.call(Or.call(Fr,pn,"\\$1"),/[\x00-\x1f]/g,An);return Nr(sn,"single",Qr)}function An(Fr){var Qr=Fr.charCodeAt(0),vn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Qr];return vn?"\\"+vn:"\\x"+(Qr<16?"0":"")+Pr.call(Qr.toString(16))}function hn(Fr){return"Object("+Fr+")"}function Cr(Fr){return Fr+" { ? }"}function $r(Fr,Qr,vn,ln){var pn=ln?Jr(vn,ln):jr.call(vn,", ");return Fr+" ("+Qr+") {"+pn+"}"}function xr(Fr){for(var Qr=0;Qr<Fr.length;Qr++)if(dn(Fr[Qr],`
`)>=0)return!1;return!0}function Lr(Fr,Qr){var vn;if(Fr.indent==="	")vn="	";else if(typeof Fr.indent=="number"&&Fr.indent>0)vn=jr.call(Array(Fr.indent+1)," ");else return null;return{base:vn,prev:jr.call(Array(Qr+1),vn)}}function Jr(Fr,Qr){if(Fr.length===0)return"";var vn=`
`+Qr.prev+Qr.base;return vn+jr.call(Fr,","+vn)+`
`+Qr.prev}function Xr(Fr,Qr){var vn=Ar(Fr),ln=[];if(vn){ln.length=Fr.length;for(var pn=0;pn<Fr.length;pn++)ln[pn]=nn(Fr,pn)?Qr(Fr[pn],Fr):""}var sn=typeof br=="function"?br(Fr):[],_n;if(ht){_n={};for(var jn=0;jn<sn.length;jn++)_n["$"+sn[jn]]=sn[jn]}for(var xn in Fr)nn(Fr,xn)&&(vn&&String(Number(xn))===xn&&xn<Fr.length||ht&&_n["$"+xn]instanceof Symbol||(Ur.call(/[^\w$]/,xn)?ln.push(Qr(xn,Fr)+": "+Qr(Fr[xn],Fr)):ln.push(xn+": "+Qr(Fr[xn],Fr))));if(typeof br=="function")for(var $n=0;$n<sn.length;$n++)or.call(Fr,sn[$n])&&ln.push("["+Qr(sn[$n])+"]: "+Qr(Fr[sn[$n]],Fr));return ln}return objectInspect}var sideChannelList,hasRequiredSideChannelList;function requireSideChannelList(){if(hasRequiredSideChannelList)return sideChannelList;hasRequiredSideChannelList=1;var pe=requireObjectInspect(),ge=requireType(),Se=function(vt,gt,kt){for(var mt=vt,xt;(xt=mt.next)!=null;mt=xt)if(xt.key===gt)return mt.next=xt.next,kt||(xt.next=vt.next,vt.next=xt),xt},Ne=function(vt,gt){if(vt){var kt=Se(vt,gt);return kt&&kt.value}},Ze=function(vt,gt,kt){var mt=Se(vt,gt);mt?mt.value=kt:vt.next={key:gt,next:vt.next,value:kt}},Je=function(vt,gt){return vt?!!Se(vt,gt):!1},Xe=function(vt,gt){if(vt)return Se(vt,gt,!0)};return sideChannelList=function(){var gt,kt={assert:function(mt){if(!kt.has(mt))throw new ge("Side channel does not contain "+pe(mt))},delete:function(mt){var xt=gt&&gt.next,fr=Xe(gt,mt);return fr&&xt&&xt===fr&&(gt=void 0),!!fr},get:function(mt){return Ne(gt,mt)},has:function(mt){return Je(gt,mt)},set:function(mt,xt){gt||(gt={next:void 0}),Ze(gt,mt,xt)}};return kt},sideChannelList}var sideChannelMap,hasRequiredSideChannelMap;function requireSideChannelMap(){if(hasRequiredSideChannelMap)return sideChannelMap;hasRequiredSideChannelMap=1;var pe=getIntrinsic,ge=callBound$6,Se=requireObjectInspect(),Ne=requireType(),Ze=pe("%Map%",!0),Je=ge("Map.prototype.get",!0),Xe=ge("Map.prototype.set",!0),vt=ge("Map.prototype.has",!0),gt=ge("Map.prototype.delete",!0),kt=ge("Map.prototype.size",!0);return sideChannelMap=!!Ze&&function(){var xt,fr={assert:function(ar){if(!fr.has(ar))throw new Ne("Side channel does not contain "+Se(ar))},delete:function(ar){if(xt){var gr=gt(xt,ar);return kt(xt)===0&&(xt=void 0),gr}return!1},get:function(ar){if(xt)return Je(xt,ar)},has:function(ar){return xt?vt(xt,ar):!1},set:function(ar,gr){xt||(xt=new Ze),Xe(xt,ar,gr)}};return fr},sideChannelMap}var sideChannelWeakmap,hasRequiredSideChannelWeakmap;function requireSideChannelWeakmap(){if(hasRequiredSideChannelWeakmap)return sideChannelWeakmap;hasRequiredSideChannelWeakmap=1;var pe=getIntrinsic,ge=callBound$6,Se=requireObjectInspect(),Ne=requireSideChannelMap(),Ze=requireType(),Je=pe("%WeakMap%",!0),Xe=ge("WeakMap.prototype.get",!0),vt=ge("WeakMap.prototype.set",!0),gt=ge("WeakMap.prototype.has",!0),kt=ge("WeakMap.prototype.delete",!0);return sideChannelWeakmap=Je?function(){var xt,fr,ar={assert:function(gr){if(!ar.has(gr))throw new Ze("Side channel does not contain "+Se(gr))},delete:function(gr){if(Je&&gr&&(typeof gr=="object"||typeof gr=="function")){if(xt)return kt(xt,gr)}else if(Ne&&fr)return fr.delete(gr);return!1},get:function(gr){return Je&&gr&&(typeof gr=="object"||typeof gr=="function")&&xt?Xe(xt,gr):fr&&fr.get(gr)},has:function(gr){return Je&&gr&&(typeof gr=="object"||typeof gr=="function")&&xt?gt(xt,gr):!!fr&&fr.has(gr)},set:function(gr,wr){Je&&gr&&(typeof gr=="object"||typeof gr=="function")?(xt||(xt=new Je),vt(xt,gr,wr)):Ne&&(fr||(fr=Ne()),fr.set(gr,wr))}};return ar}:Ne,sideChannelWeakmap}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var pe=requireType(),ge=requireObjectInspect(),Se=requireSideChannelList(),Ne=requireSideChannelMap(),Ze=requireSideChannelWeakmap(),Je=Ze||Ne||Se;return sideChannel=function(){var vt,gt={assert:function(kt){if(!gt.has(kt))throw new pe("Side channel does not contain "+ge(kt))},delete:function(kt){return!!vt&&vt.delete(kt)},get:function(kt){return vt&&vt.get(kt)},has:function(kt){return!!vt&&vt.has(kt)},set:function(kt,mt){vt||(vt=Je()),vt.set(kt,mt)}};return gt},sideChannel}var formats$2,hasRequiredFormats;function requireFormats(){if(hasRequiredFormats)return formats$2;hasRequiredFormats=1;var pe=String.prototype.replace,ge=/%20/g,Se={RFC1738:"RFC1738",RFC3986:"RFC3986"};return formats$2={default:Se.RFC3986,formatters:{RFC1738:function(Ne){return pe.call(Ne,ge,"+")},RFC3986:function(Ne){return String(Ne)}},RFC1738:Se.RFC1738,RFC3986:Se.RFC3986},formats$2}var utils$A,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$A;hasRequiredUtils=1;var pe=requireFormats(),ge=Object.prototype.hasOwnProperty,Se=Array.isArray,Ne=function(){for(var Er=[],_r=0;_r<256;++_r)Er.push("%"+((_r<16?"0":"")+_r.toString(16)).toUpperCase());return Er}(),Ze=function(_r){for(;_r.length>1;){var Sr=_r.pop(),Or=Sr.obj[Sr.prop];if(Se(Or)){for(var Pr=[],kr=0;kr<Or.length;++kr)typeof Or[kr]<"u"&&Pr.push(Or[kr]);Sr.obj[Sr.prop]=Pr}}},Je=function(_r,Sr){for(var Or=Sr&&Sr.plainObjects?{__proto__:null}:{},Pr=0;Pr<_r.length;++Pr)typeof _r[Pr]<"u"&&(Or[Pr]=_r[Pr]);return Or},Xe=function Er(_r,Sr,Or){if(!Sr)return _r;if(typeof Sr!="object"&&typeof Sr!="function"){if(Se(_r))_r.push(Sr);else if(_r&&typeof _r=="object")(Or&&(Or.plainObjects||Or.allowPrototypes)||!ge.call(Object.prototype,Sr))&&(_r[Sr]=!0);else return[_r,Sr];return _r}if(!_r||typeof _r!="object")return[_r].concat(Sr);var Pr=_r;return Se(_r)&&!Se(Sr)&&(Pr=Je(_r,Or)),Se(_r)&&Se(Sr)?(Sr.forEach(function(kr,Ur){if(ge.call(_r,Ur)){var Yr=_r[Ur];Yr&&typeof Yr=="object"&&kr&&typeof kr=="object"?_r[Ur]=Er(Yr,kr,Or):_r.push(kr)}else _r[Ur]=kr}),_r):Object.keys(Sr).reduce(function(kr,Ur){var Yr=Sr[Ur];return ge.call(kr,Ur)?kr[Ur]=Er(kr[Ur],Yr,Or):kr[Ur]=Yr,kr},Pr)},vt=function(_r,Sr){return Object.keys(Sr).reduce(function(Or,Pr){return Or[Pr]=Sr[Pr],Or},_r)},gt=function(Er,_r,Sr){var Or=Er.replace(/\+/g," ");if(Sr==="iso-8859-1")return Or.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Or)}catch{return Or}},kt=1024,mt=function(_r,Sr,Or,Pr,kr){if(_r.length===0)return _r;var Ur=_r;if(typeof _r=="symbol"?Ur=Symbol.prototype.toString.call(_r):typeof _r!="string"&&(Ur=String(_r)),Or==="iso-8859-1")return escape(Ur).replace(/%u[0-9a-f]{4}/gi,function(Vt){return"%26%23"+parseInt(Vt.slice(2),16)+"%3B"});for(var Yr="",jr=0;jr<Ur.length;jr+=kt){for(var Dr=Ur.length>=kt?Ur.slice(jr,jr+kt):Ur,Vr=[],Ir=0;Ir<Dr.length;++Ir){var br=Dr.charCodeAt(Ir);if(br===45||br===46||br===95||br===126||br>=48&&br<=57||br>=65&&br<=90||br>=97&&br<=122||kr===pe.RFC1738&&(br===40||br===41)){Vr[Vr.length]=Dr.charAt(Ir);continue}if(br<128){Vr[Vr.length]=Ne[br];continue}if(br<2048){Vr[Vr.length]=Ne[192|br>>6]+Ne[128|br&63];continue}if(br<55296||br>=57344){Vr[Vr.length]=Ne[224|br>>12]+Ne[128|br>>6&63]+Ne[128|br&63];continue}Ir+=1,br=65536+((br&1023)<<10|Dr.charCodeAt(Ir)&1023),Vr[Vr.length]=Ne[240|br>>18]+Ne[128|br>>12&63]+Ne[128|br>>6&63]+Ne[128|br&63]}Yr+=Vr.join("")}return Yr},xt=function(_r){for(var Sr=[{obj:{o:_r},prop:"o"}],Or=[],Pr=0;Pr<Sr.length;++Pr)for(var kr=Sr[Pr],Ur=kr.obj[kr.prop],Yr=Object.keys(Ur),jr=0;jr<Yr.length;++jr){var Dr=Yr[jr],Vr=Ur[Dr];typeof Vr=="object"&&Vr!==null&&Or.indexOf(Vr)===-1&&(Sr.push({obj:Ur,prop:Dr}),Or.push(Vr))}return Ze(Sr),_r},fr=function(_r){return Object.prototype.toString.call(_r)==="[object RegExp]"},ar=function(_r){return!_r||typeof _r!="object"?!1:!!(_r.constructor&&_r.constructor.isBuffer&&_r.constructor.isBuffer(_r))},gr=function(_r,Sr){return[].concat(_r,Sr)},wr=function(_r,Sr){if(Se(_r)){for(var Or=[],Pr=0;Pr<_r.length;Pr+=1)Or.push(Sr(_r[Pr]));return Or}return Sr(_r)};return utils$A={arrayToObject:Je,assign:vt,combine:gr,compact:xt,decode:gt,encode:mt,isBuffer:ar,isRegExp:fr,maybeMap:wr,merge:Xe},utils$A}var stringify_1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;var pe=requireSideChannel(),ge=requireUtils(),Se=requireFormats(),Ne=Object.prototype.hasOwnProperty,Ze={brackets:function(Er){return Er+"[]"},comma:"comma",indices:function(Er,_r){return Er+"["+_r+"]"},repeat:function(Er){return Er}},Je=Array.isArray,Xe=Array.prototype.push,vt=function(wr,Er){Xe.apply(wr,Je(Er)?Er:[Er])},gt=Date.prototype.toISOString,kt=Se.default,mt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ge.encode,encodeValuesOnly:!1,filter:void 0,format:kt,formatter:Se.formatters[kt],indices:!1,serializeDate:function(Er){return gt.call(Er)},skipNulls:!1,strictNullHandling:!1},xt=function(Er){return typeof Er=="string"||typeof Er=="number"||typeof Er=="boolean"||typeof Er=="symbol"||typeof Er=="bigint"},fr={},ar=function wr(Er,_r,Sr,Or,Pr,kr,Ur,Yr,jr,Dr,Vr,Ir,br,Vt,ht,Ct,or,pr){for(var lr=Er,vr=pr,tr=0,ur=!1;(vr=vr.get(fr))!==void 0&&!ur;){var Ft=vr.get(Er);if(tr+=1,typeof Ft<"u"){if(Ft===tr)throw new RangeError("Cyclic object value");ur=!0}typeof vr.get(fr)>"u"&&(tr=0)}if(typeof Dr=="function"?lr=Dr(_r,lr):lr instanceof Date?lr=br(lr):Sr==="comma"&&Je(lr)&&(lr=ge.maybeMap(lr,function(rn){return rn instanceof Date?br(rn):rn})),lr===null){if(kr)return jr&&!Ct?jr(_r,mt.encoder,or,"key",Vt):_r;lr=""}if(xt(lr)||ge.isBuffer(lr)){if(jr){var yr=Ct?_r:jr(_r,mt.encoder,or,"key",Vt);return[ht(yr)+"="+ht(jr(lr,mt.encoder,or,"value",Vt))]}return[ht(_r)+"="+ht(String(lr))]}var Nr=[];if(typeof lr>"u")return Nr;var qr;if(Sr==="comma"&&Je(lr))Ct&&jr&&(lr=ge.maybeMap(lr,jr)),qr=[{value:lr.length>0?lr.join(",")||null:void 0}];else if(Je(Dr))qr=Dr;else{var Rr=Object.keys(lr);qr=Vr?Rr.sort(Vr):Rr}var Ar=Yr?String(_r).replace(/\./g,"%2E"):String(_r),Tr=Or&&Je(lr)&&lr.length===1?Ar+"[]":Ar;if(Pr&&Je(lr)&&lr.length===0)return Tr+"[]";for(var Kr=0;Kr<qr.length;++Kr){var Zr=qr[Kr],Br=typeof Zr=="object"&&Zr&&typeof Zr.value<"u"?Zr.value:lr[Zr];if(!(Ur&&Br===null)){var Mr=Ir&&Yr?String(Zr).replace(/\./g,"%2E"):String(Zr),Gr=Je(lr)?typeof Sr=="function"?Sr(Tr,Mr):Tr:Tr+(Ir?"."+Mr:"["+Mr+"]");pr.set(Er,tr);var en=pe();en.set(fr,pr),vt(Nr,wr(Br,Gr,Sr,Or,Pr,kr,Ur,Yr,Sr==="comma"&&Ct&&Je(lr)?null:jr,Dr,Vr,Ir,br,Vt,ht,Ct,or,en))}}return Nr},gr=function(Er){if(!Er)return mt;if(typeof Er.allowEmptyArrays<"u"&&typeof Er.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Er.encodeDotInKeys<"u"&&typeof Er.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Er.encoder!==null&&typeof Er.encoder<"u"&&typeof Er.encoder!="function")throw new TypeError("Encoder has to be a function.");var _r=Er.charset||mt.charset;if(typeof Er.charset<"u"&&Er.charset!=="utf-8"&&Er.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Sr=Se.default;if(typeof Er.format<"u"){if(!Ne.call(Se.formatters,Er.format))throw new TypeError("Unknown format option provided.");Sr=Er.format}var Or=Se.formatters[Sr],Pr=mt.filter;(typeof Er.filter=="function"||Je(Er.filter))&&(Pr=Er.filter);var kr;if(Er.arrayFormat in Ze?kr=Er.arrayFormat:"indices"in Er?kr=Er.indices?"indices":"repeat":kr=mt.arrayFormat,"commaRoundTrip"in Er&&typeof Er.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Ur=typeof Er.allowDots>"u"?Er.encodeDotInKeys===!0?!0:mt.allowDots:!!Er.allowDots;return{addQueryPrefix:typeof Er.addQueryPrefix=="boolean"?Er.addQueryPrefix:mt.addQueryPrefix,allowDots:Ur,allowEmptyArrays:typeof Er.allowEmptyArrays=="boolean"?!!Er.allowEmptyArrays:mt.allowEmptyArrays,arrayFormat:kr,charset:_r,charsetSentinel:typeof Er.charsetSentinel=="boolean"?Er.charsetSentinel:mt.charsetSentinel,commaRoundTrip:!!Er.commaRoundTrip,delimiter:typeof Er.delimiter>"u"?mt.delimiter:Er.delimiter,encode:typeof Er.encode=="boolean"?Er.encode:mt.encode,encodeDotInKeys:typeof Er.encodeDotInKeys=="boolean"?Er.encodeDotInKeys:mt.encodeDotInKeys,encoder:typeof Er.encoder=="function"?Er.encoder:mt.encoder,encodeValuesOnly:typeof Er.encodeValuesOnly=="boolean"?Er.encodeValuesOnly:mt.encodeValuesOnly,filter:Pr,format:Sr,formatter:Or,serializeDate:typeof Er.serializeDate=="function"?Er.serializeDate:mt.serializeDate,skipNulls:typeof Er.skipNulls=="boolean"?Er.skipNulls:mt.skipNulls,sort:typeof Er.sort=="function"?Er.sort:null,strictNullHandling:typeof Er.strictNullHandling=="boolean"?Er.strictNullHandling:mt.strictNullHandling}};return stringify_1=function(wr,Er){var _r=wr,Sr=gr(Er),Or,Pr;typeof Sr.filter=="function"?(Pr=Sr.filter,_r=Pr("",_r)):Je(Sr.filter)&&(Pr=Sr.filter,Or=Pr);var kr=[];if(typeof _r!="object"||_r===null)return"";var Ur=Ze[Sr.arrayFormat],Yr=Ur==="comma"&&Sr.commaRoundTrip;Or||(Or=Object.keys(_r)),Sr.sort&&Or.sort(Sr.sort);for(var jr=pe(),Dr=0;Dr<Or.length;++Dr){var Vr=Or[Dr],Ir=_r[Vr];Sr.skipNulls&&Ir===null||vt(kr,ar(Ir,Vr,Ur,Yr,Sr.allowEmptyArrays,Sr.strictNullHandling,Sr.skipNulls,Sr.encodeDotInKeys,Sr.encode?Sr.encoder:null,Sr.filter,Sr.sort,Sr.allowDots,Sr.serializeDate,Sr.format,Sr.formatter,Sr.encodeValuesOnly,Sr.charset,jr))}var br=kr.join(Sr.delimiter),Vt=Sr.addQueryPrefix===!0?"?":"";return Sr.charsetSentinel&&(Sr.charset==="iso-8859-1"?Vt+="utf8=%26%2310003%3B&":Vt+="utf8=%E2%9C%93&"),br.length>0?Vt+br:""},stringify_1}var parse,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1;var pe=requireUtils(),ge=Object.prototype.hasOwnProperty,Se=Array.isArray,Ne={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:pe.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Ze=function(fr){return fr.replace(/&#(\d+);/g,function(ar,gr){return String.fromCharCode(parseInt(gr,10))})},Je=function(fr,ar,gr){if(fr&&typeof fr=="string"&&ar.comma&&fr.indexOf(",")>-1)return fr.split(",");if(ar.throwOnLimitExceeded&&gr>=ar.arrayLimit)throw new RangeError("Array limit exceeded. Only "+ar.arrayLimit+" element"+(ar.arrayLimit===1?"":"s")+" allowed in an array.");return fr},Xe="utf8=%26%2310003%3B",vt="utf8=%E2%9C%93",gt=function(ar,gr){var wr={__proto__:null},Er=gr.ignoreQueryPrefix?ar.replace(/^\?/,""):ar;Er=Er.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var _r=gr.parameterLimit===1/0?void 0:gr.parameterLimit,Sr=Er.split(gr.delimiter,gr.throwOnLimitExceeded?_r+1:_r);if(gr.throwOnLimitExceeded&&Sr.length>_r)throw new RangeError("Parameter limit exceeded. Only "+_r+" parameter"+(_r===1?"":"s")+" allowed.");var Or=-1,Pr,kr=gr.charset;if(gr.charsetSentinel)for(Pr=0;Pr<Sr.length;++Pr)Sr[Pr].indexOf("utf8=")===0&&(Sr[Pr]===vt?kr="utf-8":Sr[Pr]===Xe&&(kr="iso-8859-1"),Or=Pr,Pr=Sr.length);for(Pr=0;Pr<Sr.length;++Pr)if(Pr!==Or){var Ur=Sr[Pr],Yr=Ur.indexOf("]="),jr=Yr===-1?Ur.indexOf("="):Yr+1,Dr,Vr;jr===-1?(Dr=gr.decoder(Ur,Ne.decoder,kr,"key"),Vr=gr.strictNullHandling?null:""):(Dr=gr.decoder(Ur.slice(0,jr),Ne.decoder,kr,"key"),Vr=pe.maybeMap(Je(Ur.slice(jr+1),gr,Se(wr[Dr])?wr[Dr].length:0),function(br){return gr.decoder(br,Ne.decoder,kr,"value")})),Vr&&gr.interpretNumericEntities&&kr==="iso-8859-1"&&(Vr=Ze(String(Vr))),Ur.indexOf("[]=")>-1&&(Vr=Se(Vr)?[Vr]:Vr);var Ir=ge.call(wr,Dr);Ir&&gr.duplicates==="combine"?wr[Dr]=pe.combine(wr[Dr],Vr):(!Ir||gr.duplicates==="last")&&(wr[Dr]=Vr)}return wr},kt=function(fr,ar,gr,wr){var Er=0;if(fr.length>0&&fr[fr.length-1]==="[]"){var _r=fr.slice(0,-1).join("");Er=Array.isArray(ar)&&ar[_r]?ar[_r].length:0}for(var Sr=wr?ar:Je(ar,gr,Er),Or=fr.length-1;Or>=0;--Or){var Pr,kr=fr[Or];if(kr==="[]"&&gr.parseArrays)Pr=gr.allowEmptyArrays&&(Sr===""||gr.strictNullHandling&&Sr===null)?[]:pe.combine([],Sr);else{Pr=gr.plainObjects?{__proto__:null}:{};var Ur=kr.charAt(0)==="["&&kr.charAt(kr.length-1)==="]"?kr.slice(1,-1):kr,Yr=gr.decodeDotInKeys?Ur.replace(/%2E/g,"."):Ur,jr=parseInt(Yr,10);!gr.parseArrays&&Yr===""?Pr={0:Sr}:!isNaN(jr)&&kr!==Yr&&String(jr)===Yr&&jr>=0&&gr.parseArrays&&jr<=gr.arrayLimit?(Pr=[],Pr[jr]=Sr):Yr!=="__proto__"&&(Pr[Yr]=Sr)}Sr=Pr}return Sr},mt=function(ar,gr,wr,Er){if(ar){var _r=wr.allowDots?ar.replace(/\.([^.[]+)/g,"[$1]"):ar,Sr=/(\[[^[\]]*])/,Or=/(\[[^[\]]*])/g,Pr=wr.depth>0&&Sr.exec(_r),kr=Pr?_r.slice(0,Pr.index):_r,Ur=[];if(kr){if(!wr.plainObjects&&ge.call(Object.prototype,kr)&&!wr.allowPrototypes)return;Ur.push(kr)}for(var Yr=0;wr.depth>0&&(Pr=Or.exec(_r))!==null&&Yr<wr.depth;){if(Yr+=1,!wr.plainObjects&&ge.call(Object.prototype,Pr[1].slice(1,-1))&&!wr.allowPrototypes)return;Ur.push(Pr[1])}if(Pr){if(wr.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+wr.depth+" and strictDepth is true");Ur.push("["+_r.slice(Pr.index)+"]")}return kt(Ur,gr,wr,Er)}},xt=function(ar){if(!ar)return Ne;if(typeof ar.allowEmptyArrays<"u"&&typeof ar.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof ar.decodeDotInKeys<"u"&&typeof ar.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(ar.decoder!==null&&typeof ar.decoder<"u"&&typeof ar.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof ar.charset<"u"&&ar.charset!=="utf-8"&&ar.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof ar.throwOnLimitExceeded<"u"&&typeof ar.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var gr=typeof ar.charset>"u"?Ne.charset:ar.charset,wr=typeof ar.duplicates>"u"?Ne.duplicates:ar.duplicates;if(wr!=="combine"&&wr!=="first"&&wr!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var Er=typeof ar.allowDots>"u"?ar.decodeDotInKeys===!0?!0:Ne.allowDots:!!ar.allowDots;return{allowDots:Er,allowEmptyArrays:typeof ar.allowEmptyArrays=="boolean"?!!ar.allowEmptyArrays:Ne.allowEmptyArrays,allowPrototypes:typeof ar.allowPrototypes=="boolean"?ar.allowPrototypes:Ne.allowPrototypes,allowSparse:typeof ar.allowSparse=="boolean"?ar.allowSparse:Ne.allowSparse,arrayLimit:typeof ar.arrayLimit=="number"?ar.arrayLimit:Ne.arrayLimit,charset:gr,charsetSentinel:typeof ar.charsetSentinel=="boolean"?ar.charsetSentinel:Ne.charsetSentinel,comma:typeof ar.comma=="boolean"?ar.comma:Ne.comma,decodeDotInKeys:typeof ar.decodeDotInKeys=="boolean"?ar.decodeDotInKeys:Ne.decodeDotInKeys,decoder:typeof ar.decoder=="function"?ar.decoder:Ne.decoder,delimiter:typeof ar.delimiter=="string"||pe.isRegExp(ar.delimiter)?ar.delimiter:Ne.delimiter,depth:typeof ar.depth=="number"||ar.depth===!1?+ar.depth:Ne.depth,duplicates:wr,ignoreQueryPrefix:ar.ignoreQueryPrefix===!0,interpretNumericEntities:typeof ar.interpretNumericEntities=="boolean"?ar.interpretNumericEntities:Ne.interpretNumericEntities,parameterLimit:typeof ar.parameterLimit=="number"?ar.parameterLimit:Ne.parameterLimit,parseArrays:ar.parseArrays!==!1,plainObjects:typeof ar.plainObjects=="boolean"?ar.plainObjects:Ne.plainObjects,strictDepth:typeof ar.strictDepth=="boolean"?!!ar.strictDepth:Ne.strictDepth,strictNullHandling:typeof ar.strictNullHandling=="boolean"?ar.strictNullHandling:Ne.strictNullHandling,throwOnLimitExceeded:typeof ar.throwOnLimitExceeded=="boolean"?ar.throwOnLimitExceeded:!1}};return parse=function(fr,ar){var gr=xt(ar);if(fr===""||fr===null||typeof fr>"u")return gr.plainObjects?{__proto__:null}:{};for(var wr=typeof fr=="string"?gt(fr,gr):fr,Er=gr.plainObjects?{__proto__:null}:{},_r=Object.keys(wr),Sr=0;Sr<_r.length;++Sr){var Or=_r[Sr],Pr=mt(Or,wr[Or],gr,typeof fr=="string");Er=pe.merge(Er,Pr,gr)}return gr.allowSparse===!0?Er:pe.compact(Er)},parse}var lib$4,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$4;hasRequiredLib=1;var pe=requireStringify(),ge=requireParse(),Se=requireFormats();return lib$4={formats:Se,parse:ge,stringify:pe},lib$4}var hasRequiredUrl;function requireUrl(){return hasRequiredUrl||(hasRequiredUrl=1,function(pe,ge){Object.defineProperty(ge,"__esModule",{value:!0});var Se=requirePunycode(),Ne=requireLib();function Ze(Wr){return Wr&&typeof Wr=="object"&&"default"in Wr?Wr:{default:Wr}}var Je=Ze(Se),Xe=Ze(Ne),vt=Je.default;function gt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var kt=/^([a-z0-9.+-]+:)/i,mt=/:[0-9]*$/,xt=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,fr=["<",">",'"',"`"," ","\r",`
`,"	"],ar=["{","}","|","\\","^","`"].concat(fr),gr=["'"].concat(ar),wr=["%","/","?",";","#"].concat(gr),Er=["/","?","#"],_r=255,Sr=/^[+a-z0-9A-Z_-]{0,63}$/,Or=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Pr={javascript:!0,"javascript:":!0},kr={javascript:!0,"javascript:":!0},Ur={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Yr=Xe.default;function jr(Wr,on,Hr){if(Wr&&typeof Wr=="object"&&Wr instanceof gt)return Wr;var yn=new gt;return yn.parse(Wr,on,Hr),yn}gt.prototype.parse=function(Wr,on,Hr){if(typeof Wr!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof Wr);var yn=Wr.indexOf("?"),gn=yn!==-1&&yn<Wr.indexOf("#")?"?":"#",mn=Wr.split(gn),An=/\\/g;mn[0]=mn[0].replace(An,"/"),Wr=mn.join(gn);var hn=Wr;if(hn=hn.trim(),!Hr&&Wr.split("#").length===1){var Cr=xt.exec(hn);if(Cr)return this.path=hn,this.href=hn,this.pathname=Cr[1],Cr[2]?(this.search=Cr[2],on?this.query=Yr.parse(this.search.substr(1)):this.query=this.search.substr(1)):on&&(this.search="",this.query={}),this}var $r=kt.exec(hn);if($r){$r=$r[0];var xr=$r.toLowerCase();this.protocol=xr,hn=hn.substr($r.length)}if(Hr||$r||hn.match(/^\/\/[^@/]+@[^@/]+/)){var Lr=hn.substr(0,2)==="//";Lr&&!($r&&kr[$r])&&(hn=hn.substr(2),this.slashes=!0)}if(!kr[$r]&&(Lr||$r&&!Ur[$r])){for(var Jr=-1,Xr=0;Xr<Er.length;Xr++){var Fr=hn.indexOf(Er[Xr]);Fr!==-1&&(Jr===-1||Fr<Jr)&&(Jr=Fr)}var Qr,vn;Jr===-1?vn=hn.lastIndexOf("@"):vn=hn.lastIndexOf("@",Jr),vn!==-1&&(Qr=hn.slice(0,vn),hn=hn.slice(vn+1),this.auth=decodeURIComponent(Qr)),Jr=-1;for(var Xr=0;Xr<wr.length;Xr++){var Fr=hn.indexOf(wr[Xr]);Fr!==-1&&(Jr===-1||Fr<Jr)&&(Jr=Fr)}Jr===-1&&(Jr=hn.length),this.host=hn.slice(0,Jr),hn=hn.slice(Jr),this.parseHost(),this.hostname=this.hostname||"";var ln=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ln)for(var pn=this.hostname.split(/\./),Xr=0,sn=pn.length;Xr<sn;Xr++){var _n=pn[Xr];if(_n&&!_n.match(Sr)){for(var jn="",xn=0,$n=_n.length;xn<$n;xn++)_n.charCodeAt(xn)>127?jn+="x":jn+=_n[xn];if(!jn.match(Sr)){var Nn=pn.slice(0,Xr),Bn=pn.slice(Xr+1),wn=_n.match(Or);wn&&(Nn.push(wn[1]),Bn.unshift(wn[2])),Bn.length&&(hn="/"+Bn.join(".")+hn),this.hostname=Nn.join(".");break}}}this.hostname.length>_r?this.hostname="":this.hostname=this.hostname.toLowerCase(),ln||(this.hostname=vt.toASCII(this.hostname));var Ln=this.port?":"+this.port:"",On=this.hostname||"";this.host=On+Ln,this.href+=this.host,ln&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),hn[0]!=="/"&&(hn="/"+hn))}if(!Pr[xr])for(var Xr=0,sn=gr.length;Xr<sn;Xr++){var Sn=gr[Xr];if(hn.indexOf(Sn)!==-1){var Dn=encodeURIComponent(Sn);Dn===Sn&&(Dn=escape(Sn)),hn=hn.split(Sn).join(Dn)}}var Tn=hn.indexOf("#");Tn!==-1&&(this.hash=hn.substr(Tn),hn=hn.slice(0,Tn));var En=hn.indexOf("?");if(En!==-1?(this.search=hn.substr(En),this.query=hn.substr(En+1),on&&(this.query=Yr.parse(this.query)),hn=hn.slice(0,En)):on&&(this.search="",this.query={}),hn&&(this.pathname=hn),Ur[xr]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ln=this.pathname||"",Fn=this.search||"";this.path=Ln+Fn}return this.href=this.format(),this};function Dr(Wr){return typeof Wr=="string"&&(Wr=jr(Wr)),Wr instanceof gt?Wr.format():gt.prototype.format.call(Wr)}gt.prototype.format=function(){var Wr=this.auth||"";Wr&&(Wr=encodeURIComponent(Wr),Wr=Wr.replace(/%3A/i,":"),Wr+="@");var on=this.protocol||"",Hr=this.pathname||"",yn=this.hash||"",gn=!1,mn="";this.host?gn=Wr+this.host:this.hostname&&(gn=Wr+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(gn+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(mn=Yr.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var An=this.search||mn&&"?"+mn||"";return on&&on.substr(-1)!==":"&&(on+=":"),this.slashes||(!on||Ur[on])&&gn!==!1?(gn="//"+(gn||""),Hr&&Hr.charAt(0)!=="/"&&(Hr="/"+Hr)):gn||(gn=""),yn&&yn.charAt(0)!=="#"&&(yn="#"+yn),An&&An.charAt(0)!=="?"&&(An="?"+An),Hr=Hr.replace(/[?#]/g,function(hn){return encodeURIComponent(hn)}),An=An.replace("#","%23"),on+gn+Hr+An+yn};function Vr(Wr,on){return jr(Wr,!1,!0).resolve(on)}gt.prototype.resolve=function(Wr){return this.resolveObject(jr(Wr,!1,!0)).format()};function Ir(Wr,on){return Wr?jr(Wr,!1,!0).resolveObject(on):on}gt.prototype.resolveObject=function(Wr){if(typeof Wr=="string"){var on=new gt;on.parse(Wr,!1,!0),Wr=on}for(var Hr=new gt,yn=Object.keys(this),gn=0;gn<yn.length;gn++){var mn=yn[gn];Hr[mn]=this[mn]}if(Hr.hash=Wr.hash,Wr.href==="")return Hr.href=Hr.format(),Hr;if(Wr.slashes&&!Wr.protocol){for(var An=Object.keys(Wr),hn=0;hn<An.length;hn++){var Cr=An[hn];Cr!=="protocol"&&(Hr[Cr]=Wr[Cr])}return Ur[Hr.protocol]&&Hr.hostname&&!Hr.pathname&&(Hr.pathname="/",Hr.path=Hr.pathname),Hr.href=Hr.format(),Hr}if(Wr.protocol&&Wr.protocol!==Hr.protocol){if(!Ur[Wr.protocol]){for(var $r=Object.keys(Wr),xr=0;xr<$r.length;xr++){var Lr=$r[xr];Hr[Lr]=Wr[Lr]}return Hr.href=Hr.format(),Hr}if(Hr.protocol=Wr.protocol,!Wr.host&&!kr[Wr.protocol]){for(var sn=(Wr.pathname||"").split("/");sn.length&&!(Wr.host=sn.shift()););Wr.host||(Wr.host=""),Wr.hostname||(Wr.hostname=""),sn[0]!==""&&sn.unshift(""),sn.length<2&&sn.unshift(""),Hr.pathname=sn.join("/")}else Hr.pathname=Wr.pathname;if(Hr.search=Wr.search,Hr.query=Wr.query,Hr.host=Wr.host||"",Hr.auth=Wr.auth,Hr.hostname=Wr.hostname||Wr.host,Hr.port=Wr.port,Hr.pathname||Hr.search){var Jr=Hr.pathname||"",Xr=Hr.search||"";Hr.path=Jr+Xr}return Hr.slashes=Hr.slashes||Wr.slashes,Hr.href=Hr.format(),Hr}var Fr=Hr.pathname&&Hr.pathname.charAt(0)==="/",Qr=Wr.host||Wr.pathname&&Wr.pathname.charAt(0)==="/",vn=Qr||Fr||Hr.host&&Wr.pathname,ln=vn,pn=Hr.pathname&&Hr.pathname.split("/")||[],sn=Wr.pathname&&Wr.pathname.split("/")||[],_n=Hr.protocol&&!Ur[Hr.protocol];if(_n&&(Hr.hostname="",Hr.port=null,Hr.host&&(pn[0]===""?pn[0]=Hr.host:pn.unshift(Hr.host)),Hr.host="",Wr.protocol&&(Wr.hostname=null,Wr.port=null,Wr.host&&(sn[0]===""?sn[0]=Wr.host:sn.unshift(Wr.host)),Wr.host=null),vn=vn&&(sn[0]===""||pn[0]==="")),Qr)Hr.host=Wr.host||Wr.host===""?Wr.host:Hr.host,Hr.hostname=Wr.hostname||Wr.hostname===""?Wr.hostname:Hr.hostname,Hr.search=Wr.search,Hr.query=Wr.query,pn=sn;else if(sn.length)pn||(pn=[]),pn.pop(),pn=pn.concat(sn),Hr.search=Wr.search,Hr.query=Wr.query;else if(Wr.search!=null){if(_n){Hr.host=pn.shift(),Hr.hostname=Hr.host;var jn=Hr.host&&Hr.host.indexOf("@")>0?Hr.host.split("@"):!1;jn&&(Hr.auth=jn.shift(),Hr.hostname=jn.shift(),Hr.host=Hr.hostname)}return Hr.search=Wr.search,Hr.query=Wr.query,(Hr.pathname!==null||Hr.search!==null)&&(Hr.path=(Hr.pathname?Hr.pathname:"")+(Hr.search?Hr.search:"")),Hr.href=Hr.format(),Hr}if(!pn.length)return Hr.pathname=null,Hr.search?Hr.path="/"+Hr.search:Hr.path=null,Hr.href=Hr.format(),Hr;for(var xn=pn.slice(-1)[0],$n=(Hr.host||Wr.host||pn.length>1)&&(xn==="."||xn==="..")||xn==="",Nn=0,Bn=pn.length;Bn>=0;Bn--)xn=pn[Bn],xn==="."?pn.splice(Bn,1):xn===".."?(pn.splice(Bn,1),Nn++):Nn&&(pn.splice(Bn,1),Nn--);if(!vn&&!ln)for(;Nn--;Nn)pn.unshift("..");vn&&pn[0]!==""&&(!pn[0]||pn[0].charAt(0)!=="/")&&pn.unshift(""),$n&&pn.join("/").substr(-1)!=="/"&&pn.push("");var wn=pn[0]===""||pn[0]&&pn[0].charAt(0)==="/";if(_n){Hr.hostname=wn?"":pn.length?pn.shift():"",Hr.host=Hr.hostname;var jn=Hr.host&&Hr.host.indexOf("@")>0?Hr.host.split("@"):!1;jn&&(Hr.auth=jn.shift(),Hr.hostname=jn.shift(),Hr.host=Hr.hostname)}return vn=vn||Hr.host&&pn.length,vn&&!wn&&pn.unshift(""),pn.length>0?Hr.pathname=pn.join("/"):(Hr.pathname=null,Hr.path=null),(Hr.pathname!==null||Hr.search!==null)&&(Hr.path=(Hr.pathname?Hr.pathname:"")+(Hr.search?Hr.search:"")),Hr.auth=Wr.auth||Hr.auth,Hr.slashes=Hr.slashes||Wr.slashes,Hr.href=Hr.format(),Hr},gt.prototype.parseHost=function(){var Wr=this.host,on=mt.exec(Wr);on&&(on=on[0],on!==":"&&(this.port=on.substr(1)),Wr=Wr.substr(0,Wr.length-on.length)),Wr&&(this.hostname=Wr)};var br=jr,Vt=Vr,ht=Ir,Ct=Dr,or=gt;function pr(Wr,on){for(var Hr=0,yn=Wr.length-1;yn>=0;yn--){var gn=Wr[yn];gn==="."?Wr.splice(yn,1):gn===".."?(Wr.splice(yn,1),Hr++):Hr&&(Wr.splice(yn,1),Hr--)}if(on)for(;Hr--;Hr)Wr.unshift("..");return Wr}function lr(){for(var Wr="",on=!1,Hr=arguments.length-1;Hr>=-1&&!on;Hr--){var yn=Hr>=0?arguments[Hr]:"/";if(typeof yn!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!yn)continue;Wr=yn+"/"+Wr,on=yn.charAt(0)==="/"}return Wr=pr(vr(Wr.split("/"),function(gn){return!!gn}),!on).join("/"),(on?"/":"")+Wr||"."}function vr(Wr,on){if(Wr.filter)return Wr.filter(on);for(var Hr=[],yn=0;yn<Wr.length;yn++)on(Wr[yn],yn,Wr)&&Hr.push(Wr[yn]);return Hr}var tr=function(Wr){function on(){var yn=this||self;return delete Wr.prototype.__magic__,yn}if(typeof globalThis=="object")return globalThis;if(this)return on();Wr.defineProperty(Wr.prototype,"__magic__",{configurable:!0,get:on});var Hr=__magic__;return Hr}(Object),ur=Ct,Ft=br,yr=Vt,Nr=or,qr=tr.URL,Rr=tr.URLSearchParams,Ar=/%/g,Tr=/\\/g,Kr=/\n/g,Zr=/\r/g,Br=/\t/g,Mr=47;function Gr(Wr){var on=Wr??null;return!!(on!==null&&(on!=null&&on.href)&&(on!=null&&on.origin))}function en(Wr){if(Wr.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var on=Wr.pathname,Hr=0;Hr<on.length;Hr++)if(on[Hr]==="%"){var yn=on.codePointAt(Hr+2)|32;if(on[Hr+1]==="2"&&yn===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(on)}function rn(Wr){return Wr.includes("%")&&(Wr=Wr.replace(Ar,"%25")),Wr.includes("\\")&&(Wr=Wr.replace(Tr,"%5C")),Wr.includes(`
`)&&(Wr=Wr.replace(Kr,"%0A")),Wr.includes("\r")&&(Wr=Wr.replace(Zr,"%0D")),Wr.includes("	")&&(Wr=Wr.replace(Br,"%09")),Wr}var an=function(on){if(typeof on>"u")throw new TypeError('The "domain" argument must be specified');return new qr("http://"+on).hostname},nn=function(on){if(typeof on>"u")throw new TypeError('The "domain" argument must be specified');return new qr("http://"+on).hostname},un=function(on){var Hr=new qr("file://"),yn=lr(on),gn=on.charCodeAt(on.length-1);return gn===Mr&&yn[yn.length-1]!=="/"&&(yn+="/"),Hr.pathname=rn(yn),Hr},tn=function(on){if(!Gr(on)&&typeof on!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof on+" ("+on+")");var Hr=new qr(on);if(Hr.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return en(Hr)},dn=function(on,Hr){var yn,gn,mn,An;if(Hr===void 0&&(Hr={}),!(on instanceof qr))return ur(on);if(typeof Hr!="object"||Hr===null)throw new TypeError('The "options" argument must be of type object.');var hn=(yn=Hr.auth)!=null?yn:!0,Cr=(gn=Hr.fragment)!=null?gn:!0,$r=(mn=Hr.search)!=null?mn:!0;(An=Hr.unicode)!=null;var xr=new qr(on.toString());return hn||(xr.username="",xr.password=""),Cr||(xr.hash=""),$r||(xr.search=""),xr.toString()},cn={format:dn,parse:Ft,resolve:yr,resolveObject:ht,Url:Nr,URL:qr,URLSearchParams:Rr,domainToASCII:an,domainToUnicode:nn,pathToFileURL:un,fileURLToPath:tn};ge.URL=qr,ge.URLSearchParams=Rr,ge.Url=Nr,ge.default=cn,ge.domainToASCII=an,ge.domainToUnicode=nn,ge.fileURLToPath=tn,ge.format=dn,ge.parse=Ft,ge.pathToFileURL=un,ge.resolve=yr,ge.resolveObject=ht,ge=pe.exports=cn}(url,url.exports)),url.exports}var hasRequiredStreamHttp;function requireStreamHttp(){return hasRequiredStreamHttp||(hasRequiredStreamHttp=1,function(pe){var ge=requireRequest(),Se=requireResponse(),Ne=immutable,Ze=requireBrowser$3(),Je=requireUrl(),Xe=pe;Xe.request=function(vt,gt){typeof vt=="string"?vt=Je.parse(vt):vt=Ne(vt);var kt=commonjsGlobal$1.location.protocol.search(/^https?:$/)===-1?"http:":"",mt=vt.protocol||kt,xt=vt.hostname||vt.host,fr=vt.port,ar=vt.path||"/";xt&&xt.indexOf(":")!==-1&&(xt="["+xt+"]"),vt.url=(xt?mt+"//"+xt:"")+(fr?":"+fr:"")+ar,vt.method=(vt.method||"GET").toUpperCase(),vt.headers=vt.headers||{};var gr=new ge(vt);return gt&&gr.on("response",gt),gr},Xe.get=function(gt,kt){var mt=Xe.request(gt,kt);return mt.end(),mt},Xe.ClientRequest=ge,Xe.IncomingMessage=Se.IncomingMessage,Xe.Agent=function(){},Xe.Agent.defaultMaxSockets=4,Xe.globalAgent=new Xe.Agent,Xe.STATUS_CODES=Ze,Xe.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(streamHttp)),streamHttp}var httpsBrowserify={exports:{}},hasRequiredHttpsBrowserify;function requireHttpsBrowserify(){return hasRequiredHttpsBrowserify||(hasRequiredHttpsBrowserify=1,function(pe){var ge=requireStreamHttp(),Se=requireUrl(),Ne=pe.exports;for(var Ze in ge)ge.hasOwnProperty(Ze)&&(Ne[Ze]=ge[Ze]);Ne.request=function(Xe,vt){return Xe=Je(Xe),ge.request.call(this,Xe,vt)},Ne.get=function(Xe,vt){return Xe=Je(Xe),ge.get.call(this,Xe,vt)};function Je(Xe){if(typeof Xe=="string"&&(Xe=Se.parse(Xe)),Xe.protocol||(Xe.protocol="https:"),Xe.protocol!=="https:")throw new Error('Protocol "'+Xe.protocol+'" not supported. Expected "https:"');return Xe}}(httpsBrowserify)),httpsBrowserify.exports}var hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch$1;hasRequiredFetch=1;var pe=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(fetch$1,"__esModule",{value:!0});const ge=pe(requireBrowser$4()),Se=pe(requireStreamHttp()),Ne=pe(requireHttpsBrowserify()),Ze=new Se.default.Agent({keepAlive:!0}),Je=new Ne.default.Agent({keepAlive:!0});function Xe(gt){return gt.protocol==="http:"?Ze:Je}function vt(gt,kt){return(0,ge.default)(gt,Object.assign({agent:Xe(new URL(gt.toString()))},kt))}return fetch$1.default=vt,fetch$1}var __createBinding$4=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$4=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$4(ge,pe,Se);return __setModuleDefault$4(ge,pe),ge},__awaiter$e=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}};Object.defineProperty(fetch_json,"__esModule",{value:!0}),fetch_json.fetchJson=void 0;const types_1$7=lib$8,utils_1$a=lib$9,http_errors_1=__importDefault$1(httpErrorsExports),exponential_backoff_1$1=exponentialBackoff$1,START_WAIT_TIME_MS=1e3,BACKOFF_MULTIPLIER=1.5,RETRY_NUMBER=10;function fetchJson(pe,ge){return __awaiter$e(this,void 0,void 0,function*(){let Se={url:null};typeof pe=="string"?Se.url=pe:Se=pe;const Ne=yield(0,exponential_backoff_1$1.exponentialBackoff)(START_WAIT_TIME_MS,RETRY_NUMBER,BACKOFF_MULTIPLIER,()=>__awaiter$e(this,void 0,void 0,function*(){var Ze;try{const Je=yield((Ze=commonjsGlobal$1.fetch)!==null&&Ze!==void 0?Ze:(yield Promise.resolve().then(()=>__importStar$4(requireFetch()))).default)(Se.url,{method:ge?"POST":"GET",body:ge||void 0,headers:Object.assign(Object.assign({},Se.headers),{"Content-Type":"application/json"})});if(!Je.ok){if(Je.status===503)return utils_1$a.Logger.warn(`Retrying HTTP request for ${Se.url} as it's not available now`),null;if(Je.status===408)return utils_1$a.Logger.warn(`Retrying HTTP request for ${Se.url} as the previous connection was unused for some time`),null;throw(0,http_errors_1.default)(Je.status,yield Je.text())}return Je}catch(Je){if(Je.toString().includes("FetchError")||Je.toString().includes("Failed to fetch"))return utils_1$a.Logger.warn(`Retrying HTTP request for ${Se.url} because of error: ${Je}`),null;throw Je}}));if(!Ne)throw new types_1$7.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${Se.url}.`,"RetriesExceeded");return yield Ne.json()})}fetch_json.fetchJson=fetchJson;var __awaiter$d=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})},__rest$2=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(pe,ge){var Se={};for(var Ne in pe)Object.prototype.hasOwnProperty.call(pe,Ne)&&ge.indexOf(Ne)<0&&(Se[Ne]=pe[Ne]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ze=0,Ne=Object.getOwnPropertySymbols(pe);Ze<Ne.length;Ze++)ge.indexOf(Ne[Ze])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ne[Ze])&&(Se[Ne[Ze]]=pe[Ne[Ze]]);return Se};Object.defineProperty(jsonRpcProvider$1,"__esModule",{value:!0}),jsonRpcProvider$1.JsonRpcProvider=void 0;const utils_1$9=lib$9,types_1$6=lib$8,transactions_1$4=lib$5,exponential_backoff_1=exponentialBackoff$1,provider_1$1=provider$1,fetch_json_1=fetch_json,REQUEST_RETRY_NUMBER=12,REQUEST_RETRY_WAIT=500,REQUEST_RETRY_WAIT_BACKOFF=1.5;let _nextId=123;class JsonRpcProvider extends provider_1$1.Provider{constructor(ge,Se){super(),this.connection=ge||{url:""};const Ne={retries:REQUEST_RETRY_NUMBER,wait:REQUEST_RETRY_WAIT,backoff:REQUEST_RETRY_WAIT_BACKOFF};this.options=Object.assign({},Ne,Se)}status(){return __awaiter$d(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransactionUntil(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const Ne=(0,transactions_1$4.encodeTransaction)(ge);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer$F.from(Ne).toString("base64"),wait_until:Se})})}sendTransaction(ge){return __awaiter$d(this,void 0,void 0,function*(){return this.sendTransactionUntil(ge,"EXECUTED_OPTIMISTIC")})}sendTransactionAsync(ge){return __awaiter$d(this,void 0,void 0,function*(){return this.sendTransactionUntil(ge,"NONE")})}txStatus(ge,Se,Ne="EXECUTED_OPTIMISTIC"){return __awaiter$d(this,void 0,void 0,function*(){return typeof ge=="string"?this.txStatusString(ge,Se,Ne):this.txStatusUint8Array(ge,Se,Ne)})}txStatusUint8Array(ge,Se,Ne){return __awaiter$d(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:(0,utils_1$9.baseEncode)(ge),sender_account_id:Se,wait_until:Ne})})}txStatusString(ge,Se,Ne){return __awaiter$d(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:ge,sender_account_id:Se,wait_until:Ne})})}txStatusReceipts(ge,Se,Ne="EXECUTED_OPTIMISTIC"){return __awaiter$d(this,void 0,void 0,function*(){return typeof ge=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:ge,sender_account_id:Se,wait_until:Ne}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,utils_1$9.baseEncode)(ge),sender_account_id:Se,wait_until:Ne})})}query(...ge){return __awaiter$d(this,void 0,void 0,function*(){let Se;if(ge.length===1){const Ne=ge[0],{block_id:Ze,blockId:Je}=Ne,Xe=__rest$2(Ne,["block_id","blockId"]);Se=yield this.sendJsonRpc("query",Object.assign(Object.assign({},Xe),{block_id:Ze||Je}))}else{const[Ne,Ze]=ge;Se=yield this.sendJsonRpc("query",[Ne,Ze])}if(Se&&Se.error)throw new types_1$6.TypedError(`Querying failed: ${Se.error}.
${JSON.stringify(Se,null,2)}`,(0,utils_1$9.getErrorTypeFromErrorMessage)(Se.error,Se.error.name));return Se})}block(ge){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Se}=ge,{blockId:Ne}=ge;return this.sendJsonRpc("block",{block_id:Ne,finality:Se})})}blockChanges(ge){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Se}=ge,{blockId:Ne}=ge;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:Ne,finality:Se})})}chunk(ge){return __awaiter$d(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[ge])})}validators(ge){return __awaiter$d(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[ge])})}experimental_protocolConfig(ge){return __awaiter$d(this,void 0,void 0,function*(){const Se=ge,{blockId:Ne}=Se,Ze=__rest$2(Se,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},Ze),{block_id:Ne}))})}lightClientProof(ge){return __awaiter$d(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",ge)})}nextLightClientBlock(ge){return __awaiter$d(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",ge)})}accessKeyChanges(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Ne}=Se,{blockId:Ze}=Se;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:ge,block_id:Ze,finality:Ne})})}singleAccessKeyChanges(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Ne}=Se,{blockId:Ze}=Se;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:ge,block_id:Ze,finality:Ne})})}accountChanges(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Ne}=Se,{blockId:Ze}=Se;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:ge,block_id:Ze,finality:Ne})})}contractStateChanges(ge,Se,Ne=""){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Ze}=Se,{blockId:Je}=Se;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:ge,key_prefix_base64:Ne,block_id:Je,finality:Ze})})}contractCodeChanges(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const{finality:Ne}=Se,{blockId:Ze}=Se;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:ge,block_id:Ze,finality:Ne})})}gasPrice(ge){return __awaiter$d(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[ge])})}sendJsonRpc(ge,Se){return __awaiter$d(this,void 0,void 0,function*(){const Ne=yield(0,exponential_backoff_1.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,()=>__awaiter$d(this,void 0,void 0,function*(){var Je;try{const Xe={method:ge,params:Se,id:_nextId++,jsonrpc:"2.0"},vt=yield(0,fetch_json_1.fetchJson)(this.connection,JSON.stringify(Xe));if(vt.error){if(typeof vt.error.data=="object")throw typeof vt.error.data.error_message=="string"&&typeof vt.error.data.error_type=="string"?new types_1$6.TypedError(vt.error.data.error_message,vt.error.data.error_type):(0,utils_1$9.parseRpcError)(vt.error.data);{const gt=`[${vt.error.code}] ${vt.error.message}: ${vt.error.data}`;if(vt.error.data==="Timeout"||gt.includes("Timeout error")||gt.includes("query has timed out"))throw new types_1$6.TypedError(gt,"TimeoutError");const kt=(0,utils_1$9.getErrorTypeFromErrorMessage)(vt.error.data,"");throw kt?new types_1$6.TypedError((0,utils_1$9.formatError)(kt,Se),kt):new types_1$6.TypedError(gt,vt.error.name)}}else if(typeof((Je=vt.result)===null||Je===void 0?void 0:Je.error)=="string"){const gt=(0,utils_1$9.getErrorTypeFromErrorMessage)(vt.result.error,"");if(gt)throw new utils_1$9.ServerError((0,utils_1$9.formatError)(gt,Se),gt)}return vt}catch(Xe){if(Xe.type==="TimeoutError")return utils_1$9.Logger.warn(`Retrying request to ${ge} as it has timed out`,Se),null;throw Xe}})),{result:Ze}=Ne;if(typeof Ze>"u")throw new types_1$6.TypedError(`Exceeded ${this.options.retries} attempts for request to ${ge}.`,"RetriesExceeded");return Ze})}}jsonRpcProvider$1.JsonRpcProvider=JsonRpcProvider;var failoverRpcProvider$1={},__awaiter$c=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(failoverRpcProvider$1,"__esModule",{value:!0}),failoverRpcProvider$1.FailoverRpcProvider=void 0;const utils_1$8=lib$9,types_1$5=lib$8,provider_1=provider$1;class FailoverRpcProvider extends provider_1.Provider{constructor(ge){if(super(),ge.length===0)throw new Error("At least one provider must be specified");this.providers=ge,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,utils_1$8.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const ge=this.providers[this.currentProviderIndex];if(!ge)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return ge}withBackoff(ge){return __awaiter$c(this,void 0,void 0,function*(){for(let Se=0;Se<this.providers.length;Se++)try{const Ne=yield ge(this.currentProvider);if(Ne)return Ne}catch{this.switchToNextProvider()}throw new types_1$5.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")})}status(){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(ge=>ge.status())})}sendTransactionUntil(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ne=>Ne.sendTransactionUntil(ge,Se))})}sendTransaction(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.sendTransaction(ge))})}sendTransactionAsync(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.sendTransactionAsync(ge))})}txStatus(ge,Se,Ne){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ze=>Ze.txStatus(ge,Se,Ne))})}txStatusReceipts(ge,Se,Ne){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ze=>Ze.txStatusReceipts(ge,Se,Ne))})}query(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return Se?this.withBackoff(Ne=>Ne.query(ge,Se)):this.withBackoff(Ne=>Ne.query(ge))})}block(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.block(ge))})}blockChanges(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.blockChanges(ge))})}chunk(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.chunk(ge))})}validators(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.validators(ge))})}experimental_protocolConfig(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.experimental_protocolConfig(ge))})}lightClientProof(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.lightClientProof(ge))})}nextLightClientBlock(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.nextLightClientBlock(ge))})}accessKeyChanges(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ne=>Ne.accessKeyChanges(ge,Se))})}singleAccessKeyChanges(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ne=>Ne.singleAccessKeyChanges(ge,Se))})}accountChanges(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ne=>Ne.accountChanges(ge,Se))})}contractStateChanges(ge,Se,Ne=""){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ze=>Ze.contractStateChanges(ge,Se,Ne))})}contractCodeChanges(ge,Se){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Ne=>Ne.contractCodeChanges(ge,Se))})}gasPrice(ge){return __awaiter$c(this,void 0,void 0,function*(){return this.withBackoff(Se=>Se.gasPrice(ge))})}}failoverRpcProvider$1.FailoverRpcProvider=FailoverRpcProvider,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.fetchJson=pe.Provider=pe.FailoverRpcProvider=pe.JsonRpcProvider=pe.exponentialBackoff=void 0;var ge=exponentialBackoff$1;Object.defineProperty(pe,"exponentialBackoff",{enumerable:!0,get:function(){return ge.exponentialBackoff}});var Se=jsonRpcProvider$1;Object.defineProperty(pe,"JsonRpcProvider",{enumerable:!0,get:function(){return Se.JsonRpcProvider}});var Ne=failoverRpcProvider$1;Object.defineProperty(pe,"FailoverRpcProvider",{enumerable:!0,get:function(){return Ne.FailoverRpcProvider}});var Ze=provider$1;Object.defineProperty(pe,"Provider",{enumerable:!0,get:function(){return Ze.Provider}});var Je=fetch_json;Object.defineProperty(pe,"fetchJson",{enumerable:!0,get:function(){return Je.fetchJson}})}(lib$6),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.FinalExecutionStatusBasic=pe.ExecutionStatusBasic=pe.IdType=pe.Provider=pe.getTransactionLastResult=void 0;var ge=lib$9;Object.defineProperty(pe,"getTransactionLastResult",{enumerable:!0,get:function(){return ge.getTransactionLastResult}});var Se=lib$6;Object.defineProperty(pe,"Provider",{enumerable:!0,get:function(){return Se.Provider}});var Ne=lib$8;Object.defineProperty(pe,"IdType",{enumerable:!0,get:function(){return Ne.IdType}}),Object.defineProperty(pe,"ExecutionStatusBasic",{enumerable:!0,get:function(){return Ne.ExecutionStatusBasic}}),Object.defineProperty(pe,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return Ne.FinalExecutionStatusBasic}})}(provider$2);var jsonRpcProvider={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.JsonRpcProvider=pe.TypedError=pe.ErrorContext=void 0;var ge=lib$8;Object.defineProperty(pe,"ErrorContext",{enumerable:!0,get:function(){return ge.ErrorContext}}),Object.defineProperty(pe,"TypedError",{enumerable:!0,get:function(){return ge.TypedError}});var Se=lib$6;Object.defineProperty(pe,"JsonRpcProvider",{enumerable:!0,get:function(){return Se.JsonRpcProvider}})})(jsonRpcProvider);var failoverRpcProvider={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.FailoverRpcProvider=void 0;var ge=lib$6;Object.defineProperty(pe,"FailoverRpcProvider",{enumerable:!0,get:function(){return ge.FailoverRpcProvider}})})(failoverRpcProvider),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.ErrorContext=pe.TypedError=pe.getTransactionLastResult=pe.FinalExecutionStatusBasic=pe.FailoverRpcProvider=pe.JsonRpcProvider=pe.Provider=void 0;const ge=provider$2;Object.defineProperty(pe,"Provider",{enumerable:!0,get:function(){return ge.Provider}}),Object.defineProperty(pe,"getTransactionLastResult",{enumerable:!0,get:function(){return ge.getTransactionLastResult}}),Object.defineProperty(pe,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return ge.FinalExecutionStatusBasic}});const Se=jsonRpcProvider;Object.defineProperty(pe,"JsonRpcProvider",{enumerable:!0,get:function(){return Se.JsonRpcProvider}}),Object.defineProperty(pe,"TypedError",{enumerable:!0,get:function(){return Se.TypedError}}),Object.defineProperty(pe,"ErrorContext",{enumerable:!0,get:function(){return Se.ErrorContext}});const Ne=failoverRpcProvider;Object.defineProperty(pe,"FailoverRpcProvider",{enumerable:!0,get:function(){return Ne.FailoverRpcProvider}})}(providers);var utils$z={},key_pair={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.PublicKey=pe.KeyType=pe.KeyPairEd25519=pe.KeyPair=void 0;var ge=lib$a;Object.defineProperty(pe,"KeyPair",{enumerable:!0,get:function(){return ge.KeyPair}}),Object.defineProperty(pe,"KeyPairEd25519",{enumerable:!0,get:function(){return ge.KeyPairEd25519}}),Object.defineProperty(pe,"KeyType",{enumerable:!0,get:function(){return ge.KeyType}}),Object.defineProperty(pe,"PublicKey",{enumerable:!0,get:function(){return ge.PublicKey}})})(key_pair);var serialize$4={},cjs$1={},serialize$3={},types$2={};types$2.__esModule=!0,types$2.integers=void 0,types$2.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$2={};buffer$2.__esModule=!0,buffer$2.DecodeBuffer=buffer$2.EncodeBuffer=void 0;var EncodeBuffer$1=function(){function pe(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return pe.prototype.resize_if_necessary=function(ge){if(this.buffer_size-this.offset<ge){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+ge);var Se=new ArrayBuffer(this.buffer_size);new Uint8Array(Se).set(new Uint8Array(this.buffer)),this.buffer=Se,this.view=new DataView(Se)}},pe.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},pe.prototype.store_value=function(ge,Se){var Ne=Se.substring(1),Ze=parseInt(Ne)/8;this.resize_if_necessary(Ze);var Je=Se[0]==="f"?"setFloat".concat(Ne):Se[0]==="i"?"setInt".concat(Ne):"setUint".concat(Ne);this.view[Je](this.offset,ge,!0),this.offset+=Ze},pe.prototype.store_bytes=function(ge){this.resize_if_necessary(ge.length),new Uint8Array(this.buffer).set(new Uint8Array(ge),this.offset),this.offset+=ge.length},pe}();buffer$2.EncodeBuffer=EncodeBuffer$1;var DecodeBuffer$1=function(){function pe(ge){this.offset=0,this.buffer_size=ge.length,this.buffer=new ArrayBuffer(ge.length),new Uint8Array(this.buffer).set(ge),this.view=new DataView(this.buffer)}return pe.prototype.assert_enough_buffer=function(ge){if(this.offset+ge>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},pe.prototype.consume_value=function(ge){var Se=ge.substring(1),Ne=parseInt(Se)/8;this.assert_enough_buffer(Ne);var Ze=ge[0]==="f"?"getFloat".concat(Se):ge[0]==="i"?"getInt".concat(Se):"getUint".concat(Se),Je=this.view[Ze](this.offset,!0);return this.offset+=Ne,Je},pe.prototype.consume_bytes=function(ge){this.assert_enough_buffer(ge);var Se=this.buffer.slice(this.offset,this.offset+ge);return this.offset+=ge,Se},pe}();buffer$2.DecodeBuffer=DecodeBuffer$1;var utils$y={},__extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var pe=function(ge,Se){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,Ze){Ne.__proto__=Ze}||function(Ne,Ze){for(var Je in Ze)Object.prototype.hasOwnProperty.call(Ze,Je)&&(Ne[Je]=Ze[Je])},pe(ge,Se)};return function(ge,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Class extends value "+String(Se)+" is not a constructor or null");pe(ge,Se);function Ne(){this.constructor=ge}ge.prototype=Se===null?Object.create(Se):(Ne.prototype=Se.prototype,new Ne)}}();utils$y.__esModule=!0,utils$y.validate_schema=utils$y.ErrorSchema=utils$y.expect_enum=utils$y.expect_same_size=utils$y.expect_bigint=utils$y.expect_type=utils$y.isArrayLike=void 0;var types_js_1$5=types$2;function isArrayLike$1(pe){return Array.isArray(pe)||!!pe&&typeof pe=="object"&&"length"in pe&&typeof pe.length=="number"&&(pe.length===0||pe.length>0&&pe.length-1 in pe)}utils$y.isArrayLike=isArrayLike$1;function expect_type$1(pe,ge,Se){if(typeof pe!==ge)throw new Error("Expected ".concat(ge," not ").concat(typeof pe,"(").concat(pe,") at ").concat(Se.join(".")))}utils$y.expect_type=expect_type$1;function expect_bigint$1(pe,ge){var Se=["number","string","bigint","boolean"].includes(typeof pe),Ne=typeof pe=="object"&&pe!==null&&"toString"in pe;if(!Se&&!Ne)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$y.expect_bigint=expect_bigint$1;function expect_same_size$1(pe,ge,Se){if(pe!==ge)throw new Error("Array length ".concat(pe," does not match schema length ").concat(ge," at ").concat(Se.join(".")))}utils$y.expect_same_size=expect_same_size$1;function expect_enum$1(pe,ge){if(typeof pe!="object"||pe===null)throw new Error("Expected object not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$y.expect_enum=expect_enum$1;var VALID_STRING_TYPES$1=types_js_1$5.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$1=["option","enum","array","set","map","struct"],ErrorSchema$1=function(pe){__extends$1(ge,pe);function ge(Se,Ne){var Ze="Invalid schema: ".concat(JSON.stringify(Se)," expected ").concat(Ne);return pe.call(this,Ze)||this}return ge}(Error);utils$y.ErrorSchema=ErrorSchema$1;function validate_schema$1(pe){if(!(typeof pe=="string"&&VALID_STRING_TYPES$1.includes(pe))){if(pe&&typeof pe=="object"){var ge=Object.keys(pe);if(ge.length===1&&VALID_OBJECT_KEYS$1.includes(ge[0])){var Se=ge[0];if(Se==="option")return validate_schema$1(pe[Se]);if(Se==="enum")return validate_enum_schema$1(pe[Se]);if(Se==="array")return validate_array_schema$1(pe[Se]);if(Se==="set")return validate_schema$1(pe[Se]);if(Se==="map")return validate_map_schema$1(pe[Se]);if(Se==="struct")return validate_struct_schema$1(pe[Se])}}throw new ErrorSchema$1(pe,VALID_OBJECT_KEYS$1.join(", ")+" or "+VALID_STRING_TYPES$1.join(", "))}}utils$y.validate_schema=validate_schema$1;function validate_enum_schema$1(pe){if(!Array.isArray(pe))throw new ErrorSchema$1(pe,"Array");for(var ge=0,Se=pe;ge<Se.length;ge++){var Ne=Se[ge];if(typeof Ne!="object"||!("struct"in Ne))throw new Error('Missing "struct" key in enum schema');if(typeof Ne.struct!="object"||Object.keys(Ne.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$1({struct:Ne.struct})}}function validate_array_schema$1(pe){if(typeof pe!="object")throw new ErrorSchema$1(pe,"{ type, len? }");if(pe.len&&typeof pe.len!="number")throw new Error("Invalid schema: ".concat(pe));if("type"in pe)return validate_schema$1(pe.type);throw new ErrorSchema$1(pe,"{ type, len? }")}function validate_map_schema$1(pe){if(typeof pe=="object"&&"key"in pe&&"value"in pe)validate_schema$1(pe.key),validate_schema$1(pe.value);else throw new ErrorSchema$1(pe,"{ key, value }")}function validate_struct_schema$1(pe){if(typeof pe!="object")throw new ErrorSchema$1(pe,"object");for(var ge in pe)validate_schema$1(pe[ge])}var __createBinding$3=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$3=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$3(ge,pe,Se);return __setModuleDefault$3(ge,pe),ge};serialize$3.__esModule=!0,serialize$3.BorshSerializer=void 0;var types_js_1$4=types$2,buffer_js_1$3=buffer$2,utils$x=__importStar$3(utils$y),BorshSerializer$1=function(){function pe(ge){this.encoded=new buffer_js_1$3.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=ge}return pe.prototype.encode=function(ge,Se){return this.encode_value(ge,Se),this.encoded.get_used_buffer()},pe.prototype.encode_value=function(ge,Se){if(typeof Se=="string"){if(types_js_1$4.integers.includes(Se))return this.encode_integer(ge,Se);if(Se==="string")return this.encode_string(ge);if(Se==="bool")return this.encode_boolean(ge)}if(typeof Se=="object"){if("option"in Se)return this.encode_option(ge,Se);if("enum"in Se)return this.encode_enum(ge,Se);if("array"in Se)return this.encode_array(ge,Se);if("set"in Se)return this.encode_set(ge,Se);if("map"in Se)return this.encode_map(ge,Se);if("struct"in Se)return this.encode_struct(ge,Se)}},pe.prototype.encode_integer=function(ge,Se){var Ne=parseInt(Se.substring(1));Ne<=32||Se=="f64"?(this.checkTypes&&utils$x.expect_type(ge,"number",this.fieldPath),this.encoded.store_value(ge,Se)):(this.checkTypes&&utils$x.expect_bigint(ge,this.fieldPath),this.encode_bigint(BigInt(ge),Ne))},pe.prototype.encode_bigint=function(ge,Se){for(var Ne=Se/8,Ze=new Uint8Array(Ne),Je=0;Je<Ne;Je++)Ze[Je]=Number(ge&BigInt(255)),ge=ge>>BigInt(8);this.encoded.store_bytes(new Uint8Array(Ze))},pe.prototype.encode_string=function(ge){this.checkTypes&&utils$x.expect_type(ge,"string",this.fieldPath);var Se=ge;this.encoded.store_value(Se.length,"u32");for(var Ne=0;Ne<Se.length;Ne++)this.encoded.store_value(Se.charCodeAt(Ne),"u8")},pe.prototype.encode_boolean=function(ge){this.checkTypes&&utils$x.expect_type(ge,"boolean",this.fieldPath),this.encoded.store_value(ge?1:0,"u8")},pe.prototype.encode_option=function(ge,Se){ge==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(ge,Se.option))},pe.prototype.encode_enum=function(ge,Se){this.checkTypes&&utils$x.expect_enum(ge,this.fieldPath);for(var Ne=Object.keys(ge)[0],Ze=0;Ze<Se.enum.length;Ze++){var Je=Se.enum[Ze];if(Ne===Object.keys(Je.struct)[0])return this.encoded.store_value(Ze,"u8"),this.encode_struct(ge,Je)}throw new Error("Enum key (".concat(Ne,") not found in enum schema: ").concat(JSON.stringify(Se)," at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_array=function(ge,Se){if(utils$x.isArrayLike(ge))return this.encode_arraylike(ge,Se);if(ge instanceof ArrayBuffer)return this.encode_buffer(ge,Se);throw new Error("Expected Array-like not ".concat(typeof ge,"(").concat(ge,") at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_arraylike=function(ge,Se){Se.array.len?utils$x.expect_same_size(ge.length,Se.array.len,this.fieldPath):this.encoded.store_value(ge.length,"u32");for(var Ne=0;Ne<ge.length;Ne++)this.encode_value(ge[Ne],Se.array.type)},pe.prototype.encode_buffer=function(ge,Se){Se.array.len?utils$x.expect_same_size(ge.byteLength,Se.array.len,this.fieldPath):this.encoded.store_value(ge.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(ge))},pe.prototype.encode_set=function(ge,Se){this.checkTypes&&utils$x.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Set,Ze=Ne?Array.from(ge.values()):Object.values(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.set)}},pe.prototype.encode_map=function(ge,Se){this.checkTypes&&utils$x.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Map,Ze=Ne?Array.from(ge.keys()):Object.keys(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.map.key),this.encode_value(Ne?ge.get(vt):ge[vt],Se.map.value)}},pe.prototype.encode_struct=function(ge,Se){this.checkTypes&&utils$x.expect_type(ge,"object",this.fieldPath);for(var Ne=0,Ze=Object.keys(Se.struct);Ne<Ze.length;Ne++){var Je=Ze[Ne];this.fieldPath.push(Je),this.encode_value(ge[Je],Se.struct[Je]),this.fieldPath.pop()}},pe}();serialize$3.BorshSerializer=BorshSerializer$1;var deserialize$3={};deserialize$3.__esModule=!0,deserialize$3.BorshDeserializer=void 0;var types_js_1$3=types$2,buffer_js_1$2=buffer$2,BorshDeserializer$1=function(){function pe(ge){this.buffer=new buffer_js_1$2.DecodeBuffer(ge)}return pe.prototype.decode=function(ge){return this.decode_value(ge)},pe.prototype.decode_value=function(ge){if(typeof ge=="string"){if(types_js_1$3.integers.includes(ge))return this.decode_integer(ge);if(ge==="string")return this.decode_string();if(ge==="bool")return this.decode_boolean()}if(typeof ge=="object"){if("option"in ge)return this.decode_option(ge);if("enum"in ge)return this.decode_enum(ge);if("array"in ge)return this.decode_array(ge);if("set"in ge)return this.decode_set(ge);if("map"in ge)return this.decode_map(ge);if("struct"in ge)return this.decode_struct(ge)}throw new Error("Unsupported type: ".concat(ge))},pe.prototype.decode_integer=function(ge){var Se=parseInt(ge.substring(1));return Se<=32||ge=="f64"?this.buffer.consume_value(ge):this.decode_bigint(Se,ge.startsWith("i"))},pe.prototype.decode_bigint=function(ge,Se){Se===void 0&&(Se=!1);var Ne=ge/8,Ze=new Uint8Array(this.buffer.consume_bytes(Ne)),Je=Ze.reduceRight(function(Xe,vt){return Xe+vt.toString(16).padStart(2,"0")},"");return Se&&Ze[Ne-1]?BigInt.asIntN(ge,BigInt("0x".concat(Je))):BigInt("0x".concat(Je))},pe.prototype.decode_string=function(){var ge=this.decode_integer("u32"),Se=new Uint8Array(this.buffer.consume_bytes(ge));return String.fromCharCode.apply(null,Se)},pe.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},pe.prototype.decode_option=function(ge){var Se=this.buffer.consume_value("u8");if(Se===1)return this.decode_value(ge.option);if(Se!==0)throw new Error("Invalid option ".concat(Se));return null},pe.prototype.decode_enum=function(ge){var Se,Ne=this.buffer.consume_value("u8");if(Ne>ge.enum.length)throw new Error("Enum option ".concat(Ne," is not available"));var Ze=ge.enum[Ne].struct,Je=Object.keys(Ze)[0];return Se={},Se[Je]=this.decode_value(Ze[Je]),Se},pe.prototype.decode_array=function(ge){for(var Se=[],Ne=ge.array.len?ge.array.len:this.decode_integer("u32"),Ze=0;Ze<Ne;++Ze)Se.push(this.decode_value(ge.array.type));return Se},pe.prototype.decode_set=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Set,Ze=0;Ze<Se;++Ze)Ne.add(this.decode_value(ge.set));return Ne},pe.prototype.decode_map=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Map,Ze=0;Ze<Se;++Ze){var Je=this.decode_value(ge.map.key),Xe=this.decode_value(ge.map.value);Ne.set(Je,Xe)}return Ne},pe.prototype.decode_struct=function(ge){var Se={};for(var Ne in ge.struct)Se[Ne]=this.decode_value(ge.struct[Ne]);return Se},pe}();deserialize$3.BorshDeserializer=BorshDeserializer$1;var __createBinding$2=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$2=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$2(ge,pe,Se);return __setModuleDefault$2(ge,pe),ge};cjs$1.__esModule=!0,cjs$1.deserialize=cjs$1.serialize=void 0;var serialize_js_1$1=serialize$3,deserialize_js_1$1=deserialize$3,utils$w=__importStar$2(utils$y);function serialize$2(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$w.validate_schema(pe);var Ne=new serialize_js_1$1.BorshSerializer(Se);return Ne.encode(ge,pe)}cjs$1.serialize=serialize$2;function deserialize$2(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$w.validate_schema(pe);var Ne=new deserialize_js_1$1.BorshDeserializer(ge);return Ne.decode(pe)}cjs$1.deserialize=deserialize$2,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.base_decode=pe.base_encode=pe.deserialize=pe.serialize=void 0;var ge=cjs$1;Object.defineProperty(pe,"serialize",{enumerable:!0,get:function(){return ge.serialize}}),Object.defineProperty(pe,"deserialize",{enumerable:!0,get:function(){return ge.deserialize}});var Se=lib$9;Object.defineProperty(pe,"base_encode",{enumerable:!0,get:function(){return Se.baseEncode}}),Object.defineProperty(pe,"base_decode",{enumerable:!0,get:function(){return Se.baseDecode}})}(serialize$4);var web={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.fetchJson=void 0;var ge=lib$6;Object.defineProperty(pe,"fetchJson",{enumerable:!0,get:function(){return ge.fetchJson}})})(web);var enums={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Enum=pe.Assignable=void 0;var ge=lib$8;Object.defineProperty(pe,"Assignable",{enumerable:!0,get:function(){return ge.Assignable}});class Se{constructor(Ze){if(Object.keys(Ze).length!==1)throw new Error("Enum can only take single value");Object.keys(Ze).map(Je=>{this[Je]=Ze[Je],this.enum=Je})}}pe.Enum=Se})(enums);var format={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.parseNearAmount=pe.formatNearAmount=pe.NEAR_NOMINATION_EXP=pe.NEAR_NOMINATION=void 0;var ge=lib$9;Object.defineProperty(pe,"NEAR_NOMINATION",{enumerable:!0,get:function(){return ge.NEAR_NOMINATION}}),Object.defineProperty(pe,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return ge.NEAR_NOMINATION_EXP}}),Object.defineProperty(pe,"formatNearAmount",{enumerable:!0,get:function(){return ge.formatNearAmount}}),Object.defineProperty(pe,"parseNearAmount",{enumerable:!0,get:function(){return ge.parseNearAmount}})})(format);var rpc_errors={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.ServerError=pe.getErrorTypeFromErrorMessage=pe.formatError=pe.parseResultError=pe.parseRpcError=void 0;var ge=lib$9;Object.defineProperty(pe,"parseRpcError",{enumerable:!0,get:function(){return ge.parseRpcError}}),Object.defineProperty(pe,"parseResultError",{enumerable:!0,get:function(){return ge.parseResultError}}),Object.defineProperty(pe,"formatError",{enumerable:!0,get:function(){return ge.formatError}}),Object.defineProperty(pe,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return ge.getErrorTypeFromErrorMessage}}),Object.defineProperty(pe,"ServerError",{enumerable:!0,get:function(){return ge.ServerError}})})(rpc_errors);var errors$1={},lib$3={},account$1={},utils$v={},__awaiter$b=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(utils$v,"__esModule",{value:!0}),utils$v.viewFunction=utils$v.viewState=utils$v.encodeJSContractArgs=utils$v.validateArgs=void 0;const types_1$4=lib$8,utils_1$7=lib$9;function parseJsonFromRawResponse(pe){return JSON.parse(Buffer$F.from(pe).toString())}function bytesJsonStringify(pe){return Buffer$F.from(JSON.stringify(pe))}function validateArgs(pe){if(!(pe.byteLength!==void 0&&pe.byteLength===pe.length)&&(Array.isArray(pe)||typeof pe!="object"))throw new types_1$4.PositionalArgsError}utils$v.validateArgs=validateArgs;function encodeJSContractArgs(pe,ge,Se){return Buffer$F.concat([Buffer$F.from(pe),Buffer$F.from([0]),Buffer$F.from(ge),Buffer$F.from([0]),Buffer$F.from(Se)])}utils$v.encodeJSContractArgs=encodeJSContractArgs;function viewState(pe,ge,Se,Ne={finality:"optimistic"}){return __awaiter$b(this,void 0,void 0,function*(){const{values:Ze}=yield pe.provider.query(Object.assign(Object.assign({request_type:"view_state"},Ne),{account_id:ge,prefix_base64:Buffer$F.from(Se).toString("base64")}));return Ze.map(({key:Je,value:Xe})=>({key:Buffer$F.from(Je,"base64"),value:Buffer$F.from(Xe,"base64")}))})}utils$v.viewState=viewState;function viewFunction(pe,{contractId:ge,methodName:Se,args:Ne={},parse:Ze=parseJsonFromRawResponse,stringify:Je=bytesJsonStringify,jsContract:Xe=!1,blockQuery:vt={finality:"optimistic"}}){return __awaiter$b(this,void 0,void 0,function*(){let gt;validateArgs(Ne),Xe?gt=encodeJSContractArgs(ge,Se,Object.keys(Ne).length>0?JSON.stringify(Ne):""):gt=Je(Ne);const kt=yield pe.provider.query(Object.assign(Object.assign({request_type:"call_function"},vt),{account_id:Xe?pe.jsvmAccountId:ge,method_name:Xe?"view_js_contract":Se,args_base64:gt.toString("base64")}));return kt.logs&&(0,utils_1$7.printTxOutcomeLogs)({contractId:ge,logs:kt.logs}),kt.result&&kt.result.length>0&&Ze(Buffer$F.from(kt.result))})}utils$v.viewFunction=viewFunction;var __awaiter$a=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(account$1,"__esModule",{value:!0}),account$1.Account=void 0;const crypto_1$4=lib$a,providers_1$3=lib$6,transactions_1$3=lib$5,types_1$3=lib$8,utils_1$6=lib$9,utils_2$2=utils$v,{addKey:addKey$1,createAccount,deleteAccount,deleteKey:deleteKey$1,deployContract:deployContract$2,fullAccessKey:fullAccessKey$1,functionCall:functionCall$2,functionCallAccessKey:functionCallAccessKey$1,stake,transfer}=transactions_1$3.actionCreators,TX_NONCE_RETRY_NUMBER=12,TX_NONCE_RETRY_WAIT=500,TX_NONCE_RETRY_WAIT_BACKOFF=1.5;class Account{constructor(ge,Se){this.accessKeyByPublicKeyCache={},this.connection=ge,this.accountId=Se}getConnection(){return this.connection}state(){return __awaiter$a(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(ge,Se){return __awaiter$a(this,void 0,void 0,function*(){const Ne=yield this.findAccessKey(ge,Se);if(!Ne)throw new types_1$3.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:Ze}=Ne,Xe=(yield this.connection.provider.block({finality:"final"})).header.hash,vt=Ze.nonce+BigInt(1);return yield(0,transactions_1$3.signTransaction)(ge,vt,Se,(0,utils_1$6.baseDecode)(Xe),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:ge,actions:Se,returnError:Ne}){return __awaiter$a(this,void 0,void 0,function*(){let Ze,Je;const Xe=yield(0,providers_1$3.exponentialBackoff)(TX_NONCE_RETRY_WAIT,TX_NONCE_RETRY_NUMBER,TX_NONCE_RETRY_WAIT_BACKOFF,()=>__awaiter$a(this,void 0,void 0,function*(){[Ze,Je]=yield this.signTransaction(ge,Se);const vt=Je.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(Je)}catch(gt){if(gt.type==="InvalidNonce")return utils_1$6.Logger.warn(`Retrying transaction ${ge}:${(0,utils_1$6.baseEncode)(Ze)} with new nonce.`),delete this.accessKeyByPublicKeyCache[vt.toString()],null;if(gt.type==="Expired")return utils_1$6.Logger.warn(`Retrying transaction ${ge}:${(0,utils_1$6.baseEncode)(Ze)} due to expired block hash`),null;throw gt.context=new types_1$3.ErrorContext((0,utils_1$6.baseEncode)(Ze)),gt}}));if(!Xe)throw new types_1$3.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1$6.printTxOutcomeLogsAndFailures)({contractId:Je.transaction.receiverId,outcome:Xe}),!Ne&&typeof Xe.status=="object"&&typeof Xe.status.Failure=="object"&&Xe.status.Failure!==null)throw Xe.status.Failure.error_message&&Xe.status.Failure.error_type?new types_1$3.TypedError(`Transaction ${Xe.transaction_outcome.id} failed. ${Xe.status.Failure.error_message}`,Xe.status.Failure.error_type):(0,utils_1$6.parseResultError)(Xe);return Xe})}findAccessKey(ge,Se){return __awaiter$a(this,void 0,void 0,function*(){const Ne=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!Ne)throw new types_1$3.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const Ze=this.accessKeyByPublicKeyCache[Ne.toString()];if(Ze!==void 0)return{publicKey:Ne,accessKey:Ze};try{const Je=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:Ne.toString(),finality:"optimistic"}),Xe=Object.assign(Object.assign({},Je),{nonce:BigInt(Je.nonce||0)});return this.accessKeyByPublicKeyCache[Ne.toString()]?{publicKey:Ne,accessKey:this.accessKeyByPublicKeyCache[Ne.toString()]}:(this.accessKeyByPublicKeyCache[Ne.toString()]=Xe,{publicKey:Ne,accessKey:Xe})}catch(Je){if(Je.type=="AccessKeyDoesNotExist")return null;throw Je}})}createAndDeployContract(ge,Se,Ne,Ze){return __awaiter$a(this,void 0,void 0,function*(){const Je=fullAccessKey$1();return yield this.signAndSendTransaction({receiverId:ge,actions:[createAccount(),transfer(Ze),addKey$1(crypto_1$4.PublicKey.from(Se),Je),deployContract$2(Ne)]}),new Account(this.connection,ge)})}sendMoney(ge,Se){return __awaiter$a(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:ge,actions:[transfer(Se)]})})}createAccount(ge,Se,Ne){return __awaiter$a(this,void 0,void 0,function*(){const Ze=fullAccessKey$1();return this.signAndSendTransaction({receiverId:ge,actions:[createAccount(),transfer(Ne),addKey$1(crypto_1$4.PublicKey.from(Se),Ze)]})})}deleteAccount(ge){return __awaiter$a(this,void 0,void 0,function*(){return utils_1$6.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount(ge)]})})}deployContract(ge){return __awaiter$a(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract$2(ge)]})})}encodeJSContractArgs(ge,Se,Ne){return Buffer$F.concat([Buffer$F.from(ge),Buffer$F.from([0]),Buffer$F.from(Se),Buffer$F.from([0]),Buffer$F.from(Ne)])}functionCall({contractId:ge,methodName:Se,args:Ne={},gas:Ze=utils_1$6.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:Je,walletMeta:Xe,walletCallbackUrl:vt,stringify:gt,jsContract:kt}){return __awaiter$a(this,void 0,void 0,function*(){this.validateArgs(Ne);let mt;if(kt)mt=["call_js_contract",this.encodeJSContractArgs(ge,Se,JSON.stringify(Ne)),Ze,Je,null,!0];else{const xt=gt===void 0?transactions_1$3.stringifyJsonOrBytes:gt;mt=[Se,Ne,Ze,Je,xt,!1]}return this.signAndSendTransaction({receiverId:kt?this.connection.jsvmAccountId:ge,actions:[functionCall$2.apply(void 0,mt)],walletMeta:Xe,walletCallbackUrl:vt})})}addKey(ge,Se,Ne,Ze){return __awaiter$a(this,void 0,void 0,function*(){Ne||(Ne=[]),Array.isArray(Ne)||(Ne=[Ne]);let Je;return Se?Je=functionCallAccessKey$1(Se,Ne,Ze):Je=fullAccessKey$1(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey$1(crypto_1$4.PublicKey.from(ge),Je)]})})}deleteKey(ge){return __awaiter$a(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey$1(crypto_1$4.PublicKey.from(ge))]})})}stake(ge,Se){return __awaiter$a(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake(Se,crypto_1$4.PublicKey.from(ge))]})})}signedDelegate({actions:ge,blockHeightTtl:Se,receiverId:Ne}){return __awaiter$a(this,void 0,void 0,function*(){const{provider:Ze,signer:Je}=this.connection,{header:Xe}=yield Ze.block({finality:"final"}),{accessKey:vt,publicKey:gt}=yield this.findAccessKey(null,null),kt=(0,transactions_1$3.buildDelegateAction)({actions:ge,maxBlockHeight:BigInt(Xe.height)+BigInt(Se),nonce:BigInt(vt.nonce)+BigInt(1),publicKey:gt,receiverId:Ne,senderId:this.accountId}),{signedDelegateAction:mt}=yield(0,transactions_1$3.signDelegateAction)({delegateAction:kt,signer:{sign:xt=>__awaiter$a(this,void 0,void 0,function*(){const{signature:fr}=yield Je.signMessage(xt,kt.senderId,this.connection.networkId);return fr})}});return mt})}validateArgs(ge){if(!(ge.byteLength!==void 0&&ge.byteLength===ge.length)&&(Array.isArray(ge)||typeof ge!="object"))throw new types_1$3.PositionalArgsError}viewFunction(ge){return __awaiter$a(this,void 0,void 0,function*(){return yield(0,utils_2$2.viewFunction)(this.connection,ge)})}viewState(ge,Se={finality:"optimistic"}){return __awaiter$a(this,void 0,void 0,function*(){return yield(0,utils_2$2.viewState)(this.connection,this.accountId,ge,Se)})}getAccessKeys(){var ge;return __awaiter$a(this,void 0,void 0,function*(){const Se=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(ge=Se==null?void 0:Se.keys)===null||ge===void 0?void 0:ge.map(Ne=>Object.assign(Object.assign({},Ne),{access_key:Object.assign(Object.assign({},Ne.access_key),{nonce:BigInt(Ne.access_key.nonce)})}))})}getAccountDetails(){return __awaiter$a(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(Ne=>Ne.access_key.permission!=="FullAccess").map(Ne=>{const Ze=Ne.access_key.permission;return{contractId:Ze.FunctionCall.receiver_id,amount:Ze.FunctionCall.allowance,publicKey:Ne.public_key}})}})}getAccountBalance(){return __awaiter$a(this,void 0,void 0,function*(){const ge=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),Se=yield this.state(),Ne=BigInt(ge.runtime_config.storage_amount_per_byte),Ze=BigInt(Se.storage_usage)*Ne,Je=BigInt(Se.locked),Xe=BigInt(Se.amount)+Je,vt=Xe-(Je>Ze?Je:Ze);return{total:Xe.toString(),stateStaked:Ze.toString(),staked:Je.toString(),available:vt.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter$a(this,void 0,void 0,function*(){const ge=yield this.connection.provider.block({finality:"final"}),Se=ge.header.hash,Ne=ge.header.epoch_id,{current_validators:Ze,next_validators:Je,current_proposals:Xe}=yield this.connection.provider.validators(Ne),vt=new Set;[...Ze,...Je,...Xe].forEach(ar=>vt.add(ar.account_id));const gt=[...vt],kt=gt.map(ar=>this.viewFunction({contractId:ar,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:Se}})),mt=yield Promise.allSettled(kt);if(mt.some(ar=>ar.status==="rejected"&&ar.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const fr=mt.reduce((ar,gr,wr)=>{const Er=gt[wr];if(gr.status==="fulfilled"){const _r=BigInt(gr.value);if(_r!==BigInt(0))return Object.assign(Object.assign({},ar),{stakedValidators:[...ar.stakedValidators,{validatorId:Er,amount:_r.toString()}],total:ar.total+_r})}return gr.status==="rejected"?Object.assign(Object.assign({},ar),{failedValidators:[...ar.failedValidators,{validatorId:Er,error:gr.reason}]}):ar},{stakedValidators:[],failedValidators:[],total:BigInt(0)});return Object.assign(Object.assign({},fr),{total:fr.total.toString()})})}}account$1.Account=Account;var account_2fa={},account_multisig$1={},constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0}),constants$1.MULTISIG_CONFIRM_METHODS=constants$1.MULTISIG_CHANGE_METHODS=constants$1.MULTISIG_DEPOSIT=constants$1.MULTISIG_GAS=constants$1.MULTISIG_ALLOWANCE=constants$1.MULTISIG_STORAGE_KEY=void 0;const utils_1$5=lib$9;constants$1.MULTISIG_STORAGE_KEY="__multisigRequest",constants$1.MULTISIG_ALLOWANCE=BigInt((0,utils_1$5.parseNearAmount)("1")),constants$1.MULTISIG_GAS=BigInt("100000000000000"),constants$1.MULTISIG_DEPOSIT=BigInt("0"),constants$1.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants$1.MULTISIG_CONFIRM_METHODS=["confirm"];var types$1={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MultisigStateStatus=pe.MultisigDeleteRequestRejectionError=void 0,function(ge){ge.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",ge.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",ge.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",ge.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",ge.METHOD_NOT_FOUND="Contract method is not found"}(pe.MultisigDeleteRequestRejectionError||(pe.MultisigDeleteRequestRejectionError={})),function(ge){ge[ge.INVALID_STATE=0]="INVALID_STATE",ge[ge.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",ge[ge.VALID_STATE=2]="VALID_STATE",ge[ge.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(pe.MultisigStateStatus||(pe.MultisigStateStatus={}))})(types$1);var __awaiter$9=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(account_multisig$1,"__esModule",{value:!0}),account_multisig$1.AccountMultisig=void 0;const transactions_1$2=lib$5,utils_1$4=lib$9,account_1$1=account$1,constants_1$1=constants$1,types_1$2=types$1,{deployContract:deployContract$1,functionCall:functionCall$1}=transactions_1$2.actionCreators;var MultisigCodeStatus;(function(pe){pe[pe.INVALID_CODE=0]="INVALID_CODE",pe[pe.VALID_CODE=1]="VALID_CODE",pe[pe.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(MultisigCodeStatus||(MultisigCodeStatus={}));const storageFallback={[constants_1$1.MULTISIG_STORAGE_KEY]:null};class AccountMultisig extends account_1$1.Account{constructor(ge,Se,Ne){super(ge,Se),this.storage=Ne.storage,this.onAddRequestResult=Ne.onAddRequestResult}signAndSendTransactionWithAccount(ge,Se){const Ne=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$9(this,void 0,void 0,function*(){return Ne.signAndSendTransaction.call(this,{receiverId:ge,actions:Se})})}signAndSendTransaction({receiverId:ge,actions:Se}){const Ne=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$9(this,void 0,void 0,function*(){const{accountId:Ze}=this,Je=Buffer$F.from(JSON.stringify({request:{receiver_id:ge,actions:convertActions(Se,Ze,ge)}}));let Xe;try{Xe=yield Ne.signAndSendTransaction.call(this,{receiverId:Ze,actions:[functionCall$1("add_request_and_confirm",Je,constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}catch(gt){if(gt.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:ge,actions:Se});throw gt}if(!Xe.status)throw new Error("Request failed");const vt=Object.assign({},Xe.status);if(!vt.SuccessValue||typeof vt.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:Ze,actions:Se,requestId:parseInt(Buffer$F.from(vt.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(Xe)),this.deleteUnconfirmedRequests(),Xe})}checkMultisigCodeAndStateStatus(ge){const Se=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$9(this,void 0,void 0,function*(){const Ze=ge?MultisigCodeStatus.UNKNOWN_CODE:MultisigCodeStatus.VALID_CODE;try{return ge?yield Se.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract$1(ge),functionCall$1("delete_request",{request_id:4294967295},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus.VALID_CODE,stateStatus:types_1$2.MultisigStateStatus.VALID_STATE}}catch(Je){if(new RegExp(types_1$2.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(Je&&Je.kind&&Je.kind.ExecutionError))return{codeStatus:Ze,stateStatus:types_1$2.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1$2.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(Je&&Je.kind&&Je.kind.ExecutionError))return{codeStatus:Ze,stateStatus:types_1$2.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1$2.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(Je&&Je.kind&&Je.kind.ExecutionError))return{codeStatus:Ze,stateStatus:types_1$2.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1$2.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(Je&&Je.message))return{codeStatus:MultisigCodeStatus.INVALID_CODE,stateStatus:types_1$2.MultisigStateStatus.UNKNOWN_STATE};throw Je}})}deleteRequest(ge){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall$1("delete_request",{request_id:ge},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter$9(this,void 0,void 0,function*(){const ge=yield this.getRequestIds();ge.length&&(yield Promise.all(ge.map(Se=>this.deleteRequest(Se))))})}deleteUnconfirmedRequests(){const ge=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$9(this,void 0,void 0,function*(){const Se=yield this.getRequestIds(),{requestId:Ne}=this.getRequest();for(const Ze of Se)if(Ze!=Ne)try{yield ge.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall$1("delete_request",{request_id:Ze},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}catch{utils_1$4.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter$9(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1$1.MULTISIG_STORAGE_KEY)||"{}"):storageFallback[constants_1$1.MULTISIG_STORAGE_KEY]}setRequest(ge){if(this.storage)return this.storage.setItem(constants_1$1.MULTISIG_STORAGE_KEY,JSON.stringify(ge));storageFallback[constants_1$1.MULTISIG_STORAGE_KEY]=ge}}account_multisig$1.AccountMultisig=AccountMultisig;const convertPKForContract=pe=>pe.toString().replace("ed25519:",""),convertActions=(pe,ge,Se)=>pe.map(Ne=>{const Ze=Ne.enum,{gas:Je,publicKey:Xe,methodName:vt,args:gt,deposit:kt,accessKey:mt,code:xt}=Ne[Ze],fr={type:Ze[0].toUpperCase()+Ze.substr(1),gas:Je&&Je.toString()||void 0,public_key:Xe&&convertPKForContract(Xe)||void 0,method_name:vt,args:gt&&Buffer$F.from(gt).toString("base64")||void 0,code:xt&&Buffer$F.from(xt).toString("base64")||void 0,amount:kt&&kt.toString()||void 0,deposit:kt&&kt.toString()||"0",permission:void 0};if(mt&&(Se===ge&&mt.permission.enum!=="fullAccess"&&(fr.permission={receiver_id:ge,allowance:constants_1$1.MULTISIG_ALLOWANCE.toString(),method_names:constants_1$1.MULTISIG_CHANGE_METHODS}),mt.permission.enum==="functionCall")){const{receiverId:ar,methodNames:gr,allowance:wr}=mt.permission.functionCall;fr.permission={receiver_id:ar,allowance:wr&&wr.toString()||void 0,method_names:gr}}return fr});var __awaiter$8=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(account_2fa,"__esModule",{value:!0}),account_2fa.Account2FA=void 0;const crypto_1$3=lib$a,types_1$1=lib$8,providers_1$2=lib$6,transactions_1$1=lib$5,utils_1$3=lib$9,account_multisig_1=account_multisig$1,constants_1=constants$1,types_2=types$1,{addKey,deleteKey,deployContract,fullAccessKey,functionCall,functionCallAccessKey}=transactions_1$1.actionCreators;class Account2FA extends account_multisig_1.AccountMultisig{constructor(ge,Se,Ne){super(ge,Se,Ne),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=Ne.helperUrl||this.helperUrl,this.storage=Ne.storage,this.sendCode=Ne.sendCode||this.sendCodeDefault,this.getCode=Ne.getCode||this.getCodeDefault,this.verifyCode=Ne.verifyCode||this.verifyCodeDefault,this.onConfirmResult=Ne.onConfirmResult}signAndSendTransaction({receiverId:ge,actions:Se}){const Ne=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$8(this,void 0,void 0,function*(){yield Ne.signAndSendTransaction.call(this,{receiverId:ge,actions:Se}),yield this.sendCode();const Ze=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(Ze)),Ze})}deployMultisig(ge){const Se=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter$8(this,void 0,void 0,function*(){const{accountId:Ne}=this,Ze=(yield this.getRecoveryMethods()).data.filter(({kind:xt,publicKey:fr})=>(xt==="phrase"||xt==="ledger")&&fr!==null).map(xt=>xt.publicKey),Je=(yield this.getAccessKeys()).filter(({public_key:xt,access_key:{permission:fr}})=>fr==="FullAccess"&&!Ze.includes(xt)).map(xt=>xt.public_key).map(toPK),Xe=toPK((yield this.postSignedJson("/2fa/getAccessKey",{accountId:Ne})).publicKey),vt=Buffer$F.from(JSON.stringify({num_confirmations:2})),gt=[...Je.map(xt=>deleteKey(xt)),...Je.map(xt=>addKey(xt,functionCallAccessKey(Ne,constants_1.MULTISIG_CHANGE_METHODS,null))),addKey(Xe,functionCallAccessKey(Ne,constants_1.MULTISIG_CONFIRM_METHODS,null)),deployContract(ge)],kt=gt.concat(functionCall("new",vt,constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT));utils_1$3.Logger.log("deploying multisig contract for",Ne);const{stateStatus:mt}=yield this.checkMultisigCodeAndStateStatus(ge);switch(mt){case types_2.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield Se.signAndSendTransactionWithAccount.call(this,Ne,kt);case types_2.MultisigStateStatus.VALID_STATE:return yield Se.signAndSendTransactionWithAccount.call(this,Ne,gt);case types_2.MultisigStateStatus.INVALID_STATE:throw new types_1$1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1$1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:ge,cleanupContractBytes:Se}){return __awaiter$8(this,void 0,void 0,function*(){let Ne=[];Se&&(yield this.deleteAllRequests().catch(vt=>vt),Ne=yield this.get2faDisableCleanupActions(Se));const Ze=yield this.get2faDisableKeyConversionActions(),Je=[...Ne,...Ze,deployContract(ge)],Xe=yield this.findAccessKey(this.accountId,Je);if(Xe&&Xe.accessKey&&Xe.accessKey.permission!=="FullAccess")throw new types_1$1.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,Je)})}get2faDisableCleanupActions(ge){return __awaiter$8(this,void 0,void 0,function*(){const Se=yield this.viewState("").catch(Ze=>{const Je=Ze.cause&&Ze.cause.name;if(Je=="NO_CONTRACT_CODE")return[];throw Je=="TOO_LARGE_CONTRACT_STATE"?new types_1$1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):Ze}),Ne=Se.map(({key:Ze})=>Ze.toString("base64"));return Se.length?[deployContract(ge),functionCall("clean",{keys:Ne},constants_1.MULTISIG_GAS,BigInt("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter$8(this,void 0,void 0,function*(){const{accountId:ge}=this,Ne=(yield this.getAccessKeys()).filter(({access_key:Je})=>Je.permission!=="FullAccess").filter(({access_key:Je})=>{const Xe=Je.permission.FunctionCall;return Xe.receiver_id===ge&&Xe.method_names.length===4&&Xe.method_names.includes("add_request_and_confirm")}),Ze=crypto_1$3.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:ge})).publicKey);return[deleteKey(Ze),...Ne.map(({public_key:Je})=>deleteKey(crypto_1$3.PublicKey.from(Je))),...Ne.map(({public_key:Je})=>addKey(crypto_1$3.PublicKey.from(Je),fullAccessKey()))]})}disable(ge,Se){return __awaiter$8(this,void 0,void 0,function*(){const{stateStatus:Ne}=yield this.checkMultisigCodeAndStateStatus();if(Ne!==types_2.MultisigStateStatus.VALID_STATE&&Ne!==types_2.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1$1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let Ze;yield this.deleteAllRequests().catch(vt=>Ze=vt);const Xe=[...yield this.get2faDisableCleanupActions(Se).catch(vt=>{throw vt.type==="ContractHasExistingState"&&Ze||vt}),...yield this.get2faDisableKeyConversionActions(),deployContract(ge)];return utils_1$3.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:Xe})})}sendCodeDefault(){return __awaiter$8(this,void 0,void 0,function*(){const{accountId:ge}=this,{requestId:Se}=this.getRequest(),Ne=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:ge,method:Ne,requestId:Se}),Se})}getCodeDefault(){return __awaiter$8(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter$8(this,void 0,void 0,function*(){const ge=yield this.get2faMethod(),Se=yield this.getCode(ge);try{return yield this.verifyCode(Se)}catch(Ne){if(utils_1$3.Logger.warn("Error validating security code:",Ne),Ne.toString().includes("invalid 2fa code provided")||Ne.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw Ne}})}verifyCodeDefault(ge){return __awaiter$8(this,void 0,void 0,function*(){const{accountId:Se}=this,Ne=this.getRequest();if(!Ne)throw new Error("no request pending");const{requestId:Ze}=Ne;return yield this.postSignedJson("/2fa/verify",{accountId:Se,securityCode:ge,requestId:Ze})})}getRecoveryMethods(){return __awaiter$8(this,void 0,void 0,function*(){const{accountId:ge}=this;return{accountId:ge,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:ge})}})}get2faMethod(){return __awaiter$8(this,void 0,void 0,function*(){let{data:ge}=yield this.getRecoveryMethods();if(ge&&ge.length&&(ge=ge.find(Ze=>Ze.kind.indexOf("2fa-")===0)),!ge)return null;const{kind:Se,detail:Ne}=ge;return{kind:Se,detail:Ne}})}signatureFor(){return __awaiter$8(this,void 0,void 0,function*(){const{accountId:ge}=this,Ne=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),Ze=yield this.connection.signer.signMessage(Buffer$F.from(Ne),ge,this.connection.networkId),Je=Buffer$F.from(Ze.signature).toString("base64");return{blockNumber:Ne,blockNumberSignature:Je}})}postSignedJson(ge,Se){return __awaiter$8(this,void 0,void 0,function*(){return yield(0,providers_1$2.fetchJson)(this.helperUrl+ge,JSON.stringify(Object.assign(Object.assign({},Se),yield this.signatureFor())))})}}account_2fa.Account2FA=Account2FA;const toPK=pe=>crypto_1$3.PublicKey.from(pe);var account_creator$1={},__awaiter$7=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(account_creator$1,"__esModule",{value:!0}),account_creator$1.UrlAccountCreator=account_creator$1.LocalAccountCreator=account_creator$1.AccountCreator=void 0;const providers_1$1=lib$6;class AccountCreator{}account_creator$1.AccountCreator=AccountCreator;class LocalAccountCreator extends AccountCreator{constructor(ge,Se){super(),this.masterAccount=ge,this.initialBalance=Se}createAccount(ge,Se){return __awaiter$7(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(ge,Se,this.initialBalance)})}}account_creator$1.LocalAccountCreator=LocalAccountCreator;class UrlAccountCreator extends AccountCreator{constructor(ge,Se){super(),this.connection=ge,this.helperUrl=Se}createAccount(ge,Se){return __awaiter$7(this,void 0,void 0,function*(){yield(0,providers_1$1.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:ge,newAccountPublicKey:Se.toString()}))})}}account_creator$1.UrlAccountCreator=UrlAccountCreator;var connection$1={},lib$2={},in_memory_signer={},sha256$2={},_sha2={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0}),_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function number(pe){if(!Number.isSafeInteger(pe)||pe<0)throw new Error(`Wrong positive integer: ${pe}`)}_assert.number=number;function bool(pe){if(typeof pe!="boolean")throw new Error(`Expected boolean, not ${pe}`)}_assert.bool=bool;function isBytes(pe){return pe instanceof Uint8Array||pe!=null&&typeof pe=="object"&&pe.constructor.name==="Uint8Array"}function bytes(pe,...ge){if(!isBytes(pe))throw new Error("Expected Uint8Array");if(ge.length>0&&!ge.includes(pe.length))throw new Error(`Expected Uint8Array of length ${ge}, not of length=${pe.length}`)}_assert.bytes=bytes;function hash$4(pe){if(typeof pe!="function"||typeof pe.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(pe.outputLen),number(pe.blockLen)}_assert.hash=hash$4;function exists(pe,ge=!0){if(pe.destroyed)throw new Error("Hash instance has been destroyed");if(ge&&pe.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(pe,ge){bytes(pe);const Se=ge.outputLen;if(pe.length<Se)throw new Error(`digestInto() expects output buffer of length at least ${Se}`)}_assert.output=output;const assert$j={number,bool,bytes,hash:hash$4,exists,output};_assert.default=assert$j;var utils$u={},crypto$2={};Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.crypto=void 0,crypto$2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(pe){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(pe,"__esModule",{value:!0}),pe.randomBytes=pe.wrapXOFConstructorWithOpts=pe.wrapConstructorWithOpts=pe.wrapConstructor=pe.checkOpts=pe.Hash=pe.concatBytes=pe.toBytes=pe.utf8ToBytes=pe.asyncLoop=pe.nextTick=pe.hexToBytes=pe.bytesToHex=pe.isLE=pe.rotr=pe.createView=pe.u32=pe.u8=void 0;const ge=crypto$2,Se=jr=>new Uint8Array(jr.buffer,jr.byteOffset,jr.byteLength);pe.u8=Se;const Ne=jr=>new Uint32Array(jr.buffer,jr.byteOffset,Math.floor(jr.byteLength/4));pe.u32=Ne;function Ze(jr){return jr instanceof Uint8Array||jr!=null&&typeof jr=="object"&&jr.constructor.name==="Uint8Array"}const Je=jr=>new DataView(jr.buffer,jr.byteOffset,jr.byteLength);pe.createView=Je;const Xe=(jr,Dr)=>jr<<32-Dr|jr>>>Dr;if(pe.rotr=Xe,pe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!pe.isLE)throw new Error("Non little-endian hardware is not supported");const vt=Array.from({length:256},(jr,Dr)=>Dr.toString(16).padStart(2,"0"));function gt(jr){if(!Ze(jr))throw new Error("Uint8Array expected");let Dr="";for(let Vr=0;Vr<jr.length;Vr++)Dr+=vt[jr[Vr]];return Dr}pe.bytesToHex=gt;const kt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function mt(jr){if(jr>=kt._0&&jr<=kt._9)return jr-kt._0;if(jr>=kt._A&&jr<=kt._F)return jr-(kt._A-10);if(jr>=kt._a&&jr<=kt._f)return jr-(kt._a-10)}function xt(jr){if(typeof jr!="string")throw new Error("hex string expected, got "+typeof jr);const Dr=jr.length,Vr=Dr/2;if(Dr%2)throw new Error("padded hex string expected, got unpadded hex of length "+Dr);const Ir=new Uint8Array(Vr);for(let br=0,Vt=0;br<Vr;br++,Vt+=2){const ht=mt(jr.charCodeAt(Vt)),Ct=mt(jr.charCodeAt(Vt+1));if(ht===void 0||Ct===void 0){const or=jr[Vt]+jr[Vt+1];throw new Error('hex string expected, got non-hex character "'+or+'" at index '+Vt)}Ir[br]=ht*16+Ct}return Ir}pe.hexToBytes=xt;const fr=async()=>{};pe.nextTick=fr;async function ar(jr,Dr,Vr){let Ir=Date.now();for(let br=0;br<jr;br++){Vr(br);const Vt=Date.now()-Ir;Vt>=0&&Vt<Dr||(await(0,pe.nextTick)(),Ir+=Vt)}}pe.asyncLoop=ar;function gr(jr){if(typeof jr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof jr}`);return new Uint8Array(new TextEncoder().encode(jr))}pe.utf8ToBytes=gr;function wr(jr){if(typeof jr=="string"&&(jr=gr(jr)),!Ze(jr))throw new Error(`expected Uint8Array, got ${typeof jr}`);return jr}pe.toBytes=wr;function Er(...jr){let Dr=0;for(let Ir=0;Ir<jr.length;Ir++){const br=jr[Ir];if(!Ze(br))throw new Error("Uint8Array expected");Dr+=br.length}const Vr=new Uint8Array(Dr);for(let Ir=0,br=0;Ir<jr.length;Ir++){const Vt=jr[Ir];Vr.set(Vt,br),br+=Vt.length}return Vr}pe.concatBytes=Er;class _r{clone(){return this._cloneInto()}}pe.Hash=_r;const Sr={}.toString;function Or(jr,Dr){if(Dr!==void 0&&Sr.call(Dr)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(jr,Dr)}pe.checkOpts=Or;function Pr(jr){const Dr=Ir=>jr().update(wr(Ir)).digest(),Vr=jr();return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=()=>jr(),Dr}pe.wrapConstructor=Pr;function kr(jr){const Dr=(Ir,br)=>jr(br).update(wr(Ir)).digest(),Vr=jr({});return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=Ir=>jr(Ir),Dr}pe.wrapConstructorWithOpts=kr;function Ur(jr){const Dr=(Ir,br)=>jr(br).update(wr(Ir)).digest(),Vr=jr({});return Dr.outputLen=Vr.outputLen,Dr.blockLen=Vr.blockLen,Dr.create=Ir=>jr(Ir),Dr}pe.wrapXOFConstructorWithOpts=Ur;function Yr(jr=32){if(ge.crypto&&typeof ge.crypto.getRandomValues=="function")return ge.crypto.getRandomValues(new Uint8Array(jr));throw new Error("crypto.getRandomValues must be defined")}pe.randomBytes=Yr}(utils$u),Object.defineProperty(_sha2,"__esModule",{value:!0}),_sha2.SHA2=void 0;const _assert_js_1=_assert,utils_js_1$1=utils$u;function setBigUint64(pe,ge,Se,Ne){if(typeof pe.setBigUint64=="function")return pe.setBigUint64(ge,Se,Ne);const Ze=BigInt(32),Je=BigInt(4294967295),Xe=Number(Se>>Ze&Je),vt=Number(Se&Je),gt=Ne?4:0,kt=Ne?0:4;pe.setUint32(ge+gt,Xe,Ne),pe.setUint32(ge+kt,vt,Ne)}class SHA2 extends utils_js_1$1.Hash{constructor(ge,Se,Ne,Ze){super(),this.blockLen=ge,this.outputLen=Se,this.padOffset=Ne,this.isLE=Ze,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ge),this.view=(0,utils_js_1$1.createView)(this.buffer)}update(ge){(0,_assert_js_1.exists)(this);const{view:Se,buffer:Ne,blockLen:Ze}=this;ge=(0,utils_js_1$1.toBytes)(ge);const Je=ge.length;for(let Xe=0;Xe<Je;){const vt=Math.min(Ze-this.pos,Je-Xe);if(vt===Ze){const gt=(0,utils_js_1$1.createView)(ge);for(;Ze<=Je-Xe;Xe+=Ze)this.process(gt,Xe);continue}Ne.set(ge.subarray(Xe,Xe+vt),this.pos),this.pos+=vt,Xe+=vt,this.pos===Ze&&(this.process(Se,0),this.pos=0)}return this.length+=ge.length,this.roundClean(),this}digestInto(ge){(0,_assert_js_1.exists)(this),(0,_assert_js_1.output)(ge,this),this.finished=!0;const{buffer:Se,view:Ne,blockLen:Ze,isLE:Je}=this;let{pos:Xe}=this;Se[Xe++]=128,this.buffer.subarray(Xe).fill(0),this.padOffset>Ze-Xe&&(this.process(Ne,0),Xe=0);for(let xt=Xe;xt<Ze;xt++)Se[xt]=0;setBigUint64(Ne,Ze-8,BigInt(this.length*8),Je),this.process(Ne,0);const vt=(0,utils_js_1$1.createView)(ge),gt=this.outputLen;if(gt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const kt=gt/4,mt=this.get();if(kt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let xt=0;xt<kt;xt++)vt.setUint32(4*xt,mt[xt],Je)}digest(){const{buffer:ge,outputLen:Se}=this;this.digestInto(ge);const Ne=ge.slice(0,Se);return this.destroy(),Ne}_cloneInto(ge){ge||(ge=new this.constructor),ge.set(...this.get());const{blockLen:Se,buffer:Ne,length:Ze,finished:Je,destroyed:Xe,pos:vt}=this;return ge.length=Ze,ge.pos=vt,ge.finished=Je,ge.destroyed=Xe,Ze%Se&&ge.buffer.set(Ne),ge}}_sha2.SHA2=SHA2,Object.defineProperty(sha256$2,"__esModule",{value:!0}),sha256$2.sha224=sha256$2.sha256=void 0;const _sha2_js_1=_sha2,utils_js_1=utils$u,Chi=(pe,ge,Se)=>pe&ge^~pe&Se,Maj=(pe,ge,Se)=>pe&ge^pe&Se^ge&Se,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);let SHA256$2=class extends _sha2_js_1.SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:ge,B:Se,C:Ne,D:Ze,E:Je,F:Xe,G:vt,H:gt}=this;return[ge,Se,Ne,Ze,Je,Xe,vt,gt]}set(ge,Se,Ne,Ze,Je,Xe,vt,gt){this.A=ge|0,this.B=Se|0,this.C=Ne|0,this.D=Ze|0,this.E=Je|0,this.F=Xe|0,this.G=vt|0,this.H=gt|0}process(ge,Se){for(let xt=0;xt<16;xt++,Se+=4)SHA256_W[xt]=ge.getUint32(Se,!1);for(let xt=16;xt<64;xt++){const fr=SHA256_W[xt-15],ar=SHA256_W[xt-2],gr=(0,utils_js_1.rotr)(fr,7)^(0,utils_js_1.rotr)(fr,18)^fr>>>3,wr=(0,utils_js_1.rotr)(ar,17)^(0,utils_js_1.rotr)(ar,19)^ar>>>10;SHA256_W[xt]=wr+SHA256_W[xt-7]+gr+SHA256_W[xt-16]|0}let{A:Ne,B:Ze,C:Je,D:Xe,E:vt,F:gt,G:kt,H:mt}=this;for(let xt=0;xt<64;xt++){const fr=(0,utils_js_1.rotr)(vt,6)^(0,utils_js_1.rotr)(vt,11)^(0,utils_js_1.rotr)(vt,25),ar=mt+fr+Chi(vt,gt,kt)+SHA256_K[xt]+SHA256_W[xt]|0,wr=((0,utils_js_1.rotr)(Ne,2)^(0,utils_js_1.rotr)(Ne,13)^(0,utils_js_1.rotr)(Ne,22))+Maj(Ne,Ze,Je)|0;mt=kt,kt=gt,gt=vt,vt=Xe+ar|0,Xe=Je,Je=Ze,Ze=Ne,Ne=ar+wr|0}Ne=Ne+this.A|0,Ze=Ze+this.B|0,Je=Je+this.C|0,Xe=Xe+this.D|0,vt=vt+this.E|0,gt=gt+this.F|0,kt=kt+this.G|0,mt=mt+this.H|0,this.set(Ne,Ze,Je,Xe,vt,gt,kt,mt)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SHA224$1=class extends SHA256$2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};sha256$2.sha256=(0,utils_js_1.wrapConstructor)(()=>new SHA256$2),sha256$2.sha224=(0,utils_js_1.wrapConstructor)(()=>new SHA224$1);var signer$1={};Object.defineProperty(signer$1,"__esModule",{value:!0}),signer$1.Signer=void 0;class Signer{}signer$1.Signer=Signer;var __awaiter$6=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(in_memory_signer,"__esModule",{value:!0}),in_memory_signer.InMemorySigner=void 0;const crypto_1$2=lib$a,keystores_1=lib$b,sha256_1=sha256$2,signer_1=signer$1;class InMemorySigner extends signer_1.Signer{constructor(ge){super(),this.keyStore=ge}static fromKeyPair(ge,Se,Ne){return __awaiter$6(this,void 0,void 0,function*(){const Ze=new keystores_1.InMemoryKeyStore;return yield Ze.setKey(ge,Se,Ne),new InMemorySigner(Ze)})}createKey(ge,Se){return __awaiter$6(this,void 0,void 0,function*(){const Ne=crypto_1$2.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(Se,ge,Ne),Ne.getPublicKey()})}getPublicKey(ge,Se){return __awaiter$6(this,void 0,void 0,function*(){const Ne=yield this.keyStore.getKey(Se,ge);return Ne===null?null:Ne.getPublicKey()})}signMessage(ge,Se,Ne){return __awaiter$6(this,void 0,void 0,function*(){const Ze=new Uint8Array((0,sha256_1.sha256)(ge));if(!Se)throw new Error("InMemorySigner requires provided account id");const Je=yield this.keyStore.getKey(Ne,Se);if(Je===null)throw new Error(`Key for ${Se} not found in ${Ne}`);return Je.sign(Ze)})}toString(){return`InMemorySigner(${this.keyStore})`}}in_memory_signer.InMemorySigner=InMemorySigner,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Signer=pe.InMemorySigner=void 0;var ge=in_memory_signer;Object.defineProperty(pe,"InMemorySigner",{enumerable:!0,get:function(){return ge.InMemorySigner}});var Se=signer$1;Object.defineProperty(pe,"Signer",{enumerable:!0,get:function(){return Se.Signer}})}(lib$2),Object.defineProperty(connection$1,"__esModule",{value:!0}),connection$1.Connection=void 0;const signers_1=lib$2,providers_1=lib$6;function getProvider(pe){switch(pe.type){case void 0:return pe;case"JsonRpcProvider":return new providers_1.JsonRpcProvider(Object.assign({},pe.args));case"FailoverRpcProvider":{const ge=((pe==null?void 0:pe.args)||[]).map(Se=>new providers_1.JsonRpcProvider(Se));return new providers_1.FailoverRpcProvider(ge)}default:throw new Error(`Unknown provider type ${pe.type}`)}}function getSigner(pe){switch(pe.type){case void 0:return pe;case"InMemorySigner":return new signers_1.InMemorySigner(pe.keyStore);default:throw new Error(`Unknown signer type ${pe.type}`)}}class Connection{constructor(ge,Se,Ne,Ze){this.networkId=ge,this.provider=Se,this.signer=Ne,this.jsvmAccountId=Ze}getConnection(){return this}static fromConfig(ge){const Se=getProvider(ge.provider),Ne=getSigner(ge.signer);return new Connection(ge.networkId,Se,Ne,ge.jsvmAccountId)}}connection$1.Connection=Connection;var contract$1={},localViewExecution={},storage={},lru={exports:{}};(function(pe,ge){(function(Se,Ne){Ne(ge)})(commonjsGlobal$1,function(Se){const Ne=Symbol("newer"),Ze=Symbol("older");class Je{constructor(xt,fr){typeof xt!="number"&&(fr=xt,xt=0),this.size=0,this.limit=xt,this.oldest=this.newest=void 0,this._keymap=new Map,fr&&(this.assign(fr),xt<1&&(this.limit=this.size))}_markEntryAsUsed(xt){xt!==this.newest&&(xt[Ne]&&(xt===this.oldest&&(this.oldest=xt[Ne]),xt[Ne][Ze]=xt[Ze]),xt[Ze]&&(xt[Ze][Ne]=xt[Ne]),xt[Ne]=void 0,xt[Ze]=this.newest,this.newest&&(this.newest[Ne]=xt),this.newest=xt)}assign(xt){let fr,ar=this.limit||Number.MAX_VALUE;this._keymap.clear();let gr=xt[Symbol.iterator]();for(let wr=gr.next();!wr.done;wr=gr.next()){let Er=new Xe(wr.value[0],wr.value[1]);if(this._keymap.set(Er.key,Er),fr?(fr[Ne]=Er,Er[Ze]=fr):this.oldest=Er,fr=Er,ar--==0)throw new Error("overflow")}this.newest=fr,this.size=this._keymap.size}get(xt){var fr=this._keymap.get(xt);return fr?(this._markEntryAsUsed(fr),fr.value):void 0}set(xt,fr){var ar=this._keymap.get(xt);return ar?(ar.value=fr,this._markEntryAsUsed(ar),this):(this._keymap.set(xt,ar=new Xe(xt,fr)),this.newest?(this.newest[Ne]=ar,ar[Ze]=this.newest):this.oldest=ar,this.newest=ar,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var xt=this.oldest;if(xt)return this.oldest[Ne]?(this.oldest=this.oldest[Ne],this.oldest[Ze]=void 0):(this.oldest=void 0,this.newest=void 0),xt[Ne]=xt[Ze]=void 0,this._keymap.delete(xt.key),--this.size,[xt.key,xt.value]}find(xt){let fr=this._keymap.get(xt);return fr?fr.value:void 0}has(xt){return this._keymap.has(xt)}delete(xt){var fr=this._keymap.get(xt);return fr?(this._keymap.delete(fr.key),fr[Ne]&&fr[Ze]?(fr[Ze][Ne]=fr[Ne],fr[Ne][Ze]=fr[Ze]):fr[Ne]?(fr[Ne][Ze]=void 0,this.oldest=fr[Ne]):fr[Ze]?(fr[Ze][Ne]=void 0,this.newest=fr[Ze]):this.oldest=this.newest=void 0,this.size--,fr.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new gt(this.oldest)}values(){return new kt(this.oldest)}entries(){return this}[Symbol.iterator](){return new vt(this.oldest)}forEach(xt,fr){typeof fr!="object"&&(fr=this);let ar=this.oldest;for(;ar;)xt.call(fr,ar.value,ar.key,this),ar=ar[Ne]}toJSON(){for(var xt=new Array(this.size),fr=0,ar=this.oldest;ar;)xt[fr++]={key:ar.key,value:ar.value},ar=ar[Ne];return xt}toString(){for(var xt="",fr=this.oldest;fr;)xt+=String(fr.key)+":"+fr.value,fr=fr[Ne],fr&&(xt+=" < ");return xt}}Se.LRUMap=Je;function Xe(mt,xt){this.key=mt,this.value=xt,this[Ne]=void 0,this[Ze]=void 0}function vt(mt){this.entry=mt}vt.prototype[Symbol.iterator]=function(){return this},vt.prototype.next=function(){let mt=this.entry;return mt?(this.entry=mt[Ne],{done:!1,value:[mt.key,mt.value]}):{done:!0,value:void 0}};function gt(mt){this.entry=mt}gt.prototype[Symbol.iterator]=function(){return this},gt.prototype.next=function(){let mt=this.entry;return mt?(this.entry=mt[Ne],{done:!1,value:mt.key}):{done:!0,value:void 0}};function kt(mt){this.entry=mt}kt.prototype[Symbol.iterator]=function(){return this},kt.prototype.next=function(){let mt=this.entry;return mt?(this.entry=mt[Ne],{done:!1,value:mt.value}):{done:!0,value:void 0}}})})(lru,lru.exports);var lruExports=lru.exports;Object.defineProperty(storage,"__esModule",{value:!0}),storage.Storage=void 0;const lru_map_1=lruExports;class Storage{constructor(ge={max:Storage.MAX_ELEMENTS}){this.cache=new lru_map_1.LRUMap(ge.max),this.blockHeights=new Map}load(ge){if(!("blockId"in ge))return;let Ne=ge.blockId;return Ne.toString().length==44&&(Ne=this.blockHeights.get(Ne.toString())),this.cache.get(Ne)}save(ge,{blockHeight:Se,blockTimestamp:Ne,contractCode:Ze,contractState:Je}){this.blockHeights.set(ge,Se),this.cache.set(Se,{blockHeight:Se,blockTimestamp:Ne,contractCode:Ze,contractState:Je})}}storage.Storage=Storage,Storage.MAX_ELEMENTS=100;var runtime={},cryptoBrowserify={},Buffer$B=safeBufferExports$1.Buffer,Transform$9=requireReadableBrowser().Transform,inherits$t=inherits_browserExports;function throwIfNotStringOrBuffer$1(pe,ge){if(!Buffer$B.isBuffer(pe)&&typeof pe!="string")throw new TypeError(ge+" must be a string or a buffer")}function HashBase$5(pe){Transform$9.call(this),this._block=Buffer$B.allocUnsafe(pe),this._blockSize=pe,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$t(HashBase$5,Transform$9),HashBase$5.prototype._transform=function(pe,ge,Se){var Ne=null;try{this.update(pe,ge)}catch(Ze){Ne=Ze}Se(Ne)},HashBase$5.prototype._flush=function(pe){var ge=null;try{this.push(this.digest())}catch(Se){ge=Se}pe(ge)},HashBase$5.prototype.update=function(pe,ge){if(throwIfNotStringOrBuffer$1(pe,"Data"),this._finalized)throw new Error("Digest already called");Buffer$B.isBuffer(pe)||(pe=Buffer$B.from(pe,ge));for(var Se=this._block,Ne=0;this._blockOffset+pe.length-Ne>=this._blockSize;){for(var Ze=this._blockOffset;Ze<this._blockSize;)Se[Ze++]=pe[Ne++];this._update(),this._blockOffset=0}for(;Ne<pe.length;)Se[this._blockOffset++]=pe[Ne++];for(var Je=0,Xe=pe.length*8;Xe>0;++Je)this._length[Je]+=Xe,Xe=this._length[Je]/4294967296|0,Xe>0&&(this._length[Je]-=4294967296*Xe);return this},HashBase$5.prototype._update=function(){throw new Error("_update is not implemented")},HashBase$5.prototype.digest=function(pe){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ge=this._digest();pe!==void 0&&(ge=ge.toString(pe)),this._block.fill(0),this._blockOffset=0;for(var Se=0;Se<4;++Se)this._length[Se]=0;return ge},HashBase$5.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase$2=HashBase$5,inherits$s=inherits_browserExports,HashBase$4=hashBase$2,Buffer$A=safeBufferExports$1.Buffer,ARRAY16$1=new Array(16);function MD5$3(){HashBase$4.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$s(MD5$3,HashBase$4),MD5$3.prototype._update=function(){for(var pe=ARRAY16$1,ge=0;ge<16;++ge)pe[ge]=this._block.readInt32LE(ge*4);var Se=this._a,Ne=this._b,Ze=this._c,Je=this._d;Se=fnF(Se,Ne,Ze,Je,pe[0],3614090360,7),Je=fnF(Je,Se,Ne,Ze,pe[1],3905402710,12),Ze=fnF(Ze,Je,Se,Ne,pe[2],606105819,17),Ne=fnF(Ne,Ze,Je,Se,pe[3],3250441966,22),Se=fnF(Se,Ne,Ze,Je,pe[4],4118548399,7),Je=fnF(Je,Se,Ne,Ze,pe[5],1200080426,12),Ze=fnF(Ze,Je,Se,Ne,pe[6],2821735955,17),Ne=fnF(Ne,Ze,Je,Se,pe[7],4249261313,22),Se=fnF(Se,Ne,Ze,Je,pe[8],1770035416,7),Je=fnF(Je,Se,Ne,Ze,pe[9],2336552879,12),Ze=fnF(Ze,Je,Se,Ne,pe[10],4294925233,17),Ne=fnF(Ne,Ze,Je,Se,pe[11],2304563134,22),Se=fnF(Se,Ne,Ze,Je,pe[12],1804603682,7),Je=fnF(Je,Se,Ne,Ze,pe[13],4254626195,12),Ze=fnF(Ze,Je,Se,Ne,pe[14],2792965006,17),Ne=fnF(Ne,Ze,Je,Se,pe[15],1236535329,22),Se=fnG(Se,Ne,Ze,Je,pe[1],4129170786,5),Je=fnG(Je,Se,Ne,Ze,pe[6],3225465664,9),Ze=fnG(Ze,Je,Se,Ne,pe[11],643717713,14),Ne=fnG(Ne,Ze,Je,Se,pe[0],3921069994,20),Se=fnG(Se,Ne,Ze,Je,pe[5],3593408605,5),Je=fnG(Je,Se,Ne,Ze,pe[10],38016083,9),Ze=fnG(Ze,Je,Se,Ne,pe[15],3634488961,14),Ne=fnG(Ne,Ze,Je,Se,pe[4],3889429448,20),Se=fnG(Se,Ne,Ze,Je,pe[9],568446438,5),Je=fnG(Je,Se,Ne,Ze,pe[14],3275163606,9),Ze=fnG(Ze,Je,Se,Ne,pe[3],4107603335,14),Ne=fnG(Ne,Ze,Je,Se,pe[8],1163531501,20),Se=fnG(Se,Ne,Ze,Je,pe[13],2850285829,5),Je=fnG(Je,Se,Ne,Ze,pe[2],4243563512,9),Ze=fnG(Ze,Je,Se,Ne,pe[7],1735328473,14),Ne=fnG(Ne,Ze,Je,Se,pe[12],2368359562,20),Se=fnH(Se,Ne,Ze,Je,pe[5],4294588738,4),Je=fnH(Je,Se,Ne,Ze,pe[8],2272392833,11),Ze=fnH(Ze,Je,Se,Ne,pe[11],1839030562,16),Ne=fnH(Ne,Ze,Je,Se,pe[14],4259657740,23),Se=fnH(Se,Ne,Ze,Je,pe[1],2763975236,4),Je=fnH(Je,Se,Ne,Ze,pe[4],1272893353,11),Ze=fnH(Ze,Je,Se,Ne,pe[7],4139469664,16),Ne=fnH(Ne,Ze,Je,Se,pe[10],3200236656,23),Se=fnH(Se,Ne,Ze,Je,pe[13],681279174,4),Je=fnH(Je,Se,Ne,Ze,pe[0],3936430074,11),Ze=fnH(Ze,Je,Se,Ne,pe[3],3572445317,16),Ne=fnH(Ne,Ze,Je,Se,pe[6],76029189,23),Se=fnH(Se,Ne,Ze,Je,pe[9],3654602809,4),Je=fnH(Je,Se,Ne,Ze,pe[12],3873151461,11),Ze=fnH(Ze,Je,Se,Ne,pe[15],530742520,16),Ne=fnH(Ne,Ze,Je,Se,pe[2],3299628645,23),Se=fnI(Se,Ne,Ze,Je,pe[0],4096336452,6),Je=fnI(Je,Se,Ne,Ze,pe[7],1126891415,10),Ze=fnI(Ze,Je,Se,Ne,pe[14],2878612391,15),Ne=fnI(Ne,Ze,Je,Se,pe[5],4237533241,21),Se=fnI(Se,Ne,Ze,Je,pe[12],1700485571,6),Je=fnI(Je,Se,Ne,Ze,pe[3],2399980690,10),Ze=fnI(Ze,Je,Se,Ne,pe[10],4293915773,15),Ne=fnI(Ne,Ze,Je,Se,pe[1],2240044497,21),Se=fnI(Se,Ne,Ze,Je,pe[8],1873313359,6),Je=fnI(Je,Se,Ne,Ze,pe[15],4264355552,10),Ze=fnI(Ze,Je,Se,Ne,pe[6],2734768916,15),Ne=fnI(Ne,Ze,Je,Se,pe[13],1309151649,21),Se=fnI(Se,Ne,Ze,Je,pe[4],4149444226,6),Je=fnI(Je,Se,Ne,Ze,pe[11],3174756917,10),Ze=fnI(Ze,Je,Se,Ne,pe[2],718787259,15),Ne=fnI(Ne,Ze,Je,Se,pe[9],3951481745,21),this._a=this._a+Se|0,this._b=this._b+Ne|0,this._c=this._c+Ze|0,this._d=this._d+Je|0},MD5$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var pe=Buffer$A.allocUnsafe(16);return pe.writeInt32LE(this._a,0),pe.writeInt32LE(this._b,4),pe.writeInt32LE(this._c,8),pe.writeInt32LE(this._d,12),pe};function rotl$2(pe,ge){return pe<<ge|pe>>>32-ge}function fnF(pe,ge,Se,Ne,Ze,Je,Xe){return rotl$2(pe+(ge&Se|~ge&Ne)+Ze+Je|0,Xe)+ge|0}function fnG(pe,ge,Se,Ne,Ze,Je,Xe){return rotl$2(pe+(ge&Ne|Se&~Ne)+Ze+Je|0,Xe)+ge|0}function fnH(pe,ge,Se,Ne,Ze,Je,Xe){return rotl$2(pe+(ge^Se^Ne)+Ze+Je|0,Xe)+ge|0}function fnI(pe,ge,Se,Ne,Ze,Je,Xe){return rotl$2(pe+(Se^(ge|~Ne))+Ze+Je|0,Xe)+ge|0}var md5_js=MD5$3,Buffer$z=safeBufferExports$1.Buffer,Transform$8=requireReadableBrowser().Transform,inherits$r=inherits_browserExports;function throwIfNotStringOrBuffer(pe,ge){if(!Buffer$z.isBuffer(pe)&&typeof pe!="string")throw new TypeError(ge+" must be a string or a buffer")}function HashBase$3(pe){Transform$8.call(this),this._block=Buffer$z.allocUnsafe(pe),this._blockSize=pe,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$r(HashBase$3,Transform$8),HashBase$3.prototype._transform=function(pe,ge,Se){var Ne=null;try{this.update(pe,ge)}catch(Ze){Ne=Ze}Se(Ne)},HashBase$3.prototype._flush=function(pe){var ge=null;try{this.push(this.digest())}catch(Se){ge=Se}pe(ge)},HashBase$3.prototype.update=function(pe,ge){if(throwIfNotStringOrBuffer(pe,"Data"),this._finalized)throw new Error("Digest already called");Buffer$z.isBuffer(pe)||(pe=Buffer$z.from(pe,ge));for(var Se=this._block,Ne=0;this._blockOffset+pe.length-Ne>=this._blockSize;){for(var Ze=this._blockOffset;Ze<this._blockSize;)Se[Ze++]=pe[Ne++];this._update(),this._blockOffset=0}for(;Ne<pe.length;)Se[this._blockOffset++]=pe[Ne++];for(var Je=0,Xe=pe.length*8;Xe>0;++Je)this._length[Je]+=Xe,Xe=this._length[Je]/4294967296|0,Xe>0&&(this._length[Je]-=4294967296*Xe);return this},HashBase$3.prototype._update=function(){throw new Error("_update is not implemented")},HashBase$3.prototype.digest=function(pe){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ge=this._digest();pe!==void 0&&(ge=ge.toString(pe)),this._block.fill(0),this._blockOffset=0;for(var Se=0;Se<4;++Se)this._length[Se]=0;return ge},HashBase$3.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase$1=HashBase$3,Buffer$y=require$$1$2.Buffer,inherits$q=inherits_browserExports,HashBase$2=hashBase$1,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr$1=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$5(){HashBase$2.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$q(RIPEMD160$5,HashBase$2),RIPEMD160$5.prototype._update=function(){for(var pe=ARRAY16,ge=0;ge<16;++ge)pe[ge]=this._block.readInt32LE(ge*4);for(var Se=this._a|0,Ne=this._b|0,Ze=this._c|0,Je=this._d|0,Xe=this._e|0,vt=this._a|0,gt=this._b|0,kt=this._c|0,mt=this._d|0,xt=this._e|0,fr=0;fr<80;fr+=1){var ar,gr;fr<16?(ar=fn1$1(Se,Ne,Ze,Je,Xe,pe[zl[fr]],hl[0],sl[fr]),gr=fn5$1(vt,gt,kt,mt,xt,pe[zr[fr]],hr$1[0],sr$1[fr])):fr<32?(ar=fn2$1(Se,Ne,Ze,Je,Xe,pe[zl[fr]],hl[1],sl[fr]),gr=fn4$1(vt,gt,kt,mt,xt,pe[zr[fr]],hr$1[1],sr$1[fr])):fr<48?(ar=fn3$1(Se,Ne,Ze,Je,Xe,pe[zl[fr]],hl[2],sl[fr]),gr=fn3$1(vt,gt,kt,mt,xt,pe[zr[fr]],hr$1[2],sr$1[fr])):fr<64?(ar=fn4$1(Se,Ne,Ze,Je,Xe,pe[zl[fr]],hl[3],sl[fr]),gr=fn2$1(vt,gt,kt,mt,xt,pe[zr[fr]],hr$1[3],sr$1[fr])):(ar=fn5$1(Se,Ne,Ze,Je,Xe,pe[zl[fr]],hl[4],sl[fr]),gr=fn1$1(vt,gt,kt,mt,xt,pe[zr[fr]],hr$1[4],sr$1[fr])),Se=Xe,Xe=Je,Je=rotl$1(Ze,10),Ze=Ne,Ne=ar,vt=xt,xt=mt,mt=rotl$1(kt,10),kt=gt,gt=gr}var wr=this._b+Ze+mt|0;this._b=this._c+Je+xt|0,this._c=this._d+Xe+vt|0,this._d=this._e+Se+gt|0,this._e=this._a+Ne+kt|0,this._a=wr},RIPEMD160$5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var pe=Buffer$y.alloc?Buffer$y.alloc(20):new Buffer$y(20);return pe.writeInt32LE(this._a,0),pe.writeInt32LE(this._b,4),pe.writeInt32LE(this._c,8),pe.writeInt32LE(this._d,12),pe.writeInt32LE(this._e,16),pe};function rotl$1(pe,ge){return pe<<ge|pe>>>32-ge}function fn1$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl$1(pe+(ge^Se^Ne)+Je+Xe|0,vt)+Ze|0}function fn2$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl$1(pe+(ge&Se|~ge&Ne)+Je+Xe|0,vt)+Ze|0}function fn3$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl$1(pe+((ge|~Se)^Ne)+Je+Xe|0,vt)+Ze|0}function fn4$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl$1(pe+(ge&Ne|Se&~Ne)+Je+Xe|0,vt)+Ze|0}function fn5$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl$1(pe+(ge^(Se|~Ne))+Je+Xe|0,vt)+Ze|0}var ripemd160$1=RIPEMD160$5,sha_js={exports:{}},toString$2={}.toString,isarray$1=Array.isArray||function(pe){return toString$2.call(pe)=="[object Array]"},$TypeError=requireType(),callBound=callBound$6,$typedArrayBuffer=callBound("TypedArray.prototype.buffer",!0),isTypedArray=isTypedArray$1,typedArrayBuffer$1=$typedArrayBuffer||function(ge){if(!isTypedArray(ge))throw new $TypeError("Not a Typed Array");return ge.buffer},Buffer$x=safeBufferExports$1.Buffer,isArray$1=isarray$1,typedArrayBuffer=typedArrayBuffer$1,isView$1=ArrayBuffer.isView||function(ge){try{return typedArrayBuffer(ge),!0}catch{return!1}},useUint8Array$2=typeof Uint8Array<"u",useArrayBuffer$2=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",useFromArrayBuffer=useArrayBuffer$2&&(Buffer$x.prototype instanceof Uint8Array||Buffer$x.TYPED_ARRAY_SUPPORT),toBuffer$5=function(ge,Se){if(ge instanceof Buffer$x)return ge;if(typeof ge=="string")return Buffer$x.from(ge,Se);if(useArrayBuffer$2&&isView$1(ge)){if(ge.byteLength===0)return Buffer$x.alloc(0);if(useFromArrayBuffer){var Ne=Buffer$x.from(ge.buffer,ge.byteOffset,ge.byteLength);if(Ne.byteLength===ge.byteLength)return Ne}var Ze=ge instanceof Uint8Array?ge:new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),Je=Buffer$x.from(Ze);if(Je.length===ge.byteLength)return Je}if(useUint8Array$2&&ge instanceof Uint8Array)return Buffer$x.from(ge);var Xe=isArray$1(ge);if(Xe)for(var vt=0;vt<ge.length;vt+=1){var gt=ge[vt];if(typeof gt!="number"||gt<0||gt>255||~~gt!==gt)throw new RangeError("Array items must be numbers in the range 0-255.")}if(Xe||Buffer$x.isBuffer(ge)&&ge.constructor&&typeof ge.constructor.isBuffer=="function"&&ge.constructor.isBuffer(ge))return Buffer$x.from(ge);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},Buffer$w=safeBufferExports$1.Buffer,toBuffer$4=toBuffer$5;function Hash$7(pe,ge){this._block=Buffer$w.alloc(pe),this._finalSize=ge,this._blockSize=pe,this._len=0}Hash$7.prototype.update=function(pe,ge){pe=toBuffer$4(pe,ge||"utf8");for(var Se=this._block,Ne=this._blockSize,Ze=pe.length,Je=this._len,Xe=0;Xe<Ze;){for(var vt=Je%Ne,gt=Math.min(Ze-Xe,Ne-vt),kt=0;kt<gt;kt++)Se[vt+kt]=pe[Xe+kt];Je+=gt,Xe+=gt,Je%Ne===0&&this._update(Se)}return this._len+=Ze,this},Hash$7.prototype.digest=function(pe){var ge=this._len%this._blockSize;this._block[ge]=128,this._block.fill(0,ge+1),ge>=this._finalSize&&(this._update(this._block),this._block.fill(0));var Se=this._len*8;if(Se<=4294967295)this._block.writeUInt32BE(Se,this._blockSize-4);else{var Ne=(Se&4294967295)>>>0,Ze=(Se-Ne)/4294967296;this._block.writeUInt32BE(Ze,this._blockSize-8),this._block.writeUInt32BE(Ne,this._blockSize-4)}this._update(this._block);var Je=this._hash();return pe?Je.toString(pe):Je},Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$3=Hash$7,inherits$p=inherits_browserExports,Hash$6=hash$3,Buffer$v=safeBufferExports$1.Buffer,K$6=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$6.call(this,64,56)}inherits$p(Sha,Hash$6),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(pe){return pe<<5|pe>>>27}function rotl30$1(pe){return pe<<30|pe>>>2}function ft$1(pe,ge,Se,Ne){return pe===0?ge&Se|~ge&Ne:pe===2?ge&Se|ge&Ne|Se&Ne:ge^Se^Ne}Sha.prototype._update=function(pe){for(var ge=this._w,Se=this._a|0,Ne=this._b|0,Ze=this._c|0,Je=this._d|0,Xe=this._e|0,vt=0;vt<16;++vt)ge[vt]=pe.readInt32BE(vt*4);for(;vt<80;++vt)ge[vt]=ge[vt-3]^ge[vt-8]^ge[vt-14]^ge[vt-16];for(var gt=0;gt<80;++gt){var kt=~~(gt/20),mt=rotl5$1(Se)+ft$1(kt,Ne,Ze,Je)+Xe+ge[gt]+K$6[kt]|0;Xe=Je,Je=Ze,Ze=rotl30$1(Ne),Ne=Se,Se=mt}this._a=Se+this._a|0,this._b=Ne+this._b|0,this._c=Ze+this._c|0,this._d=Je+this._d|0,this._e=Xe+this._e|0},Sha.prototype._hash=function(){var pe=Buffer$v.allocUnsafe(20);return pe.writeInt32BE(this._a|0,0),pe.writeInt32BE(this._b|0,4),pe.writeInt32BE(this._c|0,8),pe.writeInt32BE(this._d|0,12),pe.writeInt32BE(this._e|0,16),pe};var sha$4=Sha,inherits$o=inherits_browserExports,Hash$5=hash$3,Buffer$u=safeBufferExports$1.Buffer,K$5=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$5.call(this,64,56)}inherits$o(Sha1,Hash$5),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(pe){return pe<<1|pe>>>31}function rotl5(pe){return pe<<5|pe>>>27}function rotl30(pe){return pe<<30|pe>>>2}function ft(pe,ge,Se,Ne){return pe===0?ge&Se|~ge&Ne:pe===2?ge&Se|ge&Ne|Se&Ne:ge^Se^Ne}Sha1.prototype._update=function(pe){for(var ge=this._w,Se=this._a|0,Ne=this._b|0,Ze=this._c|0,Je=this._d|0,Xe=this._e|0,vt=0;vt<16;++vt)ge[vt]=pe.readInt32BE(vt*4);for(;vt<80;++vt)ge[vt]=rotl1(ge[vt-3]^ge[vt-8]^ge[vt-14]^ge[vt-16]);for(var gt=0;gt<80;++gt){var kt=~~(gt/20),mt=rotl5(Se)+ft(kt,Ne,Ze,Je)+Xe+ge[gt]+K$5[kt]|0;Xe=Je,Je=Ze,Ze=rotl30(Ne),Ne=Se,Se=mt}this._a=Se+this._a|0,this._b=Ne+this._b|0,this._c=Ze+this._c|0,this._d=Je+this._d|0,this._e=Xe+this._e|0},Sha1.prototype._hash=function(){var pe=Buffer$u.allocUnsafe(20);return pe.writeInt32BE(this._a|0,0),pe.writeInt32BE(this._b|0,4),pe.writeInt32BE(this._c|0,8),pe.writeInt32BE(this._d|0,12),pe.writeInt32BE(this._e|0,16),pe};var sha1=Sha1,inherits$n=inherits_browserExports,Hash$4=hash$3,Buffer$t=safeBufferExports$1.Buffer,K$4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$4.call(this,64,56)}inherits$n(Sha256$1,Hash$4),Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(pe,ge,Se){return Se^pe&(ge^Se)}function maj$1(pe,ge,Se){return pe&ge|Se&(pe|ge)}function sigma0$1(pe){return(pe>>>2|pe<<30)^(pe>>>13|pe<<19)^(pe>>>22|pe<<10)}function sigma1$1(pe){return(pe>>>6|pe<<26)^(pe>>>11|pe<<21)^(pe>>>25|pe<<7)}function gamma0(pe){return(pe>>>7|pe<<25)^(pe>>>18|pe<<14)^pe>>>3}function gamma1(pe){return(pe>>>17|pe<<15)^(pe>>>19|pe<<13)^pe>>>10}Sha256$1.prototype._update=function(pe){for(var ge=this._w,Se=this._a|0,Ne=this._b|0,Ze=this._c|0,Je=this._d|0,Xe=this._e|0,vt=this._f|0,gt=this._g|0,kt=this._h|0,mt=0;mt<16;++mt)ge[mt]=pe.readInt32BE(mt*4);for(;mt<64;++mt)ge[mt]=gamma1(ge[mt-2])+ge[mt-7]+gamma0(ge[mt-15])+ge[mt-16]|0;for(var xt=0;xt<64;++xt){var fr=kt+sigma1$1(Xe)+ch(Xe,vt,gt)+K$4[xt]+ge[xt]|0,ar=sigma0$1(Se)+maj$1(Se,Ne,Ze)|0;kt=gt,gt=vt,vt=Xe,Xe=Je+fr|0,Je=Ze,Ze=Ne,Ne=Se,Se=fr+ar|0}this._a=Se+this._a|0,this._b=Ne+this._b|0,this._c=Ze+this._c|0,this._d=Je+this._d|0,this._e=Xe+this._e|0,this._f=vt+this._f|0,this._g=gt+this._g|0,this._h=kt+this._h|0},Sha256$1.prototype._hash=function(){var pe=Buffer$t.allocUnsafe(32);return pe.writeInt32BE(this._a,0),pe.writeInt32BE(this._b,4),pe.writeInt32BE(this._c,8),pe.writeInt32BE(this._d,12),pe.writeInt32BE(this._e,16),pe.writeInt32BE(this._f,20),pe.writeInt32BE(this._g,24),pe.writeInt32BE(this._h,28),pe};var sha256$1=Sha256$1,inherits$m=inherits_browserExports,Sha256=sha256$1,Hash$3=hash$3,Buffer$s=safeBufferExports$1.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$3.call(this,64,56)}inherits$m(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var pe=Buffer$s.allocUnsafe(28);return pe.writeInt32BE(this._a,0),pe.writeInt32BE(this._b,4),pe.writeInt32BE(this._c,8),pe.writeInt32BE(this._d,12),pe.writeInt32BE(this._e,16),pe.writeInt32BE(this._f,20),pe.writeInt32BE(this._g,24),pe};var sha224$1=Sha224,inherits$l=inherits_browserExports,Hash$2=hash$3,Buffer$r=safeBufferExports$1.Buffer,K$3=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$2.call(this,128,112)}inherits$l(Sha512,Hash$2),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(pe,ge,Se){return Se^pe&(ge^Se)}function maj(pe,ge,Se){return pe&ge|Se&(pe|ge)}function sigma0(pe,ge){return(pe>>>28|ge<<4)^(ge>>>2|pe<<30)^(ge>>>7|pe<<25)}function sigma1(pe,ge){return(pe>>>14|ge<<18)^(pe>>>18|ge<<14)^(ge>>>9|pe<<23)}function Gamma0(pe,ge){return(pe>>>1|ge<<31)^(pe>>>8|ge<<24)^pe>>>7}function Gamma0l(pe,ge){return(pe>>>1|ge<<31)^(pe>>>8|ge<<24)^(pe>>>7|ge<<25)}function Gamma1(pe,ge){return(pe>>>19|ge<<13)^(ge>>>29|pe<<3)^pe>>>6}function Gamma1l(pe,ge){return(pe>>>19|ge<<13)^(ge>>>29|pe<<3)^(pe>>>6|ge<<26)}function getCarry(pe,ge){return pe>>>0<ge>>>0?1:0}Sha512.prototype._update=function(pe){for(var ge=this._w,Se=this._ah|0,Ne=this._bh|0,Ze=this._ch|0,Je=this._dh|0,Xe=this._eh|0,vt=this._fh|0,gt=this._gh|0,kt=this._hh|0,mt=this._al|0,xt=this._bl|0,fr=this._cl|0,ar=this._dl|0,gr=this._el|0,wr=this._fl|0,Er=this._gl|0,_r=this._hl|0,Sr=0;Sr<32;Sr+=2)ge[Sr]=pe.readInt32BE(Sr*4),ge[Sr+1]=pe.readInt32BE(Sr*4+4);for(;Sr<160;Sr+=2){var Or=ge[Sr-30],Pr=ge[Sr-15*2+1],kr=Gamma0(Or,Pr),Ur=Gamma0l(Pr,Or);Or=ge[Sr-2*2],Pr=ge[Sr-2*2+1];var Yr=Gamma1(Or,Pr),jr=Gamma1l(Pr,Or),Dr=ge[Sr-7*2],Vr=ge[Sr-7*2+1],Ir=ge[Sr-16*2],br=ge[Sr-16*2+1],Vt=Ur+Vr|0,ht=kr+Dr+getCarry(Vt,Ur)|0;Vt=Vt+jr|0,ht=ht+Yr+getCarry(Vt,jr)|0,Vt=Vt+br|0,ht=ht+Ir+getCarry(Vt,br)|0,ge[Sr]=ht,ge[Sr+1]=Vt}for(var Ct=0;Ct<160;Ct+=2){ht=ge[Ct],Vt=ge[Ct+1];var or=maj(Se,Ne,Ze),pr=maj(mt,xt,fr),lr=sigma0(Se,mt),vr=sigma0(mt,Se),tr=sigma1(Xe,gr),ur=sigma1(gr,Xe),Ft=K$3[Ct],yr=K$3[Ct+1],Nr=Ch(Xe,vt,gt),qr=Ch(gr,wr,Er),Rr=_r+ur|0,Ar=kt+tr+getCarry(Rr,_r)|0;Rr=Rr+qr|0,Ar=Ar+Nr+getCarry(Rr,qr)|0,Rr=Rr+yr|0,Ar=Ar+Ft+getCarry(Rr,yr)|0,Rr=Rr+Vt|0,Ar=Ar+ht+getCarry(Rr,Vt)|0;var Tr=vr+pr|0,Kr=lr+or+getCarry(Tr,vr)|0;kt=gt,_r=Er,gt=vt,Er=wr,vt=Xe,wr=gr,gr=ar+Rr|0,Xe=Je+Ar+getCarry(gr,ar)|0,Je=Ze,ar=fr,Ze=Ne,fr=xt,Ne=Se,xt=mt,mt=Rr+Tr|0,Se=Ar+Kr+getCarry(mt,Rr)|0}this._al=this._al+mt|0,this._bl=this._bl+xt|0,this._cl=this._cl+fr|0,this._dl=this._dl+ar|0,this._el=this._el+gr|0,this._fl=this._fl+wr|0,this._gl=this._gl+Er|0,this._hl=this._hl+_r|0,this._ah=this._ah+Se+getCarry(this._al,mt)|0,this._bh=this._bh+Ne+getCarry(this._bl,xt)|0,this._ch=this._ch+Ze+getCarry(this._cl,fr)|0,this._dh=this._dh+Je+getCarry(this._dl,ar)|0,this._eh=this._eh+Xe+getCarry(this._el,gr)|0,this._fh=this._fh+vt+getCarry(this._fl,wr)|0,this._gh=this._gh+gt+getCarry(this._gl,Er)|0,this._hh=this._hh+kt+getCarry(this._hl,_r)|0},Sha512.prototype._hash=function(){var pe=Buffer$r.allocUnsafe(64);function ge(Se,Ne,Ze){pe.writeInt32BE(Se,Ze),pe.writeInt32BE(Ne,Ze+4)}return ge(this._ah,this._al,0),ge(this._bh,this._bl,8),ge(this._ch,this._cl,16),ge(this._dh,this._dl,24),ge(this._eh,this._el,32),ge(this._fh,this._fl,40),ge(this._gh,this._gl,48),ge(this._hh,this._hl,56),pe};var sha512$1=Sha512,inherits$k=inherits_browserExports,SHA512$2=sha512$1,Hash$1=hash$3,Buffer$q=safeBufferExports$1.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash$1.call(this,128,112)}inherits$k(Sha384,SHA512$2),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var pe=Buffer$q.allocUnsafe(48);function ge(Se,Ne,Ze){pe.writeInt32BE(Se,Ze),pe.writeInt32BE(Ne,Ze+4)}return ge(this._ah,this._al,0),ge(this._bh,this._bl,8),ge(this._ch,this._cl,16),ge(this._dh,this._dl,24),ge(this._eh,this._el,32),ge(this._fh,this._fl,40),pe};var sha384$1=Sha384;(function(pe){pe.exports=function(Se){var Ne=Se.toLowerCase(),Ze=pe.exports[Ne];if(!Ze)throw new Error(Ne+" is not supported (we accept pull requests)");return new Ze},pe.exports.sha=sha$4,pe.exports.sha1=sha1,pe.exports.sha224=sha224$1,pe.exports.sha256=sha256$1,pe.exports.sha384=sha384$1,pe.exports.sha512=sha512$1})(sha_js);var sha_jsExports=sha_js.exports,streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits$j=inherits_browserExports;inherits$j(Stream,EE),Stream.Readable=require_stream_readable$1(),Stream.Writable=require_stream_writable$1(),Stream.Duplex=require_stream_duplex$1(),Stream.Transform=require_stream_transform(),Stream.PassThrough=require_stream_passthrough(),Stream.finished=requireEndOfStream(),Stream.pipeline=requirePipeline(),Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(pe,ge){var Se=this;function Ne(mt){pe.writable&&pe.write(mt)===!1&&Se.pause&&Se.pause()}Se.on("data",Ne);function Ze(){Se.readable&&Se.resume&&Se.resume()}pe.on("drain",Ze),!pe._isStdio&&(!ge||ge.end!==!1)&&(Se.on("end",Xe),Se.on("close",vt));var Je=!1;function Xe(){Je||(Je=!0,pe.end())}function vt(){Je||(Je=!0,typeof pe.destroy=="function"&&pe.destroy())}function gt(mt){if(kt(),EE.listenerCount(this,"error")===0)throw mt}Se.on("error",gt),pe.on("error",gt);function kt(){Se.removeListener("data",Ne),pe.removeListener("drain",Ze),Se.removeListener("end",Xe),Se.removeListener("close",vt),Se.removeListener("error",gt),pe.removeListener("error",gt),Se.removeListener("end",kt),Se.removeListener("close",kt),pe.removeListener("close",kt)}return Se.on("end",kt),Se.on("close",kt),pe.on("close",kt),pe.emit("pipe",Se),pe};var Buffer$p=safeBufferExports$1.Buffer,Transform$7=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$i=inherits_browserExports;function CipherBase$1(pe){Transform$7.call(this),this.hashMode=typeof pe=="string",this.hashMode?this[pe]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$i(CipherBase$1,Transform$7);var useUint8Array$1=typeof Uint8Array<"u",useArrayBuffer$1=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer$p.prototype instanceof Uint8Array||Buffer$p.TYPED_ARRAY_SUPPORT);function toBuffer$3(pe,ge){if(pe instanceof Buffer$p)return pe;if(typeof pe=="string")return Buffer$p.from(pe,ge);if(useArrayBuffer$1&&ArrayBuffer.isView(pe)){if(pe.byteLength===0)return Buffer$p.alloc(0);var Se=Buffer$p.from(pe.buffer,pe.byteOffset,pe.byteLength);if(Se.byteLength===pe.byteLength)return Se}if(useUint8Array$1&&pe instanceof Uint8Array||Buffer$p.isBuffer(pe)&&pe.constructor&&typeof pe.constructor.isBuffer=="function"&&pe.constructor.isBuffer(pe))return Buffer$p.from(pe);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase$1.prototype.update=function(pe,ge,Se){var Ne=toBuffer$3(pe,ge),Ze=this._update(Ne);return this.hashMode?this:(Se&&(Ze=this._toString(Ze,Se)),Ze)},CipherBase$1.prototype.setAutoPadding=function(){},CipherBase$1.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase$1.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase$1.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase$1.prototype._transform=function(pe,ge,Se){var Ne;try{this.hashMode?this._update(pe):this.push(this._update(pe))}catch(Ze){Ne=Ze}finally{Se(Ne)}},CipherBase$1.prototype._flush=function(pe){var ge;try{this.push(this.__final())}catch(Se){ge=Se}pe(ge)},CipherBase$1.prototype._finalOrDigest=function(pe){var ge=this.__final()||Buffer$p.alloc(0);return pe&&(ge=this._toString(ge,pe,!0)),ge},CipherBase$1.prototype._toString=function(pe,ge,Se){if(this._decoder||(this._decoder=new StringDecoder(ge),this._encoding=ge),this._encoding!==ge)throw new Error("cant switch encodings");var Ne=this._decoder.write(pe);return Se&&(Ne+=this._decoder.end()),Ne};var cipherBase=CipherBase$1,inherits$h=inherits_browserExports,MD5$2=md5_js,RIPEMD160$4=ripemd160$1,sha$3=sha_jsExports,Base$5=cipherBase;function Hash(pe){Base$5.call(this,"digest"),this._hash=pe}inherits$h(Hash,Base$5),Hash.prototype._update=function(pe){this._hash.update(pe)},Hash.prototype._final=function(){return this._hash.digest()};var browser$a=function(ge){return ge=ge.toLowerCase(),ge==="md5"?new MD5$2:ge==="rmd160"||ge==="ripemd160"?new RIPEMD160$4:new Hash(sha$3(ge))},inherits$g=inherits_browserExports,Buffer$o=safeBufferExports$1.Buffer,Base$4=cipherBase,ZEROS$2=Buffer$o.alloc(128),blocksize=64;function Hmac$3(pe,ge){Base$4.call(this,"digest"),typeof ge=="string"&&(ge=Buffer$o.from(ge)),this._alg=pe,this._key=ge,ge.length>blocksize?ge=pe(ge):ge.length<blocksize&&(ge=Buffer$o.concat([ge,ZEROS$2],blocksize));for(var Se=this._ipad=Buffer$o.allocUnsafe(blocksize),Ne=this._opad=Buffer$o.allocUnsafe(blocksize),Ze=0;Ze<blocksize;Ze++)Se[Ze]=ge[Ze]^54,Ne[Ze]=ge[Ze]^92;this._hash=[Se]}inherits$g(Hmac$3,Base$4),Hmac$3.prototype._update=function(pe){this._hash.push(pe)},Hmac$3.prototype._final=function(){var pe=this._alg(Buffer$o.concat(this._hash));return this._alg(Buffer$o.concat([this._opad,pe]))};var legacy=Hmac$3,MD5$1=md5_js,md5$3=function(pe){return new MD5$1().update(pe).digest()},inherits$f=inherits_browserExports,Legacy=legacy,Base$3=cipherBase,Buffer$n=safeBufferExports$1.Buffer,md5$2=md5$3,RIPEMD160$3=ripemd160$1,sha$2=sha_jsExports,ZEROS$1=Buffer$n.alloc(128);function Hmac$2(pe,ge){Base$3.call(this,"digest"),typeof ge=="string"&&(ge=Buffer$n.from(ge));var Se=pe==="sha512"||pe==="sha384"?128:64;if(this._alg=pe,this._key=ge,ge.length>Se){var Ne=pe==="rmd160"?new RIPEMD160$3:sha$2(pe);ge=Ne.update(ge).digest()}else ge.length<Se&&(ge=Buffer$n.concat([ge,ZEROS$1],Se));for(var Ze=this._ipad=Buffer$n.allocUnsafe(Se),Je=this._opad=Buffer$n.allocUnsafe(Se),Xe=0;Xe<Se;Xe++)Ze[Xe]=ge[Xe]^54,Je[Xe]=ge[Xe]^92;this._hash=pe==="rmd160"?new RIPEMD160$3:sha$2(pe),this._hash.update(Ze)}inherits$f(Hmac$2,Base$3),Hmac$2.prototype._update=function(pe){this._hash.update(pe)},Hmac$2.prototype._final=function(){var pe=this._hash.digest(),ge=this._alg==="rmd160"?new RIPEMD160$3:sha$2(this._alg);return ge.update(this._opad).update(pe).digest()};var browser$9=function(ge,Se){return ge=ge.toLowerCase(),ge==="rmd160"||ge==="ripemd160"?new Hmac$2("rmd160",Se):ge==="md5"?new Legacy(md5$2,Se):new Hmac$2(ge,Se)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos=require$$6,browser$8={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(pe,ge){if(typeof pe!="number")throw new TypeError("Iterations not a number");if(pe<0)throw new TypeError("Bad iterations");if(typeof ge!="number")throw new TypeError("Key length not a number");if(ge<0||ge>MAX_ALLOC||ge!==ge)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var pVersionMajor=parseInt(process$1$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,intSize=4,zeroBuffer=new Buffer$F(intSize);zeroBuffer.fill(0);var charSize=8,hashSize=16;function toArray$2(pe){if(pe.length%intSize!==0){var ge=pe.length+(intSize-pe.length%intSize);pe=Buffer$F.concat([pe,zeroBuffer],ge)}for(var Se=new Array(pe.length>>>2),Ne=0,Ze=0;Ne<pe.length;Ne+=intSize,Ze++)Se[Ze]=pe.readInt32LE(Ne);return Se}var makeHash$1=function(ge,Se){var Ne=Se(toArray$2(ge),ge.length*charSize);ge=new Buffer$F(hashSize);for(var Ze=0;Ze<Ne.length;Ze++)ge.writeInt32LE(Ne[Ze],Ze<<2,!0);return ge},makeHash=makeHash$1;function core_md5(pe,ge){pe[ge>>5]|=128<<ge%32,pe[(ge+64>>>9<<4)+14]=ge;for(var Se=1732584193,Ne=-271733879,Ze=-1732584194,Je=271733878,Xe=0;Xe<pe.length;Xe+=16){var vt=Se,gt=Ne,kt=Ze,mt=Je;Se=md5_ff(Se,Ne,Ze,Je,pe[Xe+0],7,-680876936),Je=md5_ff(Je,Se,Ne,Ze,pe[Xe+1],12,-389564586),Ze=md5_ff(Ze,Je,Se,Ne,pe[Xe+2],17,606105819),Ne=md5_ff(Ne,Ze,Je,Se,pe[Xe+3],22,-1044525330),Se=md5_ff(Se,Ne,Ze,Je,pe[Xe+4],7,-176418897),Je=md5_ff(Je,Se,Ne,Ze,pe[Xe+5],12,1200080426),Ze=md5_ff(Ze,Je,Se,Ne,pe[Xe+6],17,-1473231341),Ne=md5_ff(Ne,Ze,Je,Se,pe[Xe+7],22,-45705983),Se=md5_ff(Se,Ne,Ze,Je,pe[Xe+8],7,1770035416),Je=md5_ff(Je,Se,Ne,Ze,pe[Xe+9],12,-1958414417),Ze=md5_ff(Ze,Je,Se,Ne,pe[Xe+10],17,-42063),Ne=md5_ff(Ne,Ze,Je,Se,pe[Xe+11],22,-1990404162),Se=md5_ff(Se,Ne,Ze,Je,pe[Xe+12],7,1804603682),Je=md5_ff(Je,Se,Ne,Ze,pe[Xe+13],12,-40341101),Ze=md5_ff(Ze,Je,Se,Ne,pe[Xe+14],17,-1502002290),Ne=md5_ff(Ne,Ze,Je,Se,pe[Xe+15],22,1236535329),Se=md5_gg(Se,Ne,Ze,Je,pe[Xe+1],5,-165796510),Je=md5_gg(Je,Se,Ne,Ze,pe[Xe+6],9,-1069501632),Ze=md5_gg(Ze,Je,Se,Ne,pe[Xe+11],14,643717713),Ne=md5_gg(Ne,Ze,Je,Se,pe[Xe+0],20,-373897302),Se=md5_gg(Se,Ne,Ze,Je,pe[Xe+5],5,-701558691),Je=md5_gg(Je,Se,Ne,Ze,pe[Xe+10],9,38016083),Ze=md5_gg(Ze,Je,Se,Ne,pe[Xe+15],14,-660478335),Ne=md5_gg(Ne,Ze,Je,Se,pe[Xe+4],20,-405537848),Se=md5_gg(Se,Ne,Ze,Je,pe[Xe+9],5,568446438),Je=md5_gg(Je,Se,Ne,Ze,pe[Xe+14],9,-1019803690),Ze=md5_gg(Ze,Je,Se,Ne,pe[Xe+3],14,-187363961),Ne=md5_gg(Ne,Ze,Je,Se,pe[Xe+8],20,1163531501),Se=md5_gg(Se,Ne,Ze,Je,pe[Xe+13],5,-1444681467),Je=md5_gg(Je,Se,Ne,Ze,pe[Xe+2],9,-51403784),Ze=md5_gg(Ze,Je,Se,Ne,pe[Xe+7],14,1735328473),Ne=md5_gg(Ne,Ze,Je,Se,pe[Xe+12],20,-1926607734),Se=md5_hh(Se,Ne,Ze,Je,pe[Xe+5],4,-378558),Je=md5_hh(Je,Se,Ne,Ze,pe[Xe+8],11,-2022574463),Ze=md5_hh(Ze,Je,Se,Ne,pe[Xe+11],16,1839030562),Ne=md5_hh(Ne,Ze,Je,Se,pe[Xe+14],23,-35309556),Se=md5_hh(Se,Ne,Ze,Je,pe[Xe+1],4,-1530992060),Je=md5_hh(Je,Se,Ne,Ze,pe[Xe+4],11,1272893353),Ze=md5_hh(Ze,Je,Se,Ne,pe[Xe+7],16,-155497632),Ne=md5_hh(Ne,Ze,Je,Se,pe[Xe+10],23,-1094730640),Se=md5_hh(Se,Ne,Ze,Je,pe[Xe+13],4,681279174),Je=md5_hh(Je,Se,Ne,Ze,pe[Xe+0],11,-358537222),Ze=md5_hh(Ze,Je,Se,Ne,pe[Xe+3],16,-722521979),Ne=md5_hh(Ne,Ze,Je,Se,pe[Xe+6],23,76029189),Se=md5_hh(Se,Ne,Ze,Je,pe[Xe+9],4,-640364487),Je=md5_hh(Je,Se,Ne,Ze,pe[Xe+12],11,-421815835),Ze=md5_hh(Ze,Je,Se,Ne,pe[Xe+15],16,530742520),Ne=md5_hh(Ne,Ze,Je,Se,pe[Xe+2],23,-995338651),Se=md5_ii(Se,Ne,Ze,Je,pe[Xe+0],6,-198630844),Je=md5_ii(Je,Se,Ne,Ze,pe[Xe+7],10,1126891415),Ze=md5_ii(Ze,Je,Se,Ne,pe[Xe+14],15,-1416354905),Ne=md5_ii(Ne,Ze,Je,Se,pe[Xe+5],21,-57434055),Se=md5_ii(Se,Ne,Ze,Je,pe[Xe+12],6,1700485571),Je=md5_ii(Je,Se,Ne,Ze,pe[Xe+3],10,-1894986606),Ze=md5_ii(Ze,Je,Se,Ne,pe[Xe+10],15,-1051523),Ne=md5_ii(Ne,Ze,Je,Se,pe[Xe+1],21,-2054922799),Se=md5_ii(Se,Ne,Ze,Je,pe[Xe+8],6,1873313359),Je=md5_ii(Je,Se,Ne,Ze,pe[Xe+15],10,-30611744),Ze=md5_ii(Ze,Je,Se,Ne,pe[Xe+6],15,-1560198380),Ne=md5_ii(Ne,Ze,Je,Se,pe[Xe+13],21,1309151649),Se=md5_ii(Se,Ne,Ze,Je,pe[Xe+4],6,-145523070),Je=md5_ii(Je,Se,Ne,Ze,pe[Xe+11],10,-1120210379),Ze=md5_ii(Ze,Je,Se,Ne,pe[Xe+2],15,718787259),Ne=md5_ii(Ne,Ze,Je,Se,pe[Xe+9],21,-343485551),Se=safe_add(Se,vt),Ne=safe_add(Ne,gt),Ze=safe_add(Ze,kt),Je=safe_add(Je,mt)}return[Se,Ne,Ze,Je]}function md5_cmn(pe,ge,Se,Ne,Ze,Je){return safe_add(bit_rol(safe_add(safe_add(ge,pe),safe_add(Ne,Je)),Ze),Se)}function md5_ff(pe,ge,Se,Ne,Ze,Je,Xe){return md5_cmn(ge&Se|~ge&Ne,pe,ge,Ze,Je,Xe)}function md5_gg(pe,ge,Se,Ne,Ze,Je,Xe){return md5_cmn(ge&Ne|Se&~Ne,pe,ge,Ze,Je,Xe)}function md5_hh(pe,ge,Se,Ne,Ze,Je,Xe){return md5_cmn(ge^Se^Ne,pe,ge,Ze,Je,Xe)}function md5_ii(pe,ge,Se,Ne,Ze,Je,Xe){return md5_cmn(Se^(ge|~Ne),pe,ge,Ze,Je,Xe)}function safe_add(pe,ge){var Se=(pe&65535)+(ge&65535),Ne=(pe>>16)+(ge>>16)+(Se>>16);return Ne<<16|Se&65535}function bit_rol(pe,ge){return pe<<ge|pe>>>32-ge}var md5$1=function(ge){return makeHash(ge,core_md5)},Transform$6=streamBrowserify.Transform,inherits$e=inherits_browserExports;function HashBase$1(pe){Transform$6.call(this),this._block=new Buffer$F(pe),this._blockSize=pe,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$e(HashBase$1,Transform$6),HashBase$1.prototype._transform=function(pe,ge,Se){var Ne=null;try{ge!=="buffer"&&(pe=new Buffer$F(pe,ge)),this.update(pe)}catch(Ze){Ne=Ze}Se(Ne)},HashBase$1.prototype._flush=function(pe){var ge=null;try{this.push(this._digest())}catch(Se){ge=Se}pe(ge)},HashBase$1.prototype.update=function(pe,ge){if(!Buffer$F.isBuffer(pe)&&typeof pe!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer$F.isBuffer(pe)||(pe=new Buffer$F(pe,ge||"binary"));for(var Se=this._block,Ne=0;this._blockOffset+pe.length-Ne>=this._blockSize;){for(var Ze=this._blockOffset;Ze<this._blockSize;)Se[Ze++]=pe[Ne++];this._update(),this._blockOffset=0}for(;Ne<pe.length;)Se[this._blockOffset++]=pe[Ne++];for(var Je=0,Xe=pe.length*8;Xe>0;++Je)this._length[Je]+=Xe,Xe=this._length[Je]/4294967296|0,Xe>0&&(this._length[Je]-=4294967296*Xe);return this},HashBase$1.prototype._update=function(pe){throw new Error("_update is not implemented")},HashBase$1.prototype.digest=function(pe){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ge=this._digest();return pe!==void 0&&(ge=ge.toString(pe)),ge},HashBase$1.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$1,inherits$d=inherits_browserExports,HashBase=hashBase;function RIPEMD160$2(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$d(RIPEMD160$2,HashBase),RIPEMD160$2.prototype._update=function(){for(var pe=new Array(16),ge=0;ge<16;++ge)pe[ge]=this._block.readInt32LE(ge*4);var Se=this._a,Ne=this._b,Ze=this._c,Je=this._d,Xe=this._e;Se=fn1(Se,Ne,Ze,Je,Xe,pe[0],0,11),Ze=rotl(Ze,10),Xe=fn1(Xe,Se,Ne,Ze,Je,pe[1],0,14),Ne=rotl(Ne,10),Je=fn1(Je,Xe,Se,Ne,Ze,pe[2],0,15),Se=rotl(Se,10),Ze=fn1(Ze,Je,Xe,Se,Ne,pe[3],0,12),Xe=rotl(Xe,10),Ne=fn1(Ne,Ze,Je,Xe,Se,pe[4],0,5),Je=rotl(Je,10),Se=fn1(Se,Ne,Ze,Je,Xe,pe[5],0,8),Ze=rotl(Ze,10),Xe=fn1(Xe,Se,Ne,Ze,Je,pe[6],0,7),Ne=rotl(Ne,10),Je=fn1(Je,Xe,Se,Ne,Ze,pe[7],0,9),Se=rotl(Se,10),Ze=fn1(Ze,Je,Xe,Se,Ne,pe[8],0,11),Xe=rotl(Xe,10),Ne=fn1(Ne,Ze,Je,Xe,Se,pe[9],0,13),Je=rotl(Je,10),Se=fn1(Se,Ne,Ze,Je,Xe,pe[10],0,14),Ze=rotl(Ze,10),Xe=fn1(Xe,Se,Ne,Ze,Je,pe[11],0,15),Ne=rotl(Ne,10),Je=fn1(Je,Xe,Se,Ne,Ze,pe[12],0,6),Se=rotl(Se,10),Ze=fn1(Ze,Je,Xe,Se,Ne,pe[13],0,7),Xe=rotl(Xe,10),Ne=fn1(Ne,Ze,Je,Xe,Se,pe[14],0,9),Je=rotl(Je,10),Se=fn1(Se,Ne,Ze,Je,Xe,pe[15],0,8),Ze=rotl(Ze,10),Xe=fn2(Xe,Se,Ne,Ze,Je,pe[7],1518500249,7),Ne=rotl(Ne,10),Je=fn2(Je,Xe,Se,Ne,Ze,pe[4],1518500249,6),Se=rotl(Se,10),Ze=fn2(Ze,Je,Xe,Se,Ne,pe[13],1518500249,8),Xe=rotl(Xe,10),Ne=fn2(Ne,Ze,Je,Xe,Se,pe[1],1518500249,13),Je=rotl(Je,10),Se=fn2(Se,Ne,Ze,Je,Xe,pe[10],1518500249,11),Ze=rotl(Ze,10),Xe=fn2(Xe,Se,Ne,Ze,Je,pe[6],1518500249,9),Ne=rotl(Ne,10),Je=fn2(Je,Xe,Se,Ne,Ze,pe[15],1518500249,7),Se=rotl(Se,10),Ze=fn2(Ze,Je,Xe,Se,Ne,pe[3],1518500249,15),Xe=rotl(Xe,10),Ne=fn2(Ne,Ze,Je,Xe,Se,pe[12],1518500249,7),Je=rotl(Je,10),Se=fn2(Se,Ne,Ze,Je,Xe,pe[0],1518500249,12),Ze=rotl(Ze,10),Xe=fn2(Xe,Se,Ne,Ze,Je,pe[9],1518500249,15),Ne=rotl(Ne,10),Je=fn2(Je,Xe,Se,Ne,Ze,pe[5],1518500249,9),Se=rotl(Se,10),Ze=fn2(Ze,Je,Xe,Se,Ne,pe[2],1518500249,11),Xe=rotl(Xe,10),Ne=fn2(Ne,Ze,Je,Xe,Se,pe[14],1518500249,7),Je=rotl(Je,10),Se=fn2(Se,Ne,Ze,Je,Xe,pe[11],1518500249,13),Ze=rotl(Ze,10),Xe=fn2(Xe,Se,Ne,Ze,Je,pe[8],1518500249,12),Ne=rotl(Ne,10),Je=fn3(Je,Xe,Se,Ne,Ze,pe[3],1859775393,11),Se=rotl(Se,10),Ze=fn3(Ze,Je,Xe,Se,Ne,pe[10],1859775393,13),Xe=rotl(Xe,10),Ne=fn3(Ne,Ze,Je,Xe,Se,pe[14],1859775393,6),Je=rotl(Je,10),Se=fn3(Se,Ne,Ze,Je,Xe,pe[4],1859775393,7),Ze=rotl(Ze,10),Xe=fn3(Xe,Se,Ne,Ze,Je,pe[9],1859775393,14),Ne=rotl(Ne,10),Je=fn3(Je,Xe,Se,Ne,Ze,pe[15],1859775393,9),Se=rotl(Se,10),Ze=fn3(Ze,Je,Xe,Se,Ne,pe[8],1859775393,13),Xe=rotl(Xe,10),Ne=fn3(Ne,Ze,Je,Xe,Se,pe[1],1859775393,15),Je=rotl(Je,10),Se=fn3(Se,Ne,Ze,Je,Xe,pe[2],1859775393,14),Ze=rotl(Ze,10),Xe=fn3(Xe,Se,Ne,Ze,Je,pe[7],1859775393,8),Ne=rotl(Ne,10),Je=fn3(Je,Xe,Se,Ne,Ze,pe[0],1859775393,13),Se=rotl(Se,10),Ze=fn3(Ze,Je,Xe,Se,Ne,pe[6],1859775393,6),Xe=rotl(Xe,10),Ne=fn3(Ne,Ze,Je,Xe,Se,pe[13],1859775393,5),Je=rotl(Je,10),Se=fn3(Se,Ne,Ze,Je,Xe,pe[11],1859775393,12),Ze=rotl(Ze,10),Xe=fn3(Xe,Se,Ne,Ze,Je,pe[5],1859775393,7),Ne=rotl(Ne,10),Je=fn3(Je,Xe,Se,Ne,Ze,pe[12],1859775393,5),Se=rotl(Se,10),Ze=fn4(Ze,Je,Xe,Se,Ne,pe[1],2400959708,11),Xe=rotl(Xe,10),Ne=fn4(Ne,Ze,Je,Xe,Se,pe[9],2400959708,12),Je=rotl(Je,10),Se=fn4(Se,Ne,Ze,Je,Xe,pe[11],2400959708,14),Ze=rotl(Ze,10),Xe=fn4(Xe,Se,Ne,Ze,Je,pe[10],2400959708,15),Ne=rotl(Ne,10),Je=fn4(Je,Xe,Se,Ne,Ze,pe[0],2400959708,14),Se=rotl(Se,10),Ze=fn4(Ze,Je,Xe,Se,Ne,pe[8],2400959708,15),Xe=rotl(Xe,10),Ne=fn4(Ne,Ze,Je,Xe,Se,pe[12],2400959708,9),Je=rotl(Je,10),Se=fn4(Se,Ne,Ze,Je,Xe,pe[4],2400959708,8),Ze=rotl(Ze,10),Xe=fn4(Xe,Se,Ne,Ze,Je,pe[13],2400959708,9),Ne=rotl(Ne,10),Je=fn4(Je,Xe,Se,Ne,Ze,pe[3],2400959708,14),Se=rotl(Se,10),Ze=fn4(Ze,Je,Xe,Se,Ne,pe[7],2400959708,5),Xe=rotl(Xe,10),Ne=fn4(Ne,Ze,Je,Xe,Se,pe[15],2400959708,6),Je=rotl(Je,10),Se=fn4(Se,Ne,Ze,Je,Xe,pe[14],2400959708,8),Ze=rotl(Ze,10),Xe=fn4(Xe,Se,Ne,Ze,Je,pe[5],2400959708,6),Ne=rotl(Ne,10),Je=fn4(Je,Xe,Se,Ne,Ze,pe[6],2400959708,5),Se=rotl(Se,10),Ze=fn4(Ze,Je,Xe,Se,Ne,pe[2],2400959708,12),Xe=rotl(Xe,10),Ne=fn5(Ne,Ze,Je,Xe,Se,pe[4],2840853838,9),Je=rotl(Je,10),Se=fn5(Se,Ne,Ze,Je,Xe,pe[0],2840853838,15),Ze=rotl(Ze,10),Xe=fn5(Xe,Se,Ne,Ze,Je,pe[5],2840853838,5),Ne=rotl(Ne,10),Je=fn5(Je,Xe,Se,Ne,Ze,pe[9],2840853838,11),Se=rotl(Se,10),Ze=fn5(Ze,Je,Xe,Se,Ne,pe[7],2840853838,6),Xe=rotl(Xe,10),Ne=fn5(Ne,Ze,Je,Xe,Se,pe[12],2840853838,8),Je=rotl(Je,10),Se=fn5(Se,Ne,Ze,Je,Xe,pe[2],2840853838,13),Ze=rotl(Ze,10),Xe=fn5(Xe,Se,Ne,Ze,Je,pe[10],2840853838,12),Ne=rotl(Ne,10),Je=fn5(Je,Xe,Se,Ne,Ze,pe[14],2840853838,5),Se=rotl(Se,10),Ze=fn5(Ze,Je,Xe,Se,Ne,pe[1],2840853838,12),Xe=rotl(Xe,10),Ne=fn5(Ne,Ze,Je,Xe,Se,pe[3],2840853838,13),Je=rotl(Je,10),Se=fn5(Se,Ne,Ze,Je,Xe,pe[8],2840853838,14),Ze=rotl(Ze,10),Xe=fn5(Xe,Se,Ne,Ze,Je,pe[11],2840853838,11),Ne=rotl(Ne,10),Je=fn5(Je,Xe,Se,Ne,Ze,pe[6],2840853838,8),Se=rotl(Se,10),Ze=fn5(Ze,Je,Xe,Se,Ne,pe[15],2840853838,5),Xe=rotl(Xe,10),Ne=fn5(Ne,Ze,Je,Xe,Se,pe[13],2840853838,6),Je=rotl(Je,10);var vt=this._a,gt=this._b,kt=this._c,mt=this._d,xt=this._e;vt=fn5(vt,gt,kt,mt,xt,pe[5],1352829926,8),kt=rotl(kt,10),xt=fn5(xt,vt,gt,kt,mt,pe[14],1352829926,9),gt=rotl(gt,10),mt=fn5(mt,xt,vt,gt,kt,pe[7],1352829926,9),vt=rotl(vt,10),kt=fn5(kt,mt,xt,vt,gt,pe[0],1352829926,11),xt=rotl(xt,10),gt=fn5(gt,kt,mt,xt,vt,pe[9],1352829926,13),mt=rotl(mt,10),vt=fn5(vt,gt,kt,mt,xt,pe[2],1352829926,15),kt=rotl(kt,10),xt=fn5(xt,vt,gt,kt,mt,pe[11],1352829926,15),gt=rotl(gt,10),mt=fn5(mt,xt,vt,gt,kt,pe[4],1352829926,5),vt=rotl(vt,10),kt=fn5(kt,mt,xt,vt,gt,pe[13],1352829926,7),xt=rotl(xt,10),gt=fn5(gt,kt,mt,xt,vt,pe[6],1352829926,7),mt=rotl(mt,10),vt=fn5(vt,gt,kt,mt,xt,pe[15],1352829926,8),kt=rotl(kt,10),xt=fn5(xt,vt,gt,kt,mt,pe[8],1352829926,11),gt=rotl(gt,10),mt=fn5(mt,xt,vt,gt,kt,pe[1],1352829926,14),vt=rotl(vt,10),kt=fn5(kt,mt,xt,vt,gt,pe[10],1352829926,14),xt=rotl(xt,10),gt=fn5(gt,kt,mt,xt,vt,pe[3],1352829926,12),mt=rotl(mt,10),vt=fn5(vt,gt,kt,mt,xt,pe[12],1352829926,6),kt=rotl(kt,10),xt=fn4(xt,vt,gt,kt,mt,pe[6],1548603684,9),gt=rotl(gt,10),mt=fn4(mt,xt,vt,gt,kt,pe[11],1548603684,13),vt=rotl(vt,10),kt=fn4(kt,mt,xt,vt,gt,pe[3],1548603684,15),xt=rotl(xt,10),gt=fn4(gt,kt,mt,xt,vt,pe[7],1548603684,7),mt=rotl(mt,10),vt=fn4(vt,gt,kt,mt,xt,pe[0],1548603684,12),kt=rotl(kt,10),xt=fn4(xt,vt,gt,kt,mt,pe[13],1548603684,8),gt=rotl(gt,10),mt=fn4(mt,xt,vt,gt,kt,pe[5],1548603684,9),vt=rotl(vt,10),kt=fn4(kt,mt,xt,vt,gt,pe[10],1548603684,11),xt=rotl(xt,10),gt=fn4(gt,kt,mt,xt,vt,pe[14],1548603684,7),mt=rotl(mt,10),vt=fn4(vt,gt,kt,mt,xt,pe[15],1548603684,7),kt=rotl(kt,10),xt=fn4(xt,vt,gt,kt,mt,pe[8],1548603684,12),gt=rotl(gt,10),mt=fn4(mt,xt,vt,gt,kt,pe[12],1548603684,7),vt=rotl(vt,10),kt=fn4(kt,mt,xt,vt,gt,pe[4],1548603684,6),xt=rotl(xt,10),gt=fn4(gt,kt,mt,xt,vt,pe[9],1548603684,15),mt=rotl(mt,10),vt=fn4(vt,gt,kt,mt,xt,pe[1],1548603684,13),kt=rotl(kt,10),xt=fn4(xt,vt,gt,kt,mt,pe[2],1548603684,11),gt=rotl(gt,10),mt=fn3(mt,xt,vt,gt,kt,pe[15],1836072691,9),vt=rotl(vt,10),kt=fn3(kt,mt,xt,vt,gt,pe[5],1836072691,7),xt=rotl(xt,10),gt=fn3(gt,kt,mt,xt,vt,pe[1],1836072691,15),mt=rotl(mt,10),vt=fn3(vt,gt,kt,mt,xt,pe[3],1836072691,11),kt=rotl(kt,10),xt=fn3(xt,vt,gt,kt,mt,pe[7],1836072691,8),gt=rotl(gt,10),mt=fn3(mt,xt,vt,gt,kt,pe[14],1836072691,6),vt=rotl(vt,10),kt=fn3(kt,mt,xt,vt,gt,pe[6],1836072691,6),xt=rotl(xt,10),gt=fn3(gt,kt,mt,xt,vt,pe[9],1836072691,14),mt=rotl(mt,10),vt=fn3(vt,gt,kt,mt,xt,pe[11],1836072691,12),kt=rotl(kt,10),xt=fn3(xt,vt,gt,kt,mt,pe[8],1836072691,13),gt=rotl(gt,10),mt=fn3(mt,xt,vt,gt,kt,pe[12],1836072691,5),vt=rotl(vt,10),kt=fn3(kt,mt,xt,vt,gt,pe[2],1836072691,14),xt=rotl(xt,10),gt=fn3(gt,kt,mt,xt,vt,pe[10],1836072691,13),mt=rotl(mt,10),vt=fn3(vt,gt,kt,mt,xt,pe[0],1836072691,13),kt=rotl(kt,10),xt=fn3(xt,vt,gt,kt,mt,pe[4],1836072691,7),gt=rotl(gt,10),mt=fn3(mt,xt,vt,gt,kt,pe[13],1836072691,5),vt=rotl(vt,10),kt=fn2(kt,mt,xt,vt,gt,pe[8],2053994217,15),xt=rotl(xt,10),gt=fn2(gt,kt,mt,xt,vt,pe[6],2053994217,5),mt=rotl(mt,10),vt=fn2(vt,gt,kt,mt,xt,pe[4],2053994217,8),kt=rotl(kt,10),xt=fn2(xt,vt,gt,kt,mt,pe[1],2053994217,11),gt=rotl(gt,10),mt=fn2(mt,xt,vt,gt,kt,pe[3],2053994217,14),vt=rotl(vt,10),kt=fn2(kt,mt,xt,vt,gt,pe[11],2053994217,14),xt=rotl(xt,10),gt=fn2(gt,kt,mt,xt,vt,pe[15],2053994217,6),mt=rotl(mt,10),vt=fn2(vt,gt,kt,mt,xt,pe[0],2053994217,14),kt=rotl(kt,10),xt=fn2(xt,vt,gt,kt,mt,pe[5],2053994217,6),gt=rotl(gt,10),mt=fn2(mt,xt,vt,gt,kt,pe[12],2053994217,9),vt=rotl(vt,10),kt=fn2(kt,mt,xt,vt,gt,pe[2],2053994217,12),xt=rotl(xt,10),gt=fn2(gt,kt,mt,xt,vt,pe[13],2053994217,9),mt=rotl(mt,10),vt=fn2(vt,gt,kt,mt,xt,pe[9],2053994217,12),kt=rotl(kt,10),xt=fn2(xt,vt,gt,kt,mt,pe[7],2053994217,5),gt=rotl(gt,10),mt=fn2(mt,xt,vt,gt,kt,pe[10],2053994217,15),vt=rotl(vt,10),kt=fn2(kt,mt,xt,vt,gt,pe[14],2053994217,8),xt=rotl(xt,10),gt=fn1(gt,kt,mt,xt,vt,pe[12],0,8),mt=rotl(mt,10),vt=fn1(vt,gt,kt,mt,xt,pe[15],0,5),kt=rotl(kt,10),xt=fn1(xt,vt,gt,kt,mt,pe[10],0,12),gt=rotl(gt,10),mt=fn1(mt,xt,vt,gt,kt,pe[4],0,9),vt=rotl(vt,10),kt=fn1(kt,mt,xt,vt,gt,pe[1],0,12),xt=rotl(xt,10),gt=fn1(gt,kt,mt,xt,vt,pe[5],0,5),mt=rotl(mt,10),vt=fn1(vt,gt,kt,mt,xt,pe[8],0,14),kt=rotl(kt,10),xt=fn1(xt,vt,gt,kt,mt,pe[7],0,6),gt=rotl(gt,10),mt=fn1(mt,xt,vt,gt,kt,pe[6],0,8),vt=rotl(vt,10),kt=fn1(kt,mt,xt,vt,gt,pe[2],0,13),xt=rotl(xt,10),gt=fn1(gt,kt,mt,xt,vt,pe[13],0,6),mt=rotl(mt,10),vt=fn1(vt,gt,kt,mt,xt,pe[14],0,5),kt=rotl(kt,10),xt=fn1(xt,vt,gt,kt,mt,pe[0],0,15),gt=rotl(gt,10),mt=fn1(mt,xt,vt,gt,kt,pe[3],0,13),vt=rotl(vt,10),kt=fn1(kt,mt,xt,vt,gt,pe[9],0,11),xt=rotl(xt,10),gt=fn1(gt,kt,mt,xt,vt,pe[11],0,11),mt=rotl(mt,10);var fr=this._b+Ze+mt|0;this._b=this._c+Je+xt|0,this._c=this._d+Xe+vt|0,this._d=this._e+Se+gt|0,this._e=this._a+Ne+kt|0,this._a=fr},RIPEMD160$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var pe=new Buffer$F(20);return pe.writeInt32LE(this._a,0),pe.writeInt32LE(this._b,4),pe.writeInt32LE(this._c,8),pe.writeInt32LE(this._d,12),pe.writeInt32LE(this._e,16),pe};function rotl(pe,ge){return pe<<ge|pe>>>32-ge}function fn1(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl(pe+(ge^Se^Ne)+Je+Xe|0,vt)+Ze|0}function fn2(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl(pe+(ge&Se|~ge&Ne)+Je+Xe|0,vt)+Ze|0}function fn3(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl(pe+((ge|~Se)^Ne)+Je+Xe|0,vt)+Ze|0}function fn4(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl(pe+(ge&Ne|Se&~Ne)+Je+Xe|0,vt)+Ze|0}function fn5(pe,ge,Se,Ne,Ze,Je,Xe,vt){return rotl(pe+(ge^(Se|~Ne))+Je+Xe|0,vt)+Ze|0}var ripemd160=RIPEMD160$2,Buffer$m=safeBufferExports$1.Buffer,toBuffer$2=toBuffer$5,useUint8Array=typeof Uint8Array<"u",useArrayBuffer=useUint8Array&&typeof ArrayBuffer<"u",isView=useArrayBuffer&&ArrayBuffer.isView,toBuffer_1=function(pe,ge,Se){if(typeof pe=="string"||Buffer$m.isBuffer(pe)||useUint8Array&&pe instanceof Uint8Array||isView&&isView(pe))return toBuffer$2(pe,ge);throw new TypeError(Se+" must be a string, a Buffer, a Uint8Array, or a DataView")},md5=md5$1,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$l=safeBufferExports$1.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$1=toBuffer_1,ZEROS=Buffer$l.alloc(128),sizes={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},mapping={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function rmd160Func(pe){return new RIPEMD160$1().update(pe).digest()}function getDigest(pe){function ge(Se){return sha$1(pe).update(Se).digest()}return pe==="rmd160"||pe==="ripemd160"?rmd160Func:pe==="md5"?md5:ge}function Hmac$1(pe,ge,Se){var Ne=getDigest(pe),Ze=pe==="sha512"||pe==="sha384"?128:64;ge.length>Ze?ge=Ne(ge):ge.length<Ze&&(ge=Buffer$l.concat([ge,ZEROS],Ze));for(var Je=Buffer$l.allocUnsafe(Ze+sizes[pe]),Xe=Buffer$l.allocUnsafe(Ze+sizes[pe]),vt=0;vt<Ze;vt++)Je[vt]=ge[vt]^54,Xe[vt]=ge[vt]^92;var gt=Buffer$l.allocUnsafe(Ze+Se+4);Je.copy(gt,0,0,Ze),this.ipad1=gt,this.ipad2=Je,this.opad=Xe,this.alg=pe,this.blocksize=Ze,this.hash=Ne,this.size=sizes[pe]}Hmac$1.prototype.run=function(pe,ge){pe.copy(ge,this.blocksize);var Se=this.hash(ge);return Se.copy(this.opad,this.blocksize),this.hash(this.opad)};function pbkdf2(pe,ge,Se,Ne,Ze){checkParameters$1(Se,Ne),pe=toBuffer$1(pe,defaultEncoding$1,"Password"),ge=toBuffer$1(ge,defaultEncoding$1,"Salt");var Je=(Ze||"sha1").toLowerCase(),Xe=mapping[Je]||Je,vt=sizes[Xe];if(typeof vt!="number"||!vt)throw new TypeError("Digest algorithm not supported: "+Ze);var gt=new Hmac$1(Xe,pe,ge.length),kt=Buffer$l.allocUnsafe(Ne),mt=Buffer$l.allocUnsafe(ge.length+4);ge.copy(mt,0,0,ge.length);for(var xt=0,fr=vt,ar=Math.ceil(Ne/fr),gr=1;gr<=ar;gr++){mt.writeUInt32BE(gr,ge.length);for(var wr=gt.run(mt,gt.ipad1),Er=wr,_r=1;_r<Se;_r++){Er=gt.run(Er,gt.ipad2);for(var Sr=0;Sr<fr;Sr++)wr[Sr]^=Er[Sr]}wr.copy(kt,xt),xt+=fr}return kt}var syncBrowser=pbkdf2,Buffer$k=safeBufferExports$1.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer=toBuffer_1,ZERO_BUF,subtle=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[],nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?nextTick$1=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?nextTick$1=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?nextTick$1=commonjsGlobal$1.setImmediate:nextTick$1=commonjsGlobal$1.setTimeout,nextTick$1)}function browserPbkdf2(pe,ge,Se,Ne,Ze){return subtle.importKey("raw",pe,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Je){return subtle.deriveBits({name:"PBKDF2",salt:ge,iterations:Se,hash:{name:Ze}},Je,Ne<<3)}).then(function(Je){return Buffer$k.from(Je)})}function checkNative(pe){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(checks[pe]!==void 0)return checks[pe];ZERO_BUF=ZERO_BUF||Buffer$k.alloc(8);var ge=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,pe).then(function(){return!0},function(){return!1});return checks[pe]=ge,ge}function resolvePromise(pe,ge){pe.then(function(Se){getNextTick()(function(){ge(null,Se)})},function(Se){getNextTick()(function(){ge(Se)})})}var async=function(pe,ge,Se,Ne,Ze,Je){typeof Ze=="function"&&(Je=Ze,Ze=void 0),Ze=Ze||"sha1";var Xe=toBrowser[Ze.toLowerCase()];if(!Xe||typeof commonjsGlobal$1.Promise!="function"){getNextTick()(function(){var vt;try{vt=sync(pe,ge,Se,Ne,Ze)}catch(gt){Je(gt);return}Je(null,vt)});return}if(checkParameters(Se,Ne),pe=toBuffer(pe,defaultEncoding,"Password"),ge=toBuffer(ge,defaultEncoding,"Salt"),typeof Je!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(Xe).then(function(vt){return vt?browserPbkdf2(pe,ge,Se,Ne,Xe):sync(pe,ge,Se,Ne,Ze)}),Je)};browser$8.pbkdf2=async,browser$8.pbkdf2Sync=syncBrowser;var browser$7={},des$2={},utils$t={};utils$t.readUInt32BE=function(ge,Se){var Ne=ge[0+Se]<<24|ge[1+Se]<<16|ge[2+Se]<<8|ge[3+Se];return Ne>>>0},utils$t.writeUInt32BE=function(ge,Se,Ne){ge[0+Ne]=Se>>>24,ge[1+Ne]=Se>>>16&255,ge[2+Ne]=Se>>>8&255,ge[3+Ne]=Se&255},utils$t.ip=function(ge,Se,Ne,Ze){for(var Je=0,Xe=0,vt=6;vt>=0;vt-=2){for(var gt=0;gt<=24;gt+=8)Je<<=1,Je|=Se>>>gt+vt&1;for(var gt=0;gt<=24;gt+=8)Je<<=1,Je|=ge>>>gt+vt&1}for(var vt=6;vt>=0;vt-=2){for(var gt=1;gt<=25;gt+=8)Xe<<=1,Xe|=Se>>>gt+vt&1;for(var gt=1;gt<=25;gt+=8)Xe<<=1,Xe|=ge>>>gt+vt&1}Ne[Ze+0]=Je>>>0,Ne[Ze+1]=Xe>>>0},utils$t.rip=function(ge,Se,Ne,Ze){for(var Je=0,Xe=0,vt=0;vt<4;vt++)for(var gt=24;gt>=0;gt-=8)Je<<=1,Je|=Se>>>gt+vt&1,Je<<=1,Je|=ge>>>gt+vt&1;for(var vt=4;vt<8;vt++)for(var gt=24;gt>=0;gt-=8)Xe<<=1,Xe|=Se>>>gt+vt&1,Xe<<=1,Xe|=ge>>>gt+vt&1;Ne[Ze+0]=Je>>>0,Ne[Ze+1]=Xe>>>0},utils$t.pc1=function(ge,Se,Ne,Ze){for(var Je=0,Xe=0,vt=7;vt>=5;vt--){for(var gt=0;gt<=24;gt+=8)Je<<=1,Je|=Se>>gt+vt&1;for(var gt=0;gt<=24;gt+=8)Je<<=1,Je|=ge>>gt+vt&1}for(var gt=0;gt<=24;gt+=8)Je<<=1,Je|=Se>>gt+vt&1;for(var vt=1;vt<=3;vt++){for(var gt=0;gt<=24;gt+=8)Xe<<=1,Xe|=Se>>gt+vt&1;for(var gt=0;gt<=24;gt+=8)Xe<<=1,Xe|=ge>>gt+vt&1}for(var gt=0;gt<=24;gt+=8)Xe<<=1,Xe|=ge>>gt+vt&1;Ne[Ze+0]=Je>>>0,Ne[Ze+1]=Xe>>>0},utils$t.r28shl=function(ge,Se){return ge<<Se&268435455|ge>>>28-Se};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$t.pc2=function(ge,Se,Ne,Ze){for(var Je=0,Xe=0,vt=pc2table.length>>>1,gt=0;gt<vt;gt++)Je<<=1,Je|=ge>>>pc2table[gt]&1;for(var gt=vt;gt<pc2table.length;gt++)Xe<<=1,Xe|=Se>>>pc2table[gt]&1;Ne[Ze+0]=Je>>>0,Ne[Ze+1]=Xe>>>0},utils$t.expand=function(ge,Se,Ne){var Ze=0,Je=0;Ze=(ge&1)<<5|ge>>>27;for(var Xe=23;Xe>=15;Xe-=4)Ze<<=6,Ze|=ge>>>Xe&63;for(var Xe=11;Xe>=3;Xe-=4)Je|=ge>>>Xe&63,Je<<=6;Je|=(ge&31)<<1|ge>>>31,Se[Ne+0]=Ze>>>0,Se[Ne+1]=Je>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$t.substitute=function(ge,Se){for(var Ne=0,Ze=0;Ze<4;Ze++){var Je=ge>>>18-Ze*6&63,Xe=sTable[Ze*64+Je];Ne<<=4,Ne|=Xe}for(var Ze=0;Ze<4;Ze++){var Je=Se>>>18-Ze*6&63,Xe=sTable[4*64+Ze*64+Je];Ne<<=4,Ne|=Xe}return Ne>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];utils$t.permute=function(ge){for(var Se=0,Ne=0;Ne<permuteTable.length;Ne++)Se<<=1,Se|=ge>>>permuteTable[Ne]&1;return Se>>>0},utils$t.padSplit=function(ge,Se,Ne){for(var Ze=ge.toString(2);Ze.length<Se;)Ze="0"+Ze;for(var Je=[],Xe=0;Xe<Se;Xe+=Ne)Je.push(Ze.slice(Xe,Xe+Ne));return Je.join(" ")};var minimalisticAssert=assert$i;function assert$i(pe,ge){if(!pe)throw new Error(ge||"Assertion failed")}assert$i.equal=function(ge,Se,Ne){if(ge!=Se)throw new Error(Ne||"Assertion failed: "+ge+" != "+Se)};var assert$h=minimalisticAssert;function Cipher$3(pe){this.options=pe,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=pe.padding!==!1}var cipher=Cipher$3;Cipher$3.prototype._init=function(){},Cipher$3.prototype.update=function(ge){return ge.length===0?[]:this.type==="decrypt"?this._updateDecrypt(ge):this._updateEncrypt(ge)},Cipher$3.prototype._buffer=function(ge,Se){for(var Ne=Math.min(this.buffer.length-this.bufferOff,ge.length-Se),Ze=0;Ze<Ne;Ze++)this.buffer[this.bufferOff+Ze]=ge[Se+Ze];return this.bufferOff+=Ne,Ne},Cipher$3.prototype._flushBuffer=function(ge,Se){return this._update(this.buffer,0,ge,Se),this.bufferOff=0,this.blockSize},Cipher$3.prototype._updateEncrypt=function(ge){var Se=0,Ne=0,Ze=(this.bufferOff+ge.length)/this.blockSize|0,Je=new Array(Ze*this.blockSize);this.bufferOff!==0&&(Se+=this._buffer(ge,Se),this.bufferOff===this.buffer.length&&(Ne+=this._flushBuffer(Je,Ne)));for(var Xe=ge.length-(ge.length-Se)%this.blockSize;Se<Xe;Se+=this.blockSize)this._update(ge,Se,Je,Ne),Ne+=this.blockSize;for(;Se<ge.length;Se++,this.bufferOff++)this.buffer[this.bufferOff]=ge[Se];return Je},Cipher$3.prototype._updateDecrypt=function(ge){for(var Se=0,Ne=0,Ze=Math.ceil((this.bufferOff+ge.length)/this.blockSize)-1,Je=new Array(Ze*this.blockSize);Ze>0;Ze--)Se+=this._buffer(ge,Se),Ne+=this._flushBuffer(Je,Ne);return Se+=this._buffer(ge,Se),Je},Cipher$3.prototype.final=function(ge){var Se;ge&&(Se=this.update(ge));var Ne;return this.type==="encrypt"?Ne=this._finalEncrypt():Ne=this._finalDecrypt(),Se?Se.concat(Ne):Ne},Cipher$3.prototype._pad=function(ge,Se){if(Se===0)return!1;for(;Se<ge.length;)ge[Se++]=0;return!0},Cipher$3.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var ge=new Array(this.blockSize);return this._update(this.buffer,0,ge,0),ge},Cipher$3.prototype._unpad=function(ge){return ge},Cipher$3.prototype._finalDecrypt=function(){assert$h.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var ge=new Array(this.blockSize);return this._flushBuffer(ge,0),this._unpad(ge)};var assert$g=minimalisticAssert,inherits$c=inherits_browserExports,utils$s=utils$t,Cipher$2=cipher;function DESState(){this.tmp=new Array(2),this.keys=null}function DES$3(pe){Cipher$2.call(this,pe);var ge=new DESState;this._desState=ge,this.deriveKeys(ge,pe.key)}inherits$c(DES$3,Cipher$2);var des$1=DES$3;DES$3.create=function(ge){return new DES$3(ge)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$3.prototype.deriveKeys=function(ge,Se){ge.keys=new Array(16*2),assert$g.equal(Se.length,this.blockSize,"Invalid key length");var Ne=utils$s.readUInt32BE(Se,0),Ze=utils$s.readUInt32BE(Se,4);utils$s.pc1(Ne,Ze,ge.tmp,0),Ne=ge.tmp[0],Ze=ge.tmp[1];for(var Je=0;Je<ge.keys.length;Je+=2){var Xe=shiftTable[Je>>>1];Ne=utils$s.r28shl(Ne,Xe),Ze=utils$s.r28shl(Ze,Xe),utils$s.pc2(Ne,Ze,ge.keys,Je)}},DES$3.prototype._update=function(ge,Se,Ne,Ze){var Je=this._desState,Xe=utils$s.readUInt32BE(ge,Se),vt=utils$s.readUInt32BE(ge,Se+4);utils$s.ip(Xe,vt,Je.tmp,0),Xe=Je.tmp[0],vt=Je.tmp[1],this.type==="encrypt"?this._encrypt(Je,Xe,vt,Je.tmp,0):this._decrypt(Je,Xe,vt,Je.tmp,0),Xe=Je.tmp[0],vt=Je.tmp[1],utils$s.writeUInt32BE(Ne,Xe,Ze),utils$s.writeUInt32BE(Ne,vt,Ze+4)},DES$3.prototype._pad=function(ge,Se){if(this.padding===!1)return!1;for(var Ne=ge.length-Se,Ze=Se;Ze<ge.length;Ze++)ge[Ze]=Ne;return!0},DES$3.prototype._unpad=function(ge){if(this.padding===!1)return ge;for(var Se=ge[ge.length-1],Ne=ge.length-Se;Ne<ge.length;Ne++)assert$g.equal(ge[Ne],Se);return ge.slice(0,ge.length-Se)},DES$3.prototype._encrypt=function(ge,Se,Ne,Ze,Je){for(var Xe=Se,vt=Ne,gt=0;gt<ge.keys.length;gt+=2){var kt=ge.keys[gt],mt=ge.keys[gt+1];utils$s.expand(vt,ge.tmp,0),kt^=ge.tmp[0],mt^=ge.tmp[1];var xt=utils$s.substitute(kt,mt),fr=utils$s.permute(xt),ar=vt;vt=(Xe^fr)>>>0,Xe=ar}utils$s.rip(vt,Xe,Ze,Je)},DES$3.prototype._decrypt=function(ge,Se,Ne,Ze,Je){for(var Xe=Ne,vt=Se,gt=ge.keys.length-2;gt>=0;gt-=2){var kt=ge.keys[gt],mt=ge.keys[gt+1];utils$s.expand(Xe,ge.tmp,0),kt^=ge.tmp[0],mt^=ge.tmp[1];var xt=utils$s.substitute(kt,mt),fr=utils$s.permute(xt),ar=Xe;Xe=(vt^fr)>>>0,vt=ar}utils$s.rip(Xe,vt,Ze,Je)};var cbc$1={},assert$f=minimalisticAssert,inherits$b=inherits_browserExports,proto={};function CBCState(pe){assert$f.equal(pe.length,8,"Invalid IV length"),this.iv=new Array(8);for(var ge=0;ge<this.iv.length;ge++)this.iv[ge]=pe[ge]}function instantiate(pe){function ge(Je){pe.call(this,Je),this._cbcInit()}inherits$b(ge,pe);for(var Se=Object.keys(proto),Ne=0;Ne<Se.length;Ne++){var Ze=Se[Ne];ge.prototype[Ze]=proto[Ze]}return ge.create=function(Xe){return new ge(Xe)},ge}cbc$1.instantiate=instantiate,proto._cbcInit=function(){var ge=new CBCState(this.options.iv);this._cbcState=ge},proto._update=function(ge,Se,Ne,Ze){var Je=this._cbcState,Xe=this.constructor.super_.prototype,vt=Je.iv;if(this.type==="encrypt"){for(var gt=0;gt<this.blockSize;gt++)vt[gt]^=ge[Se+gt];Xe._update.call(this,vt,0,Ne,Ze);for(var gt=0;gt<this.blockSize;gt++)vt[gt]=Ne[Ze+gt]}else{Xe._update.call(this,ge,Se,Ne,Ze);for(var gt=0;gt<this.blockSize;gt++)Ne[Ze+gt]^=vt[gt];for(var gt=0;gt<this.blockSize;gt++)vt[gt]=ge[Se+gt]}};var assert$e=minimalisticAssert,inherits$a=inherits_browserExports,Cipher$1=cipher,DES$2=des$1;function EDEState(pe,ge){assert$e.equal(ge.length,24,"Invalid key length");var Se=ge.slice(0,8),Ne=ge.slice(8,16),Ze=ge.slice(16,24);pe==="encrypt"?this.ciphers=[DES$2.create({type:"encrypt",key:Se}),DES$2.create({type:"decrypt",key:Ne}),DES$2.create({type:"encrypt",key:Ze})]:this.ciphers=[DES$2.create({type:"decrypt",key:Ze}),DES$2.create({type:"encrypt",key:Ne}),DES$2.create({type:"decrypt",key:Se})]}function EDE(pe){Cipher$1.call(this,pe);var ge=new EDEState(this.type,this.options.key);this._edeState=ge}inherits$a(EDE,Cipher$1);var ede=EDE;EDE.create=function(ge){return new EDE(ge)},EDE.prototype._update=function(ge,Se,Ne,Ze){var Je=this._edeState;Je.ciphers[0]._update(ge,Se,Ne,Ze),Je.ciphers[1]._update(Ne,Ze,Ne,Ze),Je.ciphers[2]._update(Ne,Ze,Ne,Ze)},EDE.prototype._pad=DES$2.prototype._pad,EDE.prototype._unpad=DES$2.prototype._unpad,des$2.utils=utils$t,des$2.Cipher=cipher,des$2.DES=des$1,des$2.CBC=cbc$1,des$2.EDE=ede;var CipherBase=cipherBase,des=des$2,inherits$9=inherits_browserExports,Buffer$j=safeBufferExports$1.Buffer,modes$3={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes$3.des=modes$3["des-cbc"],modes$3.des3=modes$3["des-ede3-cbc"];var browserifyDes=DES$1;inherits$9(DES$1,CipherBase);function DES$1(pe){CipherBase.call(this);var ge=pe.mode.toLowerCase(),Se=modes$3[ge],Ne;pe.decrypt?Ne="decrypt":Ne="encrypt";var Ze=pe.key;Buffer$j.isBuffer(Ze)||(Ze=Buffer$j.from(Ze)),(ge==="des-ede"||ge==="des-ede-cbc")&&(Ze=Buffer$j.concat([Ze,Ze.slice(0,8)]));var Je=pe.iv;Buffer$j.isBuffer(Je)||(Je=Buffer$j.from(Je)),this._des=Se.create({key:Ze,iv:Je,type:Ne})}DES$1.prototype._update=function(pe){return Buffer$j.from(this._des.update(pe))},DES$1.prototype._final=function(){return Buffer$j.from(this._des.final())};var browser$6={},encrypter={},ecb={};ecb.encrypt=function(pe,ge){return pe._cipher.encryptBlock(ge)},ecb.decrypt=function(pe,ge){return pe._cipher.decryptBlock(ge)};var cbc={},bufferXor=function(ge,Se){for(var Ne=Math.min(ge.length,Se.length),Ze=new Buffer$F(Ne),Je=0;Je<Ne;++Je)Ze[Je]=ge[Je]^Se[Je];return Ze},xor$7=bufferXor;cbc.encrypt=function(pe,ge){var Se=xor$7(ge,pe._prev);return pe._prev=pe._cipher.encryptBlock(Se),pe._prev},cbc.decrypt=function(pe,ge){var Se=pe._prev;pe._prev=ge;var Ne=pe._cipher.decryptBlock(ge);return xor$7(Ne,Se)};var cfb={},Buffer$i=safeBufferExports$1.Buffer,xor$6=bufferXor;function encryptStart(pe,ge,Se){var Ne=ge.length,Ze=xor$6(ge,pe._cache);return pe._cache=pe._cache.slice(Ne),pe._prev=Buffer$i.concat([pe._prev,Se?ge:Ze]),Ze}cfb.encrypt=function(pe,ge,Se){for(var Ne=Buffer$i.allocUnsafe(0),Ze;ge.length;)if(pe._cache.length===0&&(pe._cache=pe._cipher.encryptBlock(pe._prev),pe._prev=Buffer$i.allocUnsafe(0)),pe._cache.length<=ge.length)Ze=pe._cache.length,Ne=Buffer$i.concat([Ne,encryptStart(pe,ge.slice(0,Ze),Se)]),ge=ge.slice(Ze);else{Ne=Buffer$i.concat([Ne,encryptStart(pe,ge,Se)]);break}return Ne};var cfb8={},Buffer$h=safeBufferExports$1.Buffer;function encryptByte$1(pe,ge,Se){var Ne=pe._cipher.encryptBlock(pe._prev),Ze=Ne[0]^ge;return pe._prev=Buffer$h.concat([pe._prev.slice(1),Buffer$h.from([Se?ge:Ze])]),Ze}cfb8.encrypt=function(pe,ge,Se){for(var Ne=ge.length,Ze=Buffer$h.allocUnsafe(Ne),Je=-1;++Je<Ne;)Ze[Je]=encryptByte$1(pe,ge[Je],Se);return Ze};var cfb1={},Buffer$g=safeBufferExports$1.Buffer;function encryptByte(pe,ge,Se){for(var Ne,Ze=-1,Je=8,Xe=0,vt,gt;++Ze<Je;)Ne=pe._cipher.encryptBlock(pe._prev),vt=ge&1<<7-Ze?128:0,gt=Ne[0]^vt,Xe+=(gt&128)>>Ze%8,pe._prev=shiftIn(pe._prev,Se?vt:gt);return Xe}function shiftIn(pe,ge){var Se=pe.length,Ne=-1,Ze=Buffer$g.allocUnsafe(pe.length);for(pe=Buffer$g.concat([pe,Buffer$g.from([ge])]);++Ne<Se;)Ze[Ne]=pe[Ne]<<1|pe[Ne+1]>>7;return Ze}cfb1.encrypt=function(pe,ge,Se){for(var Ne=ge.length,Ze=Buffer$g.allocUnsafe(Ne),Je=-1;++Je<Ne;)Ze[Je]=encryptByte(pe,ge[Je],Se);return Ze};var ofb={},xor$5=bufferXor;function getBlock$1(pe){return pe._prev=pe._cipher.encryptBlock(pe._prev),pe._prev}ofb.encrypt=function(pe,ge){for(;pe._cache.length<ge.length;)pe._cache=Buffer$F.concat([pe._cache,getBlock$1(pe)]);var Se=pe._cache.slice(0,ge.length);return pe._cache=pe._cache.slice(ge.length),xor$5(ge,Se)};var ctr={};function incr32$2(pe){for(var ge=pe.length,Se;ge--;)if(Se=pe.readUInt8(ge),Se===255)pe.writeUInt8(0,ge);else{Se++,pe.writeUInt8(Se,ge);break}}var incr32_1=incr32$2,xor$4=bufferXor,Buffer$f=safeBufferExports$1.Buffer,incr32$1=incr32_1;function getBlock(pe){var ge=pe._cipher.encryptBlockRaw(pe._prev);return incr32$1(pe._prev),ge}var blockSize=16;ctr.encrypt=function(pe,ge){var Se=Math.ceil(ge.length/blockSize),Ne=pe._cache.length;pe._cache=Buffer$f.concat([pe._cache,Buffer$f.allocUnsafe(Se*blockSize)]);for(var Ze=0;Ze<Se;Ze++){var Je=getBlock(pe),Xe=Ne+Ze*blockSize;pe._cache.writeUInt32BE(Je[0],Xe+0),pe._cache.writeUInt32BE(Je[1],Xe+4),pe._cache.writeUInt32BE(Je[2],Xe+8),pe._cache.writeUInt32BE(Je[3],Xe+12)}var vt=pe._cache.slice(0,ge.length);return pe._cache=pe._cache.slice(ge.length),xor$4(ge,vt)};const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modeModules={ECB:ecb,CBC:cbc,CFB:cfb,CFB8:cfb8,CFB1:cfb1,OFB:ofb,CTR:ctr,GCM:ctr},modes$2=require$$2;for(var key$2 in modes$2)modes$2[key$2].module=modeModules[modes$2[key$2].mode];var modes_1=modes$2,aes$5={},Buffer$e=safeBufferExports$1.Buffer;function asUInt32Array(pe){Buffer$e.isBuffer(pe)||(pe=Buffer$e.from(pe));for(var ge=pe.length/4|0,Se=new Array(ge),Ne=0;Ne<ge;Ne++)Se[Ne]=pe.readUInt32BE(Ne*4);return Se}function scrubVec(pe){for(var ge=0;ge<pe.length;pe++)pe[ge]=0}function cryptBlock(pe,ge,Se,Ne,Ze){for(var Je=Se[0],Xe=Se[1],vt=Se[2],gt=Se[3],kt=pe[0]^ge[0],mt=pe[1]^ge[1],xt=pe[2]^ge[2],fr=pe[3]^ge[3],ar,gr,wr,Er,_r=4,Sr=1;Sr<Ze;Sr++)ar=Je[kt>>>24]^Xe[mt>>>16&255]^vt[xt>>>8&255]^gt[fr&255]^ge[_r++],gr=Je[mt>>>24]^Xe[xt>>>16&255]^vt[fr>>>8&255]^gt[kt&255]^ge[_r++],wr=Je[xt>>>24]^Xe[fr>>>16&255]^vt[kt>>>8&255]^gt[mt&255]^ge[_r++],Er=Je[fr>>>24]^Xe[kt>>>16&255]^vt[mt>>>8&255]^gt[xt&255]^ge[_r++],kt=ar,mt=gr,xt=wr,fr=Er;return ar=(Ne[kt>>>24]<<24|Ne[mt>>>16&255]<<16|Ne[xt>>>8&255]<<8|Ne[fr&255])^ge[_r++],gr=(Ne[mt>>>24]<<24|Ne[xt>>>16&255]<<16|Ne[fr>>>8&255]<<8|Ne[kt&255])^ge[_r++],wr=(Ne[xt>>>24]<<24|Ne[fr>>>16&255]<<16|Ne[kt>>>8&255]<<8|Ne[mt&255])^ge[_r++],Er=(Ne[fr>>>24]<<24|Ne[kt>>>16&255]<<16|Ne[mt>>>8&255]<<8|Ne[xt&255])^ge[_r++],ar=ar>>>0,gr=gr>>>0,wr=wr>>>0,Er=Er>>>0,[ar,gr,wr,Er]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G$2=function(){for(var pe=new Array(256),ge=0;ge<256;ge++)ge<128?pe[ge]=ge<<1:pe[ge]=ge<<1^283;for(var Se=[],Ne=[],Ze=[[],[],[],[]],Je=[[],[],[],[]],Xe=0,vt=0,gt=0;gt<256;++gt){var kt=vt^vt<<1^vt<<2^vt<<3^vt<<4;kt=kt>>>8^kt&255^99,Se[Xe]=kt,Ne[kt]=Xe;var mt=pe[Xe],xt=pe[mt],fr=pe[xt],ar=pe[kt]*257^kt*16843008;Ze[0][Xe]=ar<<24|ar>>>8,Ze[1][Xe]=ar<<16|ar>>>16,Ze[2][Xe]=ar<<8|ar>>>24,Ze[3][Xe]=ar,ar=fr*16843009^xt*65537^mt*257^Xe*16843008,Je[0][kt]=ar<<24|ar>>>8,Je[1][kt]=ar<<16|ar>>>16,Je[2][kt]=ar<<8|ar>>>24,Je[3][kt]=ar,Xe===0?Xe=vt=1:(Xe=mt^pe[pe[pe[fr^mt]]],vt^=pe[pe[vt]])}return{SBOX:Se,INV_SBOX:Ne,SUB_MIX:Ze,INV_SUB_MIX:Je}}();function AES(pe){this._key=asUInt32Array(pe),this._reset()}AES.blockSize=4*4,AES.keySize=256/8,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var pe=this._key,ge=pe.length,Se=ge+6,Ne=(Se+1)*4,Ze=[],Je=0;Je<ge;Je++)Ze[Je]=pe[Je];for(Je=ge;Je<Ne;Je++){var Xe=Ze[Je-1];Je%ge===0?(Xe=Xe<<8|Xe>>>24,Xe=G$2.SBOX[Xe>>>24]<<24|G$2.SBOX[Xe>>>16&255]<<16|G$2.SBOX[Xe>>>8&255]<<8|G$2.SBOX[Xe&255],Xe^=RCON[Je/ge|0]<<24):ge>6&&Je%ge===4&&(Xe=G$2.SBOX[Xe>>>24]<<24|G$2.SBOX[Xe>>>16&255]<<16|G$2.SBOX[Xe>>>8&255]<<8|G$2.SBOX[Xe&255]),Ze[Je]=Ze[Je-ge]^Xe}for(var vt=[],gt=0;gt<Ne;gt++){var kt=Ne-gt,mt=Ze[kt-(gt%4?0:4)];gt<4||kt<=4?vt[gt]=mt:vt[gt]=G$2.INV_SUB_MIX[0][G$2.SBOX[mt>>>24]]^G$2.INV_SUB_MIX[1][G$2.SBOX[mt>>>16&255]]^G$2.INV_SUB_MIX[2][G$2.SBOX[mt>>>8&255]]^G$2.INV_SUB_MIX[3][G$2.SBOX[mt&255]]}this._nRounds=Se,this._keySchedule=Ze,this._invKeySchedule=vt},AES.prototype.encryptBlockRaw=function(pe){return pe=asUInt32Array(pe),cryptBlock(pe,this._keySchedule,G$2.SUB_MIX,G$2.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(pe){var ge=this.encryptBlockRaw(pe),Se=Buffer$e.allocUnsafe(16);return Se.writeUInt32BE(ge[0],0),Se.writeUInt32BE(ge[1],4),Se.writeUInt32BE(ge[2],8),Se.writeUInt32BE(ge[3],12),Se},AES.prototype.decryptBlock=function(pe){pe=asUInt32Array(pe);var ge=pe[1];pe[1]=pe[3],pe[3]=ge;var Se=cryptBlock(pe,this._invKeySchedule,G$2.INV_SUB_MIX,G$2.INV_SBOX,this._nRounds),Ne=Buffer$e.allocUnsafe(16);return Ne.writeUInt32BE(Se[0],0),Ne.writeUInt32BE(Se[3],4),Ne.writeUInt32BE(Se[2],8),Ne.writeUInt32BE(Se[1],12),Ne},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},aes$5.AES=AES;var Buffer$d=safeBufferExports$1.Buffer,ZEROES=Buffer$d.alloc(16,0);function toArray$1(pe){return[pe.readUInt32BE(0),pe.readUInt32BE(4),pe.readUInt32BE(8),pe.readUInt32BE(12)]}function fromArray(pe){var ge=Buffer$d.allocUnsafe(16);return ge.writeUInt32BE(pe[0]>>>0,0),ge.writeUInt32BE(pe[1]>>>0,4),ge.writeUInt32BE(pe[2]>>>0,8),ge.writeUInt32BE(pe[3]>>>0,12),ge}function GHASH$1(pe){this.h=pe,this.state=Buffer$d.alloc(16,0),this.cache=Buffer$d.allocUnsafe(0)}GHASH$1.prototype.ghash=function(pe){for(var ge=-1;++ge<pe.length;)this.state[ge]^=pe[ge];this._multiply()},GHASH$1.prototype._multiply=function(){for(var pe=toArray$1(this.h),ge=[0,0,0,0],Se,Ne,Ze,Je=-1;++Je<128;){for(Ne=(this.state[~~(Je/8)]&1<<7-Je%8)!==0,Ne&&(ge[0]^=pe[0],ge[1]^=pe[1],ge[2]^=pe[2],ge[3]^=pe[3]),Ze=(pe[3]&1)!==0,Se=3;Se>0;Se--)pe[Se]=pe[Se]>>>1|(pe[Se-1]&1)<<31;pe[0]=pe[0]>>>1,Ze&&(pe[0]=pe[0]^225<<24)}this.state=fromArray(ge)},GHASH$1.prototype.update=function(pe){this.cache=Buffer$d.concat([this.cache,pe]);for(var ge;this.cache.length>=16;)ge=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ge)},GHASH$1.prototype.final=function(pe,ge){return this.cache.length&&this.ghash(Buffer$d.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,pe,0,ge])),this.state};var ghash=GHASH$1,aes$4=aes$5,Buffer$c=safeBufferExports$1.Buffer,Transform$5=cipherBase,inherits$8=inherits_browserExports,GHASH=ghash,xor$3=bufferXor,incr32=incr32_1;function xorTest(pe,ge){var Se=0;pe.length!==ge.length&&Se++;for(var Ne=Math.min(pe.length,ge.length),Ze=0;Ze<Ne;++Ze)Se+=pe[Ze]^ge[Ze];return Se}function calcIv(pe,ge,Se){if(ge.length===12)return pe._finID=Buffer$c.concat([ge,Buffer$c.from([0,0,0,1])]),Buffer$c.concat([ge,Buffer$c.from([0,0,0,2])]);var Ne=new GHASH(Se),Ze=ge.length,Je=Ze%16;Ne.update(ge),Je&&(Je=16-Je,Ne.update(Buffer$c.alloc(Je,0))),Ne.update(Buffer$c.alloc(8,0));var Xe=Ze*8,vt=Buffer$c.alloc(8);vt.writeUIntBE(Xe,0,8),Ne.update(vt),pe._finID=Ne.state;var gt=Buffer$c.from(pe._finID);return incr32(gt),gt}function StreamCipher$3(pe,ge,Se,Ne){Transform$5.call(this);var Ze=Buffer$c.alloc(4,0);this._cipher=new aes$4.AES(ge);var Je=this._cipher.encryptBlock(Ze);this._ghash=new GHASH(Je),Se=calcIv(this,Se,Je),this._prev=Buffer$c.from(Se),this._cache=Buffer$c.allocUnsafe(0),this._secCache=Buffer$c.allocUnsafe(0),this._decrypt=Ne,this._alen=0,this._len=0,this._mode=pe,this._authTag=null,this._called=!1}inherits$8(StreamCipher$3,Transform$5),StreamCipher$3.prototype._update=function(pe){if(!this._called&&this._alen){var ge=16-this._alen%16;ge<16&&(ge=Buffer$c.alloc(ge,0),this._ghash.update(ge))}this._called=!0;var Se=this._mode.encrypt(this,pe);return this._decrypt?this._ghash.update(pe):this._ghash.update(Se),this._len+=pe.length,Se},StreamCipher$3.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var pe=xor$3(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(pe,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=pe,this._cipher.scrub()},StreamCipher$3.prototype.getAuthTag=function(){if(this._decrypt||!Buffer$c.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher$3.prototype.setAuthTag=function(ge){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=ge},StreamCipher$3.prototype.setAAD=function(ge){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(ge),this._alen+=ge.length};var authCipher=StreamCipher$3,aes$3=aes$5,Buffer$b=safeBufferExports$1.Buffer,Transform$4=cipherBase,inherits$7=inherits_browserExports;function StreamCipher$2(pe,ge,Se,Ne){Transform$4.call(this),this._cipher=new aes$3.AES(ge),this._prev=Buffer$b.from(Se),this._cache=Buffer$b.allocUnsafe(0),this._secCache=Buffer$b.allocUnsafe(0),this._decrypt=Ne,this._mode=pe}inherits$7(StreamCipher$2,Transform$4),StreamCipher$2.prototype._update=function(pe){return this._mode.encrypt(this,pe,this._decrypt)},StreamCipher$2.prototype._final=function(){this._cipher.scrub()};var streamCipher=StreamCipher$2,Buffer$a=safeBufferExports$1.Buffer,MD5=md5_js;function EVP_BytesToKey(pe,ge,Se,Ne){if(Buffer$a.isBuffer(pe)||(pe=Buffer$a.from(pe,"binary")),ge&&(Buffer$a.isBuffer(ge)||(ge=Buffer$a.from(ge,"binary")),ge.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var Ze=Se/8,Je=Buffer$a.alloc(Ze),Xe=Buffer$a.alloc(Ne||0),vt=Buffer$a.alloc(0);Ze>0||Ne>0;){var gt=new MD5;gt.update(vt),gt.update(pe),ge&&gt.update(ge),vt=gt.digest();var kt=0;if(Ze>0){var mt=Je.length-Ze;kt=Math.min(Ze,vt.length),vt.copy(Je,mt,0,kt),Ze-=kt}if(kt<vt.length&&Ne>0){var xt=Xe.length-Ne,fr=Math.min(Ne,vt.length-kt);vt.copy(Xe,xt,kt,kt+fr),Ne-=fr}}return vt.fill(0),{key:Je,iv:Xe}}var evp_bytestokey=EVP_BytesToKey,MODES$1=modes_1,AuthCipher$1=authCipher,Buffer$9=safeBufferExports$1.Buffer,StreamCipher$1=streamCipher,Transform$3=cipherBase,aes$2=aes$5,ebtk$2=evp_bytestokey,inherits$6=inherits_browserExports;function Cipher(pe,ge,Se){Transform$3.call(this),this._cache=new Splitter$1,this._cipher=new aes$2.AES(ge),this._prev=Buffer$9.from(Se),this._mode=pe,this._autopadding=!0}inherits$6(Cipher,Transform$3),Cipher.prototype._update=function(pe){this._cache.add(pe);for(var ge,Se,Ne=[];ge=this._cache.get();)Se=this._mode.encrypt(this,ge),Ne.push(Se);return Buffer$9.concat(Ne)};var PADDING=Buffer$9.alloc(16,16);Cipher.prototype._final=function(){var pe=this._cache.flush();if(this._autopadding)return pe=this._mode.encrypt(this,pe),this._cipher.scrub(),pe;if(!pe.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(pe){return this._autopadding=!!pe,this};function Splitter$1(){this.cache=Buffer$9.allocUnsafe(0)}Splitter$1.prototype.add=function(pe){this.cache=Buffer$9.concat([this.cache,pe])},Splitter$1.prototype.get=function(){if(this.cache.length>15){var pe=this.cache.slice(0,16);return this.cache=this.cache.slice(16),pe}return null},Splitter$1.prototype.flush=function(){for(var pe=16-this.cache.length,ge=Buffer$9.allocUnsafe(pe),Se=-1;++Se<pe;)ge.writeUInt8(pe,Se);return Buffer$9.concat([this.cache,ge])};function createCipheriv$1(pe,ge,Se){var Ne=MODES$1[pe.toLowerCase()];if(!Ne)throw new TypeError("invalid suite type");if(typeof ge=="string"&&(ge=Buffer$9.from(ge)),ge.length!==Ne.key/8)throw new TypeError("invalid key length "+ge.length);if(typeof Se=="string"&&(Se=Buffer$9.from(Se)),Ne.mode!=="GCM"&&Se.length!==Ne.iv)throw new TypeError("invalid iv length "+Se.length);return Ne.type==="stream"?new StreamCipher$1(Ne.module,ge,Se):Ne.type==="auth"?new AuthCipher$1(Ne.module,ge,Se):new Cipher(Ne.module,ge,Se)}function createCipher$1(pe,ge){var Se=MODES$1[pe.toLowerCase()];if(!Se)throw new TypeError("invalid suite type");var Ne=ebtk$2(ge,!1,Se.key,Se.iv);return createCipheriv$1(pe,Ne.key,Ne.iv)}encrypter.createCipheriv=createCipheriv$1,encrypter.createCipher=createCipher$1;var decrypter={},AuthCipher=authCipher,Buffer$8=safeBufferExports$1.Buffer,MODES=modes_1,StreamCipher=streamCipher,Transform$2=cipherBase,aes$1=aes$5,ebtk$1=evp_bytestokey,inherits$5=inherits_browserExports;function Decipher(pe,ge,Se){Transform$2.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes$1.AES(ge),this._prev=Buffer$8.from(Se),this._mode=pe,this._autopadding=!0}inherits$5(Decipher,Transform$2),Decipher.prototype._update=function(pe){this._cache.add(pe);for(var ge,Se,Ne=[];ge=this._cache.get(this._autopadding);)Se=this._mode.decrypt(this,ge),Ne.push(Se);return Buffer$8.concat(Ne)},Decipher.prototype._final=function(){var pe=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,pe));if(pe)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(pe){return this._autopadding=!!pe,this};function Splitter(){this.cache=Buffer$8.allocUnsafe(0)}Splitter.prototype.add=function(pe){this.cache=Buffer$8.concat([this.cache,pe])},Splitter.prototype.get=function(pe){var ge;if(pe){if(this.cache.length>16)return ge=this.cache.slice(0,16),this.cache=this.cache.slice(16),ge}else if(this.cache.length>=16)return ge=this.cache.slice(0,16),this.cache=this.cache.slice(16),ge;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(pe){var ge=pe[15];if(ge<1||ge>16)throw new Error("unable to decrypt data");for(var Se=-1;++Se<ge;)if(pe[Se+(16-ge)]!==ge)throw new Error("unable to decrypt data");if(ge!==16)return pe.slice(0,16-ge)}function createDecipheriv$1(pe,ge,Se){var Ne=MODES[pe.toLowerCase()];if(!Ne)throw new TypeError("invalid suite type");if(typeof Se=="string"&&(Se=Buffer$8.from(Se)),Ne.mode!=="GCM"&&Se.length!==Ne.iv)throw new TypeError("invalid iv length "+Se.length);if(typeof ge=="string"&&(ge=Buffer$8.from(ge)),ge.length!==Ne.key/8)throw new TypeError("invalid key length "+ge.length);return Ne.type==="stream"?new StreamCipher(Ne.module,ge,Se,!0):Ne.type==="auth"?new AuthCipher(Ne.module,ge,Se,!0):new Decipher(Ne.module,ge,Se)}function createDecipher$1(pe,ge){var Se=MODES[pe.toLowerCase()];if(!Se)throw new TypeError("invalid suite type");var Ne=ebtk$1(ge,!1,Se.key,Se.iv);return createDecipheriv$1(pe,Ne.key,Ne.iv)}decrypter.createDecipher=createDecipher$1,decrypter.createDecipheriv=createDecipheriv$1;var ciphers$2=encrypter,deciphers=decrypter,modes$1=require$$2;function getCiphers$1(){return Object.keys(modes$1)}browser$6.createCipher=browser$6.Cipher=ciphers$2.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=ciphers$2.createCipheriv,browser$6.createDecipher=browser$6.Decipher=deciphers.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=deciphers.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=getCiphers$1;var modes={};(function(pe){pe["des-ecb"]={key:8,iv:0},pe["des-cbc"]=pe.des={key:8,iv:8},pe["des-ede3-cbc"]=pe.des3={key:24,iv:8},pe["des-ede3"]={key:24,iv:0},pe["des-ede-cbc"]={key:16,iv:8},pe["des-ede"]={key:16,iv:0}})(modes);var DES=browserifyDes,aes=browser$6,aesModes=modes_1,desModes=modes,ebtk=evp_bytestokey;function createCipher(pe,ge){pe=pe.toLowerCase();var Se,Ne;if(aesModes[pe])Se=aesModes[pe].key,Ne=aesModes[pe].iv;else if(desModes[pe])Se=desModes[pe].key*8,Ne=desModes[pe].iv;else throw new TypeError("invalid suite type");var Ze=ebtk(ge,!1,Se,Ne);return createCipheriv(pe,Ze.key,Ze.iv)}function createDecipher(pe,ge){pe=pe.toLowerCase();var Se,Ne;if(aesModes[pe])Se=aesModes[pe].key,Ne=aesModes[pe].iv;else if(desModes[pe])Se=desModes[pe].key*8,Ne=desModes[pe].iv;else throw new TypeError("invalid suite type");var Ze=ebtk(ge,!1,Se,Ne);return createDecipheriv(pe,Ze.key,Ze.iv)}function createCipheriv(pe,ge,Se){if(pe=pe.toLowerCase(),aesModes[pe])return aes.createCipheriv(pe,ge,Se);if(desModes[pe])return new DES({key:ge,iv:Se,mode:pe});throw new TypeError("invalid suite type")}function createDecipheriv(pe,ge,Se){if(pe=pe.toLowerCase(),aesModes[pe])return aes.createDecipheriv(pe,ge,Se);if(desModes[pe])return new DES({key:ge,iv:Se,mode:pe,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}browser$7.createCipher=browser$7.Cipher=createCipher,browser$7.createCipheriv=browser$7.Cipheriv=createCipheriv,browser$7.createDecipher=browser$7.Decipher=createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=getCiphers;var browser$5={},bn$2={exports:{}};bn$2.exports,function(pe){(function(ge,Se){function Ne(Ir,br){if(!Ir)throw new Error(br||"Assertion failed")}function Ze(Ir,br){Ir.super_=br;var Vt=function(){};Vt.prototype=br.prototype,Ir.prototype=new Vt,Ir.prototype.constructor=Ir}function Je(Ir,br,Vt){if(Je.isBN(Ir))return Ir;this.negative=0,this.words=null,this.length=0,this.red=null,Ir!==null&&((br==="le"||br==="be")&&(Vt=br,br=10),this._init(Ir||0,br||10,Vt||"be"))}typeof ge=="object"?ge.exports=Je:Se.BN=Je,Je.BN=Je,Je.wordSize=26;var Xe;try{typeof window<"u"&&typeof window.Buffer<"u"?Xe=window.Buffer:Xe=require$$1$2.Buffer}catch{}Je.isBN=function(br){return br instanceof Je?!0:br!==null&&typeof br=="object"&&br.constructor.wordSize===Je.wordSize&&Array.isArray(br.words)},Je.max=function(br,Vt){return br.cmp(Vt)>0?br:Vt},Je.min=function(br,Vt){return br.cmp(Vt)<0?br:Vt},Je.prototype._init=function(br,Vt,ht){if(typeof br=="number")return this._initNumber(br,Vt,ht);if(typeof br=="object")return this._initArray(br,Vt,ht);Vt==="hex"&&(Vt=16),Ne(Vt===(Vt|0)&&Vt>=2&&Vt<=36),br=br.toString().replace(/\s+/g,"");var Ct=0;br[0]==="-"&&(Ct++,this.negative=1),Ct<br.length&&(Vt===16?this._parseHex(br,Ct,ht):(this._parseBase(br,Vt,Ct),ht==="le"&&this._initArray(this.toArray(),Vt,ht)))},Je.prototype._initNumber=function(br,Vt,ht){br<0&&(this.negative=1,br=-br),br<67108864?(this.words=[br&67108863],this.length=1):br<4503599627370496?(this.words=[br&67108863,br/67108864&67108863],this.length=2):(Ne(br<9007199254740992),this.words=[br&67108863,br/67108864&67108863,1],this.length=3),ht==="le"&&this._initArray(this.toArray(),Vt,ht)},Je.prototype._initArray=function(br,Vt,ht){if(Ne(typeof br.length=="number"),br.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(br.length/3),this.words=new Array(this.length);for(var Ct=0;Ct<this.length;Ct++)this.words[Ct]=0;var or,pr,lr=0;if(ht==="be")for(Ct=br.length-1,or=0;Ct>=0;Ct-=3)pr=br[Ct]|br[Ct-1]<<8|br[Ct-2]<<16,this.words[or]|=pr<<lr&67108863,this.words[or+1]=pr>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,or++);else if(ht==="le")for(Ct=0,or=0;Ct<br.length;Ct+=3)pr=br[Ct]|br[Ct+1]<<8|br[Ct+2]<<16,this.words[or]|=pr<<lr&67108863,this.words[or+1]=pr>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,or++);return this.strip()};function vt(Ir,br){var Vt=Ir.charCodeAt(br);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function gt(Ir,br,Vt){var ht=vt(Ir,Vt);return Vt-1>=br&&(ht|=vt(Ir,Vt-1)<<4),ht}Je.prototype._parseHex=function(br,Vt,ht){this.length=Math.ceil((br.length-Vt)/6),this.words=new Array(this.length);for(var Ct=0;Ct<this.length;Ct++)this.words[Ct]=0;var or=0,pr=0,lr;if(ht==="be")for(Ct=br.length-1;Ct>=Vt;Ct-=2)lr=gt(br,Vt,Ct)<<or,this.words[pr]|=lr&67108863,or>=18?(or-=18,pr+=1,this.words[pr]|=lr>>>26):or+=8;else{var vr=br.length-Vt;for(Ct=vr%2===0?Vt+1:Vt;Ct<br.length;Ct+=2)lr=gt(br,Vt,Ct)<<or,this.words[pr]|=lr&67108863,or>=18?(or-=18,pr+=1,this.words[pr]|=lr>>>26):or+=8}this.strip()};function kt(Ir,br,Vt,ht){for(var Ct=0,or=Math.min(Ir.length,Vt),pr=br;pr<or;pr++){var lr=Ir.charCodeAt(pr)-48;Ct*=ht,lr>=49?Ct+=lr-49+10:lr>=17?Ct+=lr-17+10:Ct+=lr}return Ct}Je.prototype._parseBase=function(br,Vt,ht){this.words=[0],this.length=1;for(var Ct=0,or=1;or<=67108863;or*=Vt)Ct++;Ct--,or=or/Vt|0;for(var pr=br.length-ht,lr=pr%Ct,vr=Math.min(pr,pr-lr)+ht,tr=0,ur=ht;ur<vr;ur+=Ct)tr=kt(br,ur,ur+Ct,Vt),this.imuln(or),this.words[0]+tr<67108864?this.words[0]+=tr:this._iaddn(tr);if(lr!==0){var Ft=1;for(tr=kt(br,ur,br.length,Vt),ur=0;ur<lr;ur++)Ft*=Vt;this.imuln(Ft),this.words[0]+tr<67108864?this.words[0]+=tr:this._iaddn(tr)}this.strip()},Je.prototype.copy=function(br){br.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)br.words[Vt]=this.words[Vt];br.length=this.length,br.negative=this.negative,br.red=this.red},Je.prototype.clone=function(){var br=new Je(null);return this.copy(br),br},Je.prototype._expand=function(br){for(;this.length<br;)this.words[this.length++]=0;return this},Je.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Je.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Je.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var mt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],xt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Je.prototype.toString=function(br,Vt){br=br||10,Vt=Vt|0||1;var ht;if(br===16||br==="hex"){ht="";for(var Ct=0,or=0,pr=0;pr<this.length;pr++){var lr=this.words[pr],vr=((lr<<Ct|or)&16777215).toString(16);or=lr>>>24-Ct&16777215,Ct+=2,Ct>=26&&(Ct-=26,pr--),or!==0||pr!==this.length-1?ht=mt[6-vr.length]+vr+ht:ht=vr+ht}for(or!==0&&(ht=or.toString(16)+ht);ht.length%Vt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}if(br===(br|0)&&br>=2&&br<=36){var tr=xt[br],ur=fr[br];ht="";var Ft=this.clone();for(Ft.negative=0;!Ft.isZero();){var yr=Ft.modn(ur).toString(br);Ft=Ft.idivn(ur),Ft.isZero()?ht=yr+ht:ht=mt[tr-yr.length]+yr+ht}for(this.isZero()&&(ht="0"+ht);ht.length%Vt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}Ne(!1,"Base should be between 2 and 36")},Je.prototype.toNumber=function(){var br=this.words[0];return this.length===2?br+=this.words[1]*67108864:this.length===3&&this.words[2]===1?br+=4503599627370496+this.words[1]*67108864:this.length>2&&Ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-br:br},Je.prototype.toJSON=function(){return this.toString(16)},Je.prototype.toBuffer=function(br,Vt){return Ne(typeof Xe<"u"),this.toArrayLike(Xe,br,Vt)},Je.prototype.toArray=function(br,Vt){return this.toArrayLike(Array,br,Vt)},Je.prototype.toArrayLike=function(br,Vt,ht){var Ct=this.byteLength(),or=ht||Math.max(1,Ct);Ne(Ct<=or,"byte array longer than desired length"),Ne(or>0,"Requested array length <= 0"),this.strip();var pr=Vt==="le",lr=new br(or),vr,tr,ur=this.clone();if(pr){for(tr=0;!ur.isZero();tr++)vr=ur.andln(255),ur.iushrn(8),lr[tr]=vr;for(;tr<or;tr++)lr[tr]=0}else{for(tr=0;tr<or-Ct;tr++)lr[tr]=0;for(tr=0;!ur.isZero();tr++)vr=ur.andln(255),ur.iushrn(8),lr[or-tr-1]=vr}return lr},Math.clz32?Je.prototype._countBits=function(br){return 32-Math.clz32(br)}:Je.prototype._countBits=function(br){var Vt=br,ht=0;return Vt>=4096&&(ht+=13,Vt>>>=13),Vt>=64&&(ht+=7,Vt>>>=7),Vt>=8&&(ht+=4,Vt>>>=4),Vt>=2&&(ht+=2,Vt>>>=2),ht+Vt},Je.prototype._zeroBits=function(br){if(br===0)return 26;var Vt=br,ht=0;return Vt&8191||(ht+=13,Vt>>>=13),Vt&127||(ht+=7,Vt>>>=7),Vt&15||(ht+=4,Vt>>>=4),Vt&3||(ht+=2,Vt>>>=2),Vt&1||ht++,ht},Je.prototype.bitLength=function(){var br=this.words[this.length-1],Vt=this._countBits(br);return(this.length-1)*26+Vt};function ar(Ir){for(var br=new Array(Ir.bitLength()),Vt=0;Vt<br.length;Vt++){var ht=Vt/26|0,Ct=Vt%26;br[Vt]=(Ir.words[ht]&1<<Ct)>>>Ct}return br}Je.prototype.zeroBits=function(){if(this.isZero())return 0;for(var br=0,Vt=0;Vt<this.length;Vt++){var ht=this._zeroBits(this.words[Vt]);if(br+=ht,ht!==26)break}return br},Je.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Je.prototype.toTwos=function(br){return this.negative!==0?this.abs().inotn(br).iaddn(1):this.clone()},Je.prototype.fromTwos=function(br){return this.testn(br-1)?this.notn(br).iaddn(1).ineg():this.clone()},Je.prototype.isNeg=function(){return this.negative!==0},Je.prototype.neg=function(){return this.clone().ineg()},Je.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Je.prototype.iuor=function(br){for(;this.length<br.length;)this.words[this.length++]=0;for(var Vt=0;Vt<br.length;Vt++)this.words[Vt]=this.words[Vt]|br.words[Vt];return this.strip()},Je.prototype.ior=function(br){return Ne((this.negative|br.negative)===0),this.iuor(br)},Je.prototype.or=function(br){return this.length>br.length?this.clone().ior(br):br.clone().ior(this)},Je.prototype.uor=function(br){return this.length>br.length?this.clone().iuor(br):br.clone().iuor(this)},Je.prototype.iuand=function(br){var Vt;this.length>br.length?Vt=br:Vt=this;for(var ht=0;ht<Vt.length;ht++)this.words[ht]=this.words[ht]&br.words[ht];return this.length=Vt.length,this.strip()},Je.prototype.iand=function(br){return Ne((this.negative|br.negative)===0),this.iuand(br)},Je.prototype.and=function(br){return this.length>br.length?this.clone().iand(br):br.clone().iand(this)},Je.prototype.uand=function(br){return this.length>br.length?this.clone().iuand(br):br.clone().iuand(this)},Je.prototype.iuxor=function(br){var Vt,ht;this.length>br.length?(Vt=this,ht=br):(Vt=br,ht=this);for(var Ct=0;Ct<ht.length;Ct++)this.words[Ct]=Vt.words[Ct]^ht.words[Ct];if(this!==Vt)for(;Ct<Vt.length;Ct++)this.words[Ct]=Vt.words[Ct];return this.length=Vt.length,this.strip()},Je.prototype.ixor=function(br){return Ne((this.negative|br.negative)===0),this.iuxor(br)},Je.prototype.xor=function(br){return this.length>br.length?this.clone().ixor(br):br.clone().ixor(this)},Je.prototype.uxor=function(br){return this.length>br.length?this.clone().iuxor(br):br.clone().iuxor(this)},Je.prototype.inotn=function(br){Ne(typeof br=="number"&&br>=0);var Vt=Math.ceil(br/26)|0,ht=br%26;this._expand(Vt),ht>0&&Vt--;for(var Ct=0;Ct<Vt;Ct++)this.words[Ct]=~this.words[Ct]&67108863;return ht>0&&(this.words[Ct]=~this.words[Ct]&67108863>>26-ht),this.strip()},Je.prototype.notn=function(br){return this.clone().inotn(br)},Je.prototype.setn=function(br,Vt){Ne(typeof br=="number"&&br>=0);var ht=br/26|0,Ct=br%26;return this._expand(ht+1),Vt?this.words[ht]=this.words[ht]|1<<Ct:this.words[ht]=this.words[ht]&~(1<<Ct),this.strip()},Je.prototype.iadd=function(br){var Vt;if(this.negative!==0&&br.negative===0)return this.negative=0,Vt=this.isub(br),this.negative^=1,this._normSign();if(this.negative===0&&br.negative!==0)return br.negative=0,Vt=this.isub(br),br.negative=1,Vt._normSign();var ht,Ct;this.length>br.length?(ht=this,Ct=br):(ht=br,Ct=this);for(var or=0,pr=0;pr<Ct.length;pr++)Vt=(ht.words[pr]|0)+(Ct.words[pr]|0)+or,this.words[pr]=Vt&67108863,or=Vt>>>26;for(;or!==0&&pr<ht.length;pr++)Vt=(ht.words[pr]|0)+or,this.words[pr]=Vt&67108863,or=Vt>>>26;if(this.length=ht.length,or!==0)this.words[this.length]=or,this.length++;else if(ht!==this)for(;pr<ht.length;pr++)this.words[pr]=ht.words[pr];return this},Je.prototype.add=function(br){var Vt;return br.negative!==0&&this.negative===0?(br.negative=0,Vt=this.sub(br),br.negative^=1,Vt):br.negative===0&&this.negative!==0?(this.negative=0,Vt=br.sub(this),this.negative=1,Vt):this.length>br.length?this.clone().iadd(br):br.clone().iadd(this)},Je.prototype.isub=function(br){if(br.negative!==0){br.negative=0;var Vt=this.iadd(br);return br.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(br),this.negative=1,this._normSign();var ht=this.cmp(br);if(ht===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ct,or;ht>0?(Ct=this,or=br):(Ct=br,or=this);for(var pr=0,lr=0;lr<or.length;lr++)Vt=(Ct.words[lr]|0)-(or.words[lr]|0)+pr,pr=Vt>>26,this.words[lr]=Vt&67108863;for(;pr!==0&&lr<Ct.length;lr++)Vt=(Ct.words[lr]|0)+pr,pr=Vt>>26,this.words[lr]=Vt&67108863;if(pr===0&&lr<Ct.length&&Ct!==this)for(;lr<Ct.length;lr++)this.words[lr]=Ct.words[lr];return this.length=Math.max(this.length,lr),Ct!==this&&(this.negative=1),this.strip()},Je.prototype.sub=function(br){return this.clone().isub(br)};function gr(Ir,br,Vt){Vt.negative=br.negative^Ir.negative;var ht=Ir.length+br.length|0;Vt.length=ht,ht=ht-1|0;var Ct=Ir.words[0]|0,or=br.words[0]|0,pr=Ct*or,lr=pr&67108863,vr=pr/67108864|0;Vt.words[0]=lr;for(var tr=1;tr<ht;tr++){for(var ur=vr>>>26,Ft=vr&67108863,yr=Math.min(tr,br.length-1),Nr=Math.max(0,tr-Ir.length+1);Nr<=yr;Nr++){var qr=tr-Nr|0;Ct=Ir.words[qr]|0,or=br.words[Nr]|0,pr=Ct*or+Ft,ur+=pr/67108864|0,Ft=pr&67108863}Vt.words[tr]=Ft|0,vr=ur|0}return vr!==0?Vt.words[tr]=vr|0:Vt.length--,Vt.strip()}var wr=function(br,Vt,ht){var Ct=br.words,or=Vt.words,pr=ht.words,lr=0,vr,tr,ur,Ft=Ct[0]|0,yr=Ft&8191,Nr=Ft>>>13,qr=Ct[1]|0,Rr=qr&8191,Ar=qr>>>13,Tr=Ct[2]|0,Kr=Tr&8191,Zr=Tr>>>13,Br=Ct[3]|0,Mr=Br&8191,Gr=Br>>>13,en=Ct[4]|0,rn=en&8191,an=en>>>13,nn=Ct[5]|0,un=nn&8191,tn=nn>>>13,dn=Ct[6]|0,cn=dn&8191,Wr=dn>>>13,on=Ct[7]|0,Hr=on&8191,yn=on>>>13,gn=Ct[8]|0,mn=gn&8191,An=gn>>>13,hn=Ct[9]|0,Cr=hn&8191,$r=hn>>>13,xr=or[0]|0,Lr=xr&8191,Jr=xr>>>13,Xr=or[1]|0,Fr=Xr&8191,Qr=Xr>>>13,vn=or[2]|0,ln=vn&8191,pn=vn>>>13,sn=or[3]|0,_n=sn&8191,jn=sn>>>13,xn=or[4]|0,$n=xn&8191,Nn=xn>>>13,Bn=or[5]|0,wn=Bn&8191,Ln=Bn>>>13,On=or[6]|0,Sn=On&8191,Dn=On>>>13,Tn=or[7]|0,En=Tn&8191,Fn=Tn>>>13,Pn=or[8]|0,Mn=Pn&8191,qn=Pn>>>13,Cn=or[9]|0,In=Cn&8191,Un=Cn>>>13;ht.negative=br.negative^Vt.negative,ht.length=19,vr=Math.imul(yr,Lr),tr=Math.imul(yr,Jr),tr=tr+Math.imul(Nr,Lr)|0,ur=Math.imul(Nr,Jr);var Rn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,vr=Math.imul(Rr,Lr),tr=Math.imul(Rr,Jr),tr=tr+Math.imul(Ar,Lr)|0,ur=Math.imul(Ar,Jr),vr=vr+Math.imul(yr,Fr)|0,tr=tr+Math.imul(yr,Qr)|0,tr=tr+Math.imul(Nr,Fr)|0,ur=ur+Math.imul(Nr,Qr)|0;var kn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(kn>>>26)|0,kn&=67108863,vr=Math.imul(Kr,Lr),tr=Math.imul(Kr,Jr),tr=tr+Math.imul(Zr,Lr)|0,ur=Math.imul(Zr,Jr),vr=vr+Math.imul(Rr,Fr)|0,tr=tr+Math.imul(Rr,Qr)|0,tr=tr+Math.imul(Ar,Fr)|0,ur=ur+Math.imul(Ar,Qr)|0,vr=vr+Math.imul(yr,ln)|0,tr=tr+Math.imul(yr,pn)|0,tr=tr+Math.imul(Nr,ln)|0,ur=ur+Math.imul(Nr,pn)|0;var Gn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,vr=Math.imul(Mr,Lr),tr=Math.imul(Mr,Jr),tr=tr+Math.imul(Gr,Lr)|0,ur=Math.imul(Gr,Jr),vr=vr+Math.imul(Kr,Fr)|0,tr=tr+Math.imul(Kr,Qr)|0,tr=tr+Math.imul(Zr,Fr)|0,ur=ur+Math.imul(Zr,Qr)|0,vr=vr+Math.imul(Rr,ln)|0,tr=tr+Math.imul(Rr,pn)|0,tr=tr+Math.imul(Ar,ln)|0,ur=ur+Math.imul(Ar,pn)|0,vr=vr+Math.imul(yr,_n)|0,tr=tr+Math.imul(yr,jn)|0,tr=tr+Math.imul(Nr,_n)|0,ur=ur+Math.imul(Nr,jn)|0;var Kn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,vr=Math.imul(rn,Lr),tr=Math.imul(rn,Jr),tr=tr+Math.imul(an,Lr)|0,ur=Math.imul(an,Jr),vr=vr+Math.imul(Mr,Fr)|0,tr=tr+Math.imul(Mr,Qr)|0,tr=tr+Math.imul(Gr,Fr)|0,ur=ur+Math.imul(Gr,Qr)|0,vr=vr+Math.imul(Kr,ln)|0,tr=tr+Math.imul(Kr,pn)|0,tr=tr+Math.imul(Zr,ln)|0,ur=ur+Math.imul(Zr,pn)|0,vr=vr+Math.imul(Rr,_n)|0,tr=tr+Math.imul(Rr,jn)|0,tr=tr+Math.imul(Ar,_n)|0,ur=ur+Math.imul(Ar,jn)|0,vr=vr+Math.imul(yr,$n)|0,tr=tr+Math.imul(yr,Nn)|0,tr=tr+Math.imul(Nr,$n)|0,ur=ur+Math.imul(Nr,Nn)|0;var Hn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,vr=Math.imul(un,Lr),tr=Math.imul(un,Jr),tr=tr+Math.imul(tn,Lr)|0,ur=Math.imul(tn,Jr),vr=vr+Math.imul(rn,Fr)|0,tr=tr+Math.imul(rn,Qr)|0,tr=tr+Math.imul(an,Fr)|0,ur=ur+Math.imul(an,Qr)|0,vr=vr+Math.imul(Mr,ln)|0,tr=tr+Math.imul(Mr,pn)|0,tr=tr+Math.imul(Gr,ln)|0,ur=ur+Math.imul(Gr,pn)|0,vr=vr+Math.imul(Kr,_n)|0,tr=tr+Math.imul(Kr,jn)|0,tr=tr+Math.imul(Zr,_n)|0,ur=ur+Math.imul(Zr,jn)|0,vr=vr+Math.imul(Rr,$n)|0,tr=tr+Math.imul(Rr,Nn)|0,tr=tr+Math.imul(Ar,$n)|0,ur=ur+Math.imul(Ar,Nn)|0,vr=vr+Math.imul(yr,wn)|0,tr=tr+Math.imul(yr,Ln)|0,tr=tr+Math.imul(Nr,wn)|0,ur=ur+Math.imul(Nr,Ln)|0;var Wn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,vr=Math.imul(cn,Lr),tr=Math.imul(cn,Jr),tr=tr+Math.imul(Wr,Lr)|0,ur=Math.imul(Wr,Jr),vr=vr+Math.imul(un,Fr)|0,tr=tr+Math.imul(un,Qr)|0,tr=tr+Math.imul(tn,Fr)|0,ur=ur+Math.imul(tn,Qr)|0,vr=vr+Math.imul(rn,ln)|0,tr=tr+Math.imul(rn,pn)|0,tr=tr+Math.imul(an,ln)|0,ur=ur+Math.imul(an,pn)|0,vr=vr+Math.imul(Mr,_n)|0,tr=tr+Math.imul(Mr,jn)|0,tr=tr+Math.imul(Gr,_n)|0,ur=ur+Math.imul(Gr,jn)|0,vr=vr+Math.imul(Kr,$n)|0,tr=tr+Math.imul(Kr,Nn)|0,tr=tr+Math.imul(Zr,$n)|0,ur=ur+Math.imul(Zr,Nn)|0,vr=vr+Math.imul(Rr,wn)|0,tr=tr+Math.imul(Rr,Ln)|0,tr=tr+Math.imul(Ar,wn)|0,ur=ur+Math.imul(Ar,Ln)|0,vr=vr+Math.imul(yr,Sn)|0,tr=tr+Math.imul(yr,Dn)|0,tr=tr+Math.imul(Nr,Sn)|0,ur=ur+Math.imul(Nr,Dn)|0;var zn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(zn>>>26)|0,zn&=67108863,vr=Math.imul(Hr,Lr),tr=Math.imul(Hr,Jr),tr=tr+Math.imul(yn,Lr)|0,ur=Math.imul(yn,Jr),vr=vr+Math.imul(cn,Fr)|0,tr=tr+Math.imul(cn,Qr)|0,tr=tr+Math.imul(Wr,Fr)|0,ur=ur+Math.imul(Wr,Qr)|0,vr=vr+Math.imul(un,ln)|0,tr=tr+Math.imul(un,pn)|0,tr=tr+Math.imul(tn,ln)|0,ur=ur+Math.imul(tn,pn)|0,vr=vr+Math.imul(rn,_n)|0,tr=tr+Math.imul(rn,jn)|0,tr=tr+Math.imul(an,_n)|0,ur=ur+Math.imul(an,jn)|0,vr=vr+Math.imul(Mr,$n)|0,tr=tr+Math.imul(Mr,Nn)|0,tr=tr+Math.imul(Gr,$n)|0,ur=ur+Math.imul(Gr,Nn)|0,vr=vr+Math.imul(Kr,wn)|0,tr=tr+Math.imul(Kr,Ln)|0,tr=tr+Math.imul(Zr,wn)|0,ur=ur+Math.imul(Zr,Ln)|0,vr=vr+Math.imul(Rr,Sn)|0,tr=tr+Math.imul(Rr,Dn)|0,tr=tr+Math.imul(Ar,Sn)|0,ur=ur+Math.imul(Ar,Dn)|0,vr=vr+Math.imul(yr,En)|0,tr=tr+Math.imul(yr,Fn)|0,tr=tr+Math.imul(Nr,En)|0,ur=ur+Math.imul(Nr,Fn)|0;var Vn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,vr=Math.imul(mn,Lr),tr=Math.imul(mn,Jr),tr=tr+Math.imul(An,Lr)|0,ur=Math.imul(An,Jr),vr=vr+Math.imul(Hr,Fr)|0,tr=tr+Math.imul(Hr,Qr)|0,tr=tr+Math.imul(yn,Fr)|0,ur=ur+Math.imul(yn,Qr)|0,vr=vr+Math.imul(cn,ln)|0,tr=tr+Math.imul(cn,pn)|0,tr=tr+Math.imul(Wr,ln)|0,ur=ur+Math.imul(Wr,pn)|0,vr=vr+Math.imul(un,_n)|0,tr=tr+Math.imul(un,jn)|0,tr=tr+Math.imul(tn,_n)|0,ur=ur+Math.imul(tn,jn)|0,vr=vr+Math.imul(rn,$n)|0,tr=tr+Math.imul(rn,Nn)|0,tr=tr+Math.imul(an,$n)|0,ur=ur+Math.imul(an,Nn)|0,vr=vr+Math.imul(Mr,wn)|0,tr=tr+Math.imul(Mr,Ln)|0,tr=tr+Math.imul(Gr,wn)|0,ur=ur+Math.imul(Gr,Ln)|0,vr=vr+Math.imul(Kr,Sn)|0,tr=tr+Math.imul(Kr,Dn)|0,tr=tr+Math.imul(Zr,Sn)|0,ur=ur+Math.imul(Zr,Dn)|0,vr=vr+Math.imul(Rr,En)|0,tr=tr+Math.imul(Rr,Fn)|0,tr=tr+Math.imul(Ar,En)|0,ur=ur+Math.imul(Ar,Fn)|0,vr=vr+Math.imul(yr,Mn)|0,tr=tr+Math.imul(yr,qn)|0,tr=tr+Math.imul(Nr,Mn)|0,ur=ur+Math.imul(Nr,qn)|0;var Jn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,vr=Math.imul(Cr,Lr),tr=Math.imul(Cr,Jr),tr=tr+Math.imul($r,Lr)|0,ur=Math.imul($r,Jr),vr=vr+Math.imul(mn,Fr)|0,tr=tr+Math.imul(mn,Qr)|0,tr=tr+Math.imul(An,Fr)|0,ur=ur+Math.imul(An,Qr)|0,vr=vr+Math.imul(Hr,ln)|0,tr=tr+Math.imul(Hr,pn)|0,tr=tr+Math.imul(yn,ln)|0,ur=ur+Math.imul(yn,pn)|0,vr=vr+Math.imul(cn,_n)|0,tr=tr+Math.imul(cn,jn)|0,tr=tr+Math.imul(Wr,_n)|0,ur=ur+Math.imul(Wr,jn)|0,vr=vr+Math.imul(un,$n)|0,tr=tr+Math.imul(un,Nn)|0,tr=tr+Math.imul(tn,$n)|0,ur=ur+Math.imul(tn,Nn)|0,vr=vr+Math.imul(rn,wn)|0,tr=tr+Math.imul(rn,Ln)|0,tr=tr+Math.imul(an,wn)|0,ur=ur+Math.imul(an,Ln)|0,vr=vr+Math.imul(Mr,Sn)|0,tr=tr+Math.imul(Mr,Dn)|0,tr=tr+Math.imul(Gr,Sn)|0,ur=ur+Math.imul(Gr,Dn)|0,vr=vr+Math.imul(Kr,En)|0,tr=tr+Math.imul(Kr,Fn)|0,tr=tr+Math.imul(Zr,En)|0,ur=ur+Math.imul(Zr,Fn)|0,vr=vr+Math.imul(Rr,Mn)|0,tr=tr+Math.imul(Rr,qn)|0,tr=tr+Math.imul(Ar,Mn)|0,ur=ur+Math.imul(Ar,qn)|0,vr=vr+Math.imul(yr,In)|0,tr=tr+Math.imul(yr,Un)|0,tr=tr+Math.imul(Nr,In)|0,ur=ur+Math.imul(Nr,Un)|0;var Zn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,vr=Math.imul(Cr,Fr),tr=Math.imul(Cr,Qr),tr=tr+Math.imul($r,Fr)|0,ur=Math.imul($r,Qr),vr=vr+Math.imul(mn,ln)|0,tr=tr+Math.imul(mn,pn)|0,tr=tr+Math.imul(An,ln)|0,ur=ur+Math.imul(An,pn)|0,vr=vr+Math.imul(Hr,_n)|0,tr=tr+Math.imul(Hr,jn)|0,tr=tr+Math.imul(yn,_n)|0,ur=ur+Math.imul(yn,jn)|0,vr=vr+Math.imul(cn,$n)|0,tr=tr+Math.imul(cn,Nn)|0,tr=tr+Math.imul(Wr,$n)|0,ur=ur+Math.imul(Wr,Nn)|0,vr=vr+Math.imul(un,wn)|0,tr=tr+Math.imul(un,Ln)|0,tr=tr+Math.imul(tn,wn)|0,ur=ur+Math.imul(tn,Ln)|0,vr=vr+Math.imul(rn,Sn)|0,tr=tr+Math.imul(rn,Dn)|0,tr=tr+Math.imul(an,Sn)|0,ur=ur+Math.imul(an,Dn)|0,vr=vr+Math.imul(Mr,En)|0,tr=tr+Math.imul(Mr,Fn)|0,tr=tr+Math.imul(Gr,En)|0,ur=ur+Math.imul(Gr,Fn)|0,vr=vr+Math.imul(Kr,Mn)|0,tr=tr+Math.imul(Kr,qn)|0,tr=tr+Math.imul(Zr,Mn)|0,ur=ur+Math.imul(Zr,qn)|0,vr=vr+Math.imul(Rr,In)|0,tr=tr+Math.imul(Rr,Un)|0,tr=tr+Math.imul(Ar,In)|0,ur=ur+Math.imul(Ar,Un)|0;var Yn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,vr=Math.imul(Cr,ln),tr=Math.imul(Cr,pn),tr=tr+Math.imul($r,ln)|0,ur=Math.imul($r,pn),vr=vr+Math.imul(mn,_n)|0,tr=tr+Math.imul(mn,jn)|0,tr=tr+Math.imul(An,_n)|0,ur=ur+Math.imul(An,jn)|0,vr=vr+Math.imul(Hr,$n)|0,tr=tr+Math.imul(Hr,Nn)|0,tr=tr+Math.imul(yn,$n)|0,ur=ur+Math.imul(yn,Nn)|0,vr=vr+Math.imul(cn,wn)|0,tr=tr+Math.imul(cn,Ln)|0,tr=tr+Math.imul(Wr,wn)|0,ur=ur+Math.imul(Wr,Ln)|0,vr=vr+Math.imul(un,Sn)|0,tr=tr+Math.imul(un,Dn)|0,tr=tr+Math.imul(tn,Sn)|0,ur=ur+Math.imul(tn,Dn)|0,vr=vr+Math.imul(rn,En)|0,tr=tr+Math.imul(rn,Fn)|0,tr=tr+Math.imul(an,En)|0,ur=ur+Math.imul(an,Fn)|0,vr=vr+Math.imul(Mr,Mn)|0,tr=tr+Math.imul(Mr,qn)|0,tr=tr+Math.imul(Gr,Mn)|0,ur=ur+Math.imul(Gr,qn)|0,vr=vr+Math.imul(Kr,In)|0,tr=tr+Math.imul(Kr,Un)|0,tr=tr+Math.imul(Zr,In)|0,ur=ur+Math.imul(Zr,Un)|0;var Xn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,vr=Math.imul(Cr,_n),tr=Math.imul(Cr,jn),tr=tr+Math.imul($r,_n)|0,ur=Math.imul($r,jn),vr=vr+Math.imul(mn,$n)|0,tr=tr+Math.imul(mn,Nn)|0,tr=tr+Math.imul(An,$n)|0,ur=ur+Math.imul(An,Nn)|0,vr=vr+Math.imul(Hr,wn)|0,tr=tr+Math.imul(Hr,Ln)|0,tr=tr+Math.imul(yn,wn)|0,ur=ur+Math.imul(yn,Ln)|0,vr=vr+Math.imul(cn,Sn)|0,tr=tr+Math.imul(cn,Dn)|0,tr=tr+Math.imul(Wr,Sn)|0,ur=ur+Math.imul(Wr,Dn)|0,vr=vr+Math.imul(un,En)|0,tr=tr+Math.imul(un,Fn)|0,tr=tr+Math.imul(tn,En)|0,ur=ur+Math.imul(tn,Fn)|0,vr=vr+Math.imul(rn,Mn)|0,tr=tr+Math.imul(rn,qn)|0,tr=tr+Math.imul(an,Mn)|0,ur=ur+Math.imul(an,qn)|0,vr=vr+Math.imul(Mr,In)|0,tr=tr+Math.imul(Mr,Un)|0,tr=tr+Math.imul(Gr,In)|0,ur=ur+Math.imul(Gr,Un)|0;var Qn=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,vr=Math.imul(Cr,$n),tr=Math.imul(Cr,Nn),tr=tr+Math.imul($r,$n)|0,ur=Math.imul($r,Nn),vr=vr+Math.imul(mn,wn)|0,tr=tr+Math.imul(mn,Ln)|0,tr=tr+Math.imul(An,wn)|0,ur=ur+Math.imul(An,Ln)|0,vr=vr+Math.imul(Hr,Sn)|0,tr=tr+Math.imul(Hr,Dn)|0,tr=tr+Math.imul(yn,Sn)|0,ur=ur+Math.imul(yn,Dn)|0,vr=vr+Math.imul(cn,En)|0,tr=tr+Math.imul(cn,Fn)|0,tr=tr+Math.imul(Wr,En)|0,ur=ur+Math.imul(Wr,Fn)|0,vr=vr+Math.imul(un,Mn)|0,tr=tr+Math.imul(un,qn)|0,tr=tr+Math.imul(tn,Mn)|0,ur=ur+Math.imul(tn,qn)|0,vr=vr+Math.imul(rn,In)|0,tr=tr+Math.imul(rn,Un)|0,tr=tr+Math.imul(an,In)|0,ur=ur+Math.imul(an,Un)|0;var ei=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(ei>>>26)|0,ei&=67108863,vr=Math.imul(Cr,wn),tr=Math.imul(Cr,Ln),tr=tr+Math.imul($r,wn)|0,ur=Math.imul($r,Ln),vr=vr+Math.imul(mn,Sn)|0,tr=tr+Math.imul(mn,Dn)|0,tr=tr+Math.imul(An,Sn)|0,ur=ur+Math.imul(An,Dn)|0,vr=vr+Math.imul(Hr,En)|0,tr=tr+Math.imul(Hr,Fn)|0,tr=tr+Math.imul(yn,En)|0,ur=ur+Math.imul(yn,Fn)|0,vr=vr+Math.imul(cn,Mn)|0,tr=tr+Math.imul(cn,qn)|0,tr=tr+Math.imul(Wr,Mn)|0,ur=ur+Math.imul(Wr,qn)|0,vr=vr+Math.imul(un,In)|0,tr=tr+Math.imul(un,Un)|0,tr=tr+Math.imul(tn,In)|0,ur=ur+Math.imul(tn,Un)|0;var ti=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(ti>>>26)|0,ti&=67108863,vr=Math.imul(Cr,Sn),tr=Math.imul(Cr,Dn),tr=tr+Math.imul($r,Sn)|0,ur=Math.imul($r,Dn),vr=vr+Math.imul(mn,En)|0,tr=tr+Math.imul(mn,Fn)|0,tr=tr+Math.imul(An,En)|0,ur=ur+Math.imul(An,Fn)|0,vr=vr+Math.imul(Hr,Mn)|0,tr=tr+Math.imul(Hr,qn)|0,tr=tr+Math.imul(yn,Mn)|0,ur=ur+Math.imul(yn,qn)|0,vr=vr+Math.imul(cn,In)|0,tr=tr+Math.imul(cn,Un)|0,tr=tr+Math.imul(Wr,In)|0,ur=ur+Math.imul(Wr,Un)|0;var ri=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(ri>>>26)|0,ri&=67108863,vr=Math.imul(Cr,En),tr=Math.imul(Cr,Fn),tr=tr+Math.imul($r,En)|0,ur=Math.imul($r,Fn),vr=vr+Math.imul(mn,Mn)|0,tr=tr+Math.imul(mn,qn)|0,tr=tr+Math.imul(An,Mn)|0,ur=ur+Math.imul(An,qn)|0,vr=vr+Math.imul(Hr,In)|0,tr=tr+Math.imul(Hr,Un)|0,tr=tr+Math.imul(yn,In)|0,ur=ur+Math.imul(yn,Un)|0;var ni=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(ni>>>26)|0,ni&=67108863,vr=Math.imul(Cr,Mn),tr=Math.imul(Cr,qn),tr=tr+Math.imul($r,Mn)|0,ur=Math.imul($r,qn),vr=vr+Math.imul(mn,In)|0,tr=tr+Math.imul(mn,Un)|0,tr=tr+Math.imul(An,In)|0,ur=ur+Math.imul(An,Un)|0;var ii=(lr+vr|0)+((tr&8191)<<13)|0;lr=(ur+(tr>>>13)|0)+(ii>>>26)|0,ii&=67108863,vr=Math.imul(Cr,In),tr=Math.imul(Cr,Un),tr=tr+Math.imul($r,In)|0,ur=Math.imul($r,Un);var oi=(lr+vr|0)+((tr&8191)<<13)|0;return lr=(ur+(tr>>>13)|0)+(oi>>>26)|0,oi&=67108863,pr[0]=Rn,pr[1]=kn,pr[2]=Gn,pr[3]=Kn,pr[4]=Hn,pr[5]=Wn,pr[6]=zn,pr[7]=Vn,pr[8]=Jn,pr[9]=Zn,pr[10]=Yn,pr[11]=Xn,pr[12]=Qn,pr[13]=ei,pr[14]=ti,pr[15]=ri,pr[16]=ni,pr[17]=ii,pr[18]=oi,lr!==0&&(pr[19]=lr,ht.length++),ht};Math.imul||(wr=gr);function Er(Ir,br,Vt){Vt.negative=br.negative^Ir.negative,Vt.length=Ir.length+br.length;for(var ht=0,Ct=0,or=0;or<Vt.length-1;or++){var pr=Ct;Ct=0;for(var lr=ht&67108863,vr=Math.min(or,br.length-1),tr=Math.max(0,or-Ir.length+1);tr<=vr;tr++){var ur=or-tr,Ft=Ir.words[ur]|0,yr=br.words[tr]|0,Nr=Ft*yr,qr=Nr&67108863;pr=pr+(Nr/67108864|0)|0,qr=qr+lr|0,lr=qr&67108863,pr=pr+(qr>>>26)|0,Ct+=pr>>>26,pr&=67108863}Vt.words[or]=lr,ht=pr,pr=Ct}return ht!==0?Vt.words[or]=ht:Vt.length--,Vt.strip()}function _r(Ir,br,Vt){var ht=new Sr;return ht.mulp(Ir,br,Vt)}Je.prototype.mulTo=function(br,Vt){var ht,Ct=this.length+br.length;return this.length===10&&br.length===10?ht=wr(this,br,Vt):Ct<63?ht=gr(this,br,Vt):Ct<1024?ht=Er(this,br,Vt):ht=_r(this,br,Vt),ht};function Sr(Ir,br){this.x=Ir,this.y=br}Sr.prototype.makeRBT=function(br){for(var Vt=new Array(br),ht=Je.prototype._countBits(br)-1,Ct=0;Ct<br;Ct++)Vt[Ct]=this.revBin(Ct,ht,br);return Vt},Sr.prototype.revBin=function(br,Vt,ht){if(br===0||br===ht-1)return br;for(var Ct=0,or=0;or<Vt;or++)Ct|=(br&1)<<Vt-or-1,br>>=1;return Ct},Sr.prototype.permute=function(br,Vt,ht,Ct,or,pr){for(var lr=0;lr<pr;lr++)Ct[lr]=Vt[br[lr]],or[lr]=ht[br[lr]]},Sr.prototype.transform=function(br,Vt,ht,Ct,or,pr){this.permute(pr,br,Vt,ht,Ct,or);for(var lr=1;lr<or;lr<<=1)for(var vr=lr<<1,tr=Math.cos(2*Math.PI/vr),ur=Math.sin(2*Math.PI/vr),Ft=0;Ft<or;Ft+=vr)for(var yr=tr,Nr=ur,qr=0;qr<lr;qr++){var Rr=ht[Ft+qr],Ar=Ct[Ft+qr],Tr=ht[Ft+qr+lr],Kr=Ct[Ft+qr+lr],Zr=yr*Tr-Nr*Kr;Kr=yr*Kr+Nr*Tr,Tr=Zr,ht[Ft+qr]=Rr+Tr,Ct[Ft+qr]=Ar+Kr,ht[Ft+qr+lr]=Rr-Tr,Ct[Ft+qr+lr]=Ar-Kr,qr!==vr&&(Zr=tr*yr-ur*Nr,Nr=tr*Nr+ur*yr,yr=Zr)}},Sr.prototype.guessLen13b=function(br,Vt){var ht=Math.max(Vt,br)|1,Ct=ht&1,or=0;for(ht=ht/2|0;ht;ht=ht>>>1)or++;return 1<<or+1+Ct},Sr.prototype.conjugate=function(br,Vt,ht){if(!(ht<=1))for(var Ct=0;Ct<ht/2;Ct++){var or=br[Ct];br[Ct]=br[ht-Ct-1],br[ht-Ct-1]=or,or=Vt[Ct],Vt[Ct]=-Vt[ht-Ct-1],Vt[ht-Ct-1]=-or}},Sr.prototype.normalize13b=function(br,Vt){for(var ht=0,Ct=0;Ct<Vt/2;Ct++){var or=Math.round(br[2*Ct+1]/Vt)*8192+Math.round(br[2*Ct]/Vt)+ht;br[Ct]=or&67108863,or<67108864?ht=0:ht=or/67108864|0}return br},Sr.prototype.convert13b=function(br,Vt,ht,Ct){for(var or=0,pr=0;pr<Vt;pr++)or=or+(br[pr]|0),ht[2*pr]=or&8191,or=or>>>13,ht[2*pr+1]=or&8191,or=or>>>13;for(pr=2*Vt;pr<Ct;++pr)ht[pr]=0;Ne(or===0),Ne((or&-8192)===0)},Sr.prototype.stub=function(br){for(var Vt=new Array(br),ht=0;ht<br;ht++)Vt[ht]=0;return Vt},Sr.prototype.mulp=function(br,Vt,ht){var Ct=2*this.guessLen13b(br.length,Vt.length),or=this.makeRBT(Ct),pr=this.stub(Ct),lr=new Array(Ct),vr=new Array(Ct),tr=new Array(Ct),ur=new Array(Ct),Ft=new Array(Ct),yr=new Array(Ct),Nr=ht.words;Nr.length=Ct,this.convert13b(br.words,br.length,lr,Ct),this.convert13b(Vt.words,Vt.length,ur,Ct),this.transform(lr,pr,vr,tr,Ct,or),this.transform(ur,pr,Ft,yr,Ct,or);for(var qr=0;qr<Ct;qr++){var Rr=vr[qr]*Ft[qr]-tr[qr]*yr[qr];tr[qr]=vr[qr]*yr[qr]+tr[qr]*Ft[qr],vr[qr]=Rr}return this.conjugate(vr,tr,Ct),this.transform(vr,tr,Nr,pr,Ct,or),this.conjugate(Nr,pr,Ct),this.normalize13b(Nr,Ct),ht.negative=br.negative^Vt.negative,ht.length=br.length+Vt.length,ht.strip()},Je.prototype.mul=function(br){var Vt=new Je(null);return Vt.words=new Array(this.length+br.length),this.mulTo(br,Vt)},Je.prototype.mulf=function(br){var Vt=new Je(null);return Vt.words=new Array(this.length+br.length),_r(this,br,Vt)},Je.prototype.imul=function(br){return this.clone().mulTo(br,this)},Je.prototype.imuln=function(br){Ne(typeof br=="number"),Ne(br<67108864);for(var Vt=0,ht=0;ht<this.length;ht++){var Ct=(this.words[ht]|0)*br,or=(Ct&67108863)+(Vt&67108863);Vt>>=26,Vt+=Ct/67108864|0,Vt+=or>>>26,this.words[ht]=or&67108863}return Vt!==0&&(this.words[ht]=Vt,this.length++),this.length=br===0?1:this.length,this},Je.prototype.muln=function(br){return this.clone().imuln(br)},Je.prototype.sqr=function(){return this.mul(this)},Je.prototype.isqr=function(){return this.imul(this.clone())},Je.prototype.pow=function(br){var Vt=ar(br);if(Vt.length===0)return new Je(1);for(var ht=this,Ct=0;Ct<Vt.length&&Vt[Ct]===0;Ct++,ht=ht.sqr());if(++Ct<Vt.length)for(var or=ht.sqr();Ct<Vt.length;Ct++,or=or.sqr())Vt[Ct]!==0&&(ht=ht.mul(or));return ht},Je.prototype.iushln=function(br){Ne(typeof br=="number"&&br>=0);var Vt=br%26,ht=(br-Vt)/26,Ct=67108863>>>26-Vt<<26-Vt,or;if(Vt!==0){var pr=0;for(or=0;or<this.length;or++){var lr=this.words[or]&Ct,vr=(this.words[or]|0)-lr<<Vt;this.words[or]=vr|pr,pr=lr>>>26-Vt}pr&&(this.words[or]=pr,this.length++)}if(ht!==0){for(or=this.length-1;or>=0;or--)this.words[or+ht]=this.words[or];for(or=0;or<ht;or++)this.words[or]=0;this.length+=ht}return this.strip()},Je.prototype.ishln=function(br){return Ne(this.negative===0),this.iushln(br)},Je.prototype.iushrn=function(br,Vt,ht){Ne(typeof br=="number"&&br>=0);var Ct;Vt?Ct=(Vt-Vt%26)/26:Ct=0;var or=br%26,pr=Math.min((br-or)/26,this.length),lr=67108863^67108863>>>or<<or,vr=ht;if(Ct-=pr,Ct=Math.max(0,Ct),vr){for(var tr=0;tr<pr;tr++)vr.words[tr]=this.words[tr];vr.length=pr}if(pr!==0)if(this.length>pr)for(this.length-=pr,tr=0;tr<this.length;tr++)this.words[tr]=this.words[tr+pr];else this.words[0]=0,this.length=1;var ur=0;for(tr=this.length-1;tr>=0&&(ur!==0||tr>=Ct);tr--){var Ft=this.words[tr]|0;this.words[tr]=ur<<26-or|Ft>>>or,ur=Ft&lr}return vr&&ur!==0&&(vr.words[vr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Je.prototype.ishrn=function(br,Vt,ht){return Ne(this.negative===0),this.iushrn(br,Vt,ht)},Je.prototype.shln=function(br){return this.clone().ishln(br)},Je.prototype.ushln=function(br){return this.clone().iushln(br)},Je.prototype.shrn=function(br){return this.clone().ishrn(br)},Je.prototype.ushrn=function(br){return this.clone().iushrn(br)},Je.prototype.testn=function(br){Ne(typeof br=="number"&&br>=0);var Vt=br%26,ht=(br-Vt)/26,Ct=1<<Vt;if(this.length<=ht)return!1;var or=this.words[ht];return!!(or&Ct)},Je.prototype.imaskn=function(br){Ne(typeof br=="number"&&br>=0);var Vt=br%26,ht=(br-Vt)/26;if(Ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ht)return this;if(Vt!==0&&ht++,this.length=Math.min(ht,this.length),Vt!==0){var Ct=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Ct}return this.strip()},Je.prototype.maskn=function(br){return this.clone().imaskn(br)},Je.prototype.iaddn=function(br){return Ne(typeof br=="number"),Ne(br<67108864),br<0?this.isubn(-br):this.negative!==0?this.length===1&&(this.words[0]|0)<br?(this.words[0]=br-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(br),this.negative=1,this):this._iaddn(br)},Je.prototype._iaddn=function(br){this.words[0]+=br;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},Je.prototype.isubn=function(br){if(Ne(typeof br=="number"),Ne(br<67108864),br<0)return this.iaddn(-br);if(this.negative!==0)return this.negative=0,this.iaddn(br),this.negative=1,this;if(this.words[0]-=br,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},Je.prototype.addn=function(br){return this.clone().iaddn(br)},Je.prototype.subn=function(br){return this.clone().isubn(br)},Je.prototype.iabs=function(){return this.negative=0,this},Je.prototype.abs=function(){return this.clone().iabs()},Je.prototype._ishlnsubmul=function(br,Vt,ht){var Ct=br.length+ht,or;this._expand(Ct);var pr,lr=0;for(or=0;or<br.length;or++){pr=(this.words[or+ht]|0)+lr;var vr=(br.words[or]|0)*Vt;pr-=vr&67108863,lr=(pr>>26)-(vr/67108864|0),this.words[or+ht]=pr&67108863}for(;or<this.length-ht;or++)pr=(this.words[or+ht]|0)+lr,lr=pr>>26,this.words[or+ht]=pr&67108863;if(lr===0)return this.strip();for(Ne(lr===-1),lr=0,or=0;or<this.length;or++)pr=-(this.words[or]|0)+lr,lr=pr>>26,this.words[or]=pr&67108863;return this.negative=1,this.strip()},Je.prototype._wordDiv=function(br,Vt){var ht=this.length-br.length,Ct=this.clone(),or=br,pr=or.words[or.length-1]|0,lr=this._countBits(pr);ht=26-lr,ht!==0&&(or=or.ushln(ht),Ct.iushln(ht),pr=or.words[or.length-1]|0);var vr=Ct.length-or.length,tr;if(Vt!=="mod"){tr=new Je(null),tr.length=vr+1,tr.words=new Array(tr.length);for(var ur=0;ur<tr.length;ur++)tr.words[ur]=0}var Ft=Ct.clone()._ishlnsubmul(or,1,vr);Ft.negative===0&&(Ct=Ft,tr&&(tr.words[vr]=1));for(var yr=vr-1;yr>=0;yr--){var Nr=(Ct.words[or.length+yr]|0)*67108864+(Ct.words[or.length+yr-1]|0);for(Nr=Math.min(Nr/pr|0,67108863),Ct._ishlnsubmul(or,Nr,yr);Ct.negative!==0;)Nr--,Ct.negative=0,Ct._ishlnsubmul(or,1,yr),Ct.isZero()||(Ct.negative^=1);tr&&(tr.words[yr]=Nr)}return tr&&tr.strip(),Ct.strip(),Vt!=="div"&&ht!==0&&Ct.iushrn(ht),{div:tr||null,mod:Ct}},Je.prototype.divmod=function(br,Vt,ht){if(Ne(!br.isZero()),this.isZero())return{div:new Je(0),mod:new Je(0)};var Ct,or,pr;return this.negative!==0&&br.negative===0?(pr=this.neg().divmod(br,Vt),Vt!=="mod"&&(Ct=pr.div.neg()),Vt!=="div"&&(or=pr.mod.neg(),ht&&or.negative!==0&&or.iadd(br)),{div:Ct,mod:or}):this.negative===0&&br.negative!==0?(pr=this.divmod(br.neg(),Vt),Vt!=="mod"&&(Ct=pr.div.neg()),{div:Ct,mod:pr.mod}):this.negative&br.negative?(pr=this.neg().divmod(br.neg(),Vt),Vt!=="div"&&(or=pr.mod.neg(),ht&&or.negative!==0&&or.isub(br)),{div:pr.div,mod:or}):br.length>this.length||this.cmp(br)<0?{div:new Je(0),mod:this}:br.length===1?Vt==="div"?{div:this.divn(br.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new Je(this.modn(br.words[0]))}:{div:this.divn(br.words[0]),mod:new Je(this.modn(br.words[0]))}:this._wordDiv(br,Vt)},Je.prototype.div=function(br){return this.divmod(br,"div",!1).div},Je.prototype.mod=function(br){return this.divmod(br,"mod",!1).mod},Je.prototype.umod=function(br){return this.divmod(br,"mod",!0).mod},Je.prototype.divRound=function(br){var Vt=this.divmod(br);if(Vt.mod.isZero())return Vt.div;var ht=Vt.div.negative!==0?Vt.mod.isub(br):Vt.mod,Ct=br.ushrn(1),or=br.andln(1),pr=ht.cmp(Ct);return pr<0||or===1&&pr===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},Je.prototype.modn=function(br){Ne(br<=67108863);for(var Vt=(1<<26)%br,ht=0,Ct=this.length-1;Ct>=0;Ct--)ht=(Vt*ht+(this.words[Ct]|0))%br;return ht},Je.prototype.idivn=function(br){Ne(br<=67108863);for(var Vt=0,ht=this.length-1;ht>=0;ht--){var Ct=(this.words[ht]|0)+Vt*67108864;this.words[ht]=Ct/br|0,Vt=Ct%br}return this.strip()},Je.prototype.divn=function(br){return this.clone().idivn(br)},Je.prototype.egcd=function(br){Ne(br.negative===0),Ne(!br.isZero());var Vt=this,ht=br.clone();Vt.negative!==0?Vt=Vt.umod(br):Vt=Vt.clone();for(var Ct=new Je(1),or=new Je(0),pr=new Je(0),lr=new Je(1),vr=0;Vt.isEven()&&ht.isEven();)Vt.iushrn(1),ht.iushrn(1),++vr;for(var tr=ht.clone(),ur=Vt.clone();!Vt.isZero();){for(var Ft=0,yr=1;!(Vt.words[0]&yr)&&Ft<26;++Ft,yr<<=1);if(Ft>0)for(Vt.iushrn(Ft);Ft-- >0;)(Ct.isOdd()||or.isOdd())&&(Ct.iadd(tr),or.isub(ur)),Ct.iushrn(1),or.iushrn(1);for(var Nr=0,qr=1;!(ht.words[0]&qr)&&Nr<26;++Nr,qr<<=1);if(Nr>0)for(ht.iushrn(Nr);Nr-- >0;)(pr.isOdd()||lr.isOdd())&&(pr.iadd(tr),lr.isub(ur)),pr.iushrn(1),lr.iushrn(1);Vt.cmp(ht)>=0?(Vt.isub(ht),Ct.isub(pr),or.isub(lr)):(ht.isub(Vt),pr.isub(Ct),lr.isub(or))}return{a:pr,b:lr,gcd:ht.iushln(vr)}},Je.prototype._invmp=function(br){Ne(br.negative===0),Ne(!br.isZero());var Vt=this,ht=br.clone();Vt.negative!==0?Vt=Vt.umod(br):Vt=Vt.clone();for(var Ct=new Je(1),or=new Je(0),pr=ht.clone();Vt.cmpn(1)>0&&ht.cmpn(1)>0;){for(var lr=0,vr=1;!(Vt.words[0]&vr)&&lr<26;++lr,vr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Ct.isOdd()&&Ct.iadd(pr),Ct.iushrn(1);for(var tr=0,ur=1;!(ht.words[0]&ur)&&tr<26;++tr,ur<<=1);if(tr>0)for(ht.iushrn(tr);tr-- >0;)or.isOdd()&&or.iadd(pr),or.iushrn(1);Vt.cmp(ht)>=0?(Vt.isub(ht),Ct.isub(or)):(ht.isub(Vt),or.isub(Ct))}var Ft;return Vt.cmpn(1)===0?Ft=Ct:Ft=or,Ft.cmpn(0)<0&&Ft.iadd(br),Ft},Je.prototype.gcd=function(br){if(this.isZero())return br.abs();if(br.isZero())return this.abs();var Vt=this.clone(),ht=br.clone();Vt.negative=0,ht.negative=0;for(var Ct=0;Vt.isEven()&&ht.isEven();Ct++)Vt.iushrn(1),ht.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;ht.isEven();)ht.iushrn(1);var or=Vt.cmp(ht);if(or<0){var pr=Vt;Vt=ht,ht=pr}else if(or===0||ht.cmpn(1)===0)break;Vt.isub(ht)}while(!0);return ht.iushln(Ct)},Je.prototype.invm=function(br){return this.egcd(br).a.umod(br)},Je.prototype.isEven=function(){return(this.words[0]&1)===0},Je.prototype.isOdd=function(){return(this.words[0]&1)===1},Je.prototype.andln=function(br){return this.words[0]&br},Je.prototype.bincn=function(br){Ne(typeof br=="number");var Vt=br%26,ht=(br-Vt)/26,Ct=1<<Vt;if(this.length<=ht)return this._expand(ht+1),this.words[ht]|=Ct,this;for(var or=Ct,pr=ht;or!==0&&pr<this.length;pr++){var lr=this.words[pr]|0;lr+=or,or=lr>>>26,lr&=67108863,this.words[pr]=lr}return or!==0&&(this.words[pr]=or,this.length++),this},Je.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Je.prototype.cmpn=function(br){var Vt=br<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var ht;if(this.length>1)ht=1;else{Vt&&(br=-br),Ne(br<=67108863,"Number is too big");var Ct=this.words[0]|0;ht=Ct===br?0:Ct<br?-1:1}return this.negative!==0?-ht|0:ht},Je.prototype.cmp=function(br){if(this.negative!==0&&br.negative===0)return-1;if(this.negative===0&&br.negative!==0)return 1;var Vt=this.ucmp(br);return this.negative!==0?-Vt|0:Vt},Je.prototype.ucmp=function(br){if(this.length>br.length)return 1;if(this.length<br.length)return-1;for(var Vt=0,ht=this.length-1;ht>=0;ht--){var Ct=this.words[ht]|0,or=br.words[ht]|0;if(Ct!==or){Ct<or?Vt=-1:Ct>or&&(Vt=1);break}}return Vt},Je.prototype.gtn=function(br){return this.cmpn(br)===1},Je.prototype.gt=function(br){return this.cmp(br)===1},Je.prototype.gten=function(br){return this.cmpn(br)>=0},Je.prototype.gte=function(br){return this.cmp(br)>=0},Je.prototype.ltn=function(br){return this.cmpn(br)===-1},Je.prototype.lt=function(br){return this.cmp(br)===-1},Je.prototype.lten=function(br){return this.cmpn(br)<=0},Je.prototype.lte=function(br){return this.cmp(br)<=0},Je.prototype.eqn=function(br){return this.cmpn(br)===0},Je.prototype.eq=function(br){return this.cmp(br)===0},Je.red=function(br){return new Dr(br)},Je.prototype.toRed=function(br){return Ne(!this.red,"Already a number in reduction context"),Ne(this.negative===0,"red works only with positives"),br.convertTo(this)._forceRed(br)},Je.prototype.fromRed=function(){return Ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Je.prototype._forceRed=function(br){return this.red=br,this},Je.prototype.forceRed=function(br){return Ne(!this.red,"Already a number in reduction context"),this._forceRed(br)},Je.prototype.redAdd=function(br){return Ne(this.red,"redAdd works only with red numbers"),this.red.add(this,br)},Je.prototype.redIAdd=function(br){return Ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,br)},Je.prototype.redSub=function(br){return Ne(this.red,"redSub works only with red numbers"),this.red.sub(this,br)},Je.prototype.redISub=function(br){return Ne(this.red,"redISub works only with red numbers"),this.red.isub(this,br)},Je.prototype.redShl=function(br){return Ne(this.red,"redShl works only with red numbers"),this.red.shl(this,br)},Je.prototype.redMul=function(br){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,br),this.red.mul(this,br)},Je.prototype.redIMul=function(br){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,br),this.red.imul(this,br)},Je.prototype.redSqr=function(){return Ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Je.prototype.redISqr=function(){return Ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Je.prototype.redSqrt=function(){return Ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Je.prototype.redInvm=function(){return Ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Je.prototype.redNeg=function(){return Ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Je.prototype.redPow=function(br){return Ne(this.red&&!br.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,br)};var Or={k256:null,p224:null,p192:null,p25519:null};function Pr(Ir,br){this.name=Ir,this.p=new Je(br,16),this.n=this.p.bitLength(),this.k=new Je(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Pr.prototype._tmp=function(){var br=new Je(null);return br.words=new Array(Math.ceil(this.n/13)),br},Pr.prototype.ireduce=function(br){var Vt=br,ht;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),ht=Vt.bitLength();while(ht>this.n);var Ct=ht<this.n?-1:Vt.ucmp(this.p);return Ct===0?(Vt.words[0]=0,Vt.length=1):Ct>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},Pr.prototype.split=function(br,Vt){br.iushrn(this.n,0,Vt)},Pr.prototype.imulK=function(br){return br.imul(this.k)};function kr(){Pr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ze(kr,Pr),kr.prototype.split=function(br,Vt){for(var ht=4194303,Ct=Math.min(br.length,9),or=0;or<Ct;or++)Vt.words[or]=br.words[or];if(Vt.length=Ct,br.length<=9){br.words[0]=0,br.length=1;return}var pr=br.words[9];for(Vt.words[Vt.length++]=pr&ht,or=10;or<br.length;or++){var lr=br.words[or]|0;br.words[or-10]=(lr&ht)<<4|pr>>>22,pr=lr}pr>>>=22,br.words[or-10]=pr,pr===0&&br.length>10?br.length-=10:br.length-=9},kr.prototype.imulK=function(br){br.words[br.length]=0,br.words[br.length+1]=0,br.length+=2;for(var Vt=0,ht=0;ht<br.length;ht++){var Ct=br.words[ht]|0;Vt+=Ct*977,br.words[ht]=Vt&67108863,Vt=Ct*64+(Vt/67108864|0)}return br.words[br.length-1]===0&&(br.length--,br.words[br.length-1]===0&&br.length--),br};function Ur(){Pr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ze(Ur,Pr);function Yr(){Pr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ze(Yr,Pr);function jr(){Pr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ze(jr,Pr),jr.prototype.imulK=function(br){for(var Vt=0,ht=0;ht<br.length;ht++){var Ct=(br.words[ht]|0)*19+Vt,or=Ct&67108863;Ct>>>=26,br.words[ht]=or,Vt=Ct}return Vt!==0&&(br.words[br.length++]=Vt),br},Je._prime=function(br){if(Or[br])return Or[br];var Vt;if(br==="k256")Vt=new kr;else if(br==="p224")Vt=new Ur;else if(br==="p192")Vt=new Yr;else if(br==="p25519")Vt=new jr;else throw new Error("Unknown prime "+br);return Or[br]=Vt,Vt};function Dr(Ir){if(typeof Ir=="string"){var br=Je._prime(Ir);this.m=br.p,this.prime=br}else Ne(Ir.gtn(1),"modulus must be greater than 1"),this.m=Ir,this.prime=null}Dr.prototype._verify1=function(br){Ne(br.negative===0,"red works only with positives"),Ne(br.red,"red works only with red numbers")},Dr.prototype._verify2=function(br,Vt){Ne((br.negative|Vt.negative)===0,"red works only with positives"),Ne(br.red&&br.red===Vt.red,"red works only with red numbers")},Dr.prototype.imod=function(br){return this.prime?this.prime.ireduce(br)._forceRed(this):br.umod(this.m)._forceRed(this)},Dr.prototype.neg=function(br){return br.isZero()?br.clone():this.m.sub(br)._forceRed(this)},Dr.prototype.add=function(br,Vt){this._verify2(br,Vt);var ht=br.add(Vt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht._forceRed(this)},Dr.prototype.iadd=function(br,Vt){this._verify2(br,Vt);var ht=br.iadd(Vt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht},Dr.prototype.sub=function(br,Vt){this._verify2(br,Vt);var ht=br.sub(Vt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht._forceRed(this)},Dr.prototype.isub=function(br,Vt){this._verify2(br,Vt);var ht=br.isub(Vt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht},Dr.prototype.shl=function(br,Vt){return this._verify1(br),this.imod(br.ushln(Vt))},Dr.prototype.imul=function(br,Vt){return this._verify2(br,Vt),this.imod(br.imul(Vt))},Dr.prototype.mul=function(br,Vt){return this._verify2(br,Vt),this.imod(br.mul(Vt))},Dr.prototype.isqr=function(br){return this.imul(br,br.clone())},Dr.prototype.sqr=function(br){return this.mul(br,br)},Dr.prototype.sqrt=function(br){if(br.isZero())return br.clone();var Vt=this.m.andln(3);if(Ne(Vt%2===1),Vt===3){var ht=this.m.add(new Je(1)).iushrn(2);return this.pow(br,ht)}for(var Ct=this.m.subn(1),or=0;!Ct.isZero()&&Ct.andln(1)===0;)or++,Ct.iushrn(1);Ne(!Ct.isZero());var pr=new Je(1).toRed(this),lr=pr.redNeg(),vr=this.m.subn(1).iushrn(1),tr=this.m.bitLength();for(tr=new Je(2*tr*tr).toRed(this);this.pow(tr,vr).cmp(lr)!==0;)tr.redIAdd(lr);for(var ur=this.pow(tr,Ct),Ft=this.pow(br,Ct.addn(1).iushrn(1)),yr=this.pow(br,Ct),Nr=or;yr.cmp(pr)!==0;){for(var qr=yr,Rr=0;qr.cmp(pr)!==0;Rr++)qr=qr.redSqr();Ne(Rr<Nr);var Ar=this.pow(ur,new Je(1).iushln(Nr-Rr-1));Ft=Ft.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),Nr=Rr}return Ft},Dr.prototype.invm=function(br){var Vt=br._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Dr.prototype.pow=function(br,Vt){if(Vt.isZero())return new Je(1).toRed(this);if(Vt.cmpn(1)===0)return br.clone();var ht=4,Ct=new Array(1<<ht);Ct[0]=new Je(1).toRed(this),Ct[1]=br;for(var or=2;or<Ct.length;or++)Ct[or]=this.mul(Ct[or-1],br);var pr=Ct[0],lr=0,vr=0,tr=Vt.bitLength()%26;for(tr===0&&(tr=26),or=Vt.length-1;or>=0;or--){for(var ur=Vt.words[or],Ft=tr-1;Ft>=0;Ft--){var yr=ur>>Ft&1;if(pr!==Ct[0]&&(pr=this.sqr(pr)),yr===0&&lr===0){vr=0;continue}lr<<=1,lr|=yr,vr++,!(vr!==ht&&(or!==0||Ft!==0))&&(pr=this.mul(pr,Ct[lr]),vr=0,lr=0)}tr=26}return pr},Dr.prototype.convertTo=function(br){var Vt=br.umod(this.m);return Vt===br?Vt.clone():Vt},Dr.prototype.convertFrom=function(br){var Vt=br.clone();return Vt.red=null,Vt},Je.mont=function(br){return new Vr(br)};function Vr(Ir){Dr.call(this,Ir),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Je(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ze(Vr,Dr),Vr.prototype.convertTo=function(br){return this.imod(br.ushln(this.shift))},Vr.prototype.convertFrom=function(br){var Vt=this.imod(br.mul(this.rinv));return Vt.red=null,Vt},Vr.prototype.imul=function(br,Vt){if(br.isZero()||Vt.isZero())return br.words[0]=0,br.length=1,br;var ht=br.imul(Vt),Ct=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),or=ht.isub(Ct).iushrn(this.shift),pr=or;return or.cmp(this.m)>=0?pr=or.isub(this.m):or.cmpn(0)<0&&(pr=or.iadd(this.m)),pr._forceRed(this)},Vr.prototype.mul=function(br,Vt){if(br.isZero()||Vt.isZero())return new Je(0)._forceRed(this);var ht=br.mul(Vt),Ct=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),or=ht.isub(Ct).iushrn(this.shift),pr=or;return or.cmp(this.m)>=0?pr=or.isub(this.m):or.cmpn(0)<0&&(pr=or.iadd(this.m)),pr._forceRed(this)},Vr.prototype.invm=function(br){var Vt=this.imod(br._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(pe,commonjsGlobal$1)}(bn$2);var bnExports$2=bn$2.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var pe;brorand.exports=function(Ze){return pe||(pe=new ge(null)),pe.generate(Ze)};function ge(Ne){this.rand=Ne}if(brorand.exports.Rand=ge,ge.prototype.generate=function(Ze){return this._rand(Ze)},ge.prototype._rand=function(Ze){if(this.rand.getBytes)return this.rand.getBytes(Ze);for(var Je=new Uint8Array(Ze),Xe=0;Xe<Je.length;Xe++)Je[Xe]=this.rand.getByte();return Je},typeof self=="object")self.crypto&&self.crypto.getRandomValues?ge.prototype._rand=function(Ze){var Je=new Uint8Array(Ze);return self.crypto.getRandomValues(Je),Je}:self.msCrypto&&self.msCrypto.getRandomValues?ge.prototype._rand=function(Ze){var Je=new Uint8Array(Ze);return self.msCrypto.getRandomValues(Je),Je}:typeof window=="object"&&(ge.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Se=requireCryptoBrowserify();if(typeof Se.randomBytes!="function")throw new Error("Not supported");ge.prototype._rand=function(Ze){return Se.randomBytes(Ze)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var pe=bnExports$2,ge=requireBrorand();function Se(Ne){this.rand=Ne||new ge.Rand}return mr$1=Se,Se.create=function(Ze){return new Se(Ze)},Se.prototype._randbelow=function(Ze){var Je=Ze.bitLength(),Xe=Math.ceil(Je/8);do var vt=new pe(this.rand.generate(Xe));while(vt.cmp(Ze)>=0);return vt},Se.prototype._randrange=function(Ze,Je){var Xe=Je.sub(Ze);return Ze.add(this._randbelow(Xe))},Se.prototype.test=function(Ze,Je,Xe){var vt=Ze.bitLength(),gt=pe.mont(Ze),kt=new pe(1).toRed(gt);Je||(Je=Math.max(1,vt/48|0));for(var mt=Ze.subn(1),xt=0;!mt.testn(xt);xt++);for(var fr=Ze.shrn(xt),ar=mt.toRed(gt),gr=!0;Je>0;Je--){var wr=this._randrange(new pe(2),mt);Xe&&Xe(wr);var Er=wr.toRed(gt).redPow(fr);if(!(Er.cmp(kt)===0||Er.cmp(ar)===0)){for(var _r=1;_r<xt;_r++){if(Er=Er.redSqr(),Er.cmp(kt)===0)return!1;if(Er.cmp(ar)===0)break}if(_r===xt)return!1}}return gr},Se.prototype.getDivisor=function(Ze,Je){var Xe=Ze.bitLength(),vt=pe.mont(Ze),gt=new pe(1).toRed(vt);Je||(Je=Math.max(1,Xe/48|0));for(var kt=Ze.subn(1),mt=0;!kt.testn(mt);mt++);for(var xt=Ze.shrn(mt),fr=kt.toRed(vt);Je>0;Je--){var ar=this._randrange(new pe(2),kt),gr=Ze.gcd(ar);if(gr.cmpn(1)!==0)return gr;var wr=ar.toRed(vt).redPow(xt);if(!(wr.cmp(gt)===0||wr.cmp(fr)===0)){for(var Er=1;Er<mt;Er++){if(wr=wr.redSqr(),wr.cmp(gt)===0)return wr.fromRed().subn(1).gcd(Ze);if(wr.cmp(fr)===0)break}if(Er===mt)return wr=wr.redSqr(),wr.fromRed().subn(1).gcd(Ze)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var pe=browserExports;generatePrime=Er,Er.simpleSieve=gr,Er.fermatTest=wr;var ge=bnExports$2,Se=new ge(24),Ne=requireMr(),Ze=new Ne,Je=new ge(1),Xe=new ge(2),vt=new ge(5);new ge(16),new ge(8);var gt=new ge(10),kt=new ge(3);new ge(7);var mt=new ge(11),xt=new ge(4);new ge(12);var fr=null;function ar(){if(fr!==null)return fr;var _r=1048576,Sr=[];Sr[0]=2;for(var Or=1,Pr=3;Pr<_r;Pr+=2){for(var kr=Math.ceil(Math.sqrt(Pr)),Ur=0;Ur<Or&&Sr[Ur]<=kr&&Pr%Sr[Ur]!==0;Ur++);Or!==Ur&&Sr[Ur]<=kr||(Sr[Or++]=Pr)}return fr=Sr,Sr}function gr(_r){for(var Sr=ar(),Or=0;Or<Sr.length;Or++)if(_r.modn(Sr[Or])===0)return _r.cmpn(Sr[Or])===0;return!0}function wr(_r){var Sr=ge.mont(_r);return Xe.toRed(Sr).redPow(_r.subn(1)).fromRed().cmpn(1)===0}function Er(_r,Sr){if(_r<16)return Sr===2||Sr===5?new ge([140,123]):new ge([140,39]);Sr=new ge(Sr);for(var Or,Pr;;){for(Or=new ge(pe(Math.ceil(_r/8)));Or.bitLength()>_r;)Or.ishrn(1);if(Or.isEven()&&Or.iadd(Je),Or.testn(1)||Or.iadd(Xe),Sr.cmp(Xe)){if(!Sr.cmp(vt))for(;Or.mod(gt).cmp(kt);)Or.iadd(xt)}else for(;Or.mod(Se).cmp(mt);)Or.iadd(xt);if(Pr=Or.shrn(1),gr(Pr)&&gr(Or)&&wr(Pr)&&wr(Or)&&Ze.test(Pr)&&Ze.test(Or))return Or}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var pe=bnExports$2,ge=requireMr(),Se=new ge,Ne=new pe(24),Ze=new pe(11),Je=new pe(10),Xe=new pe(3),vt=new pe(7),gt=requireGeneratePrime(),kt=browserExports;dh=gr;function mt(Er,_r){return _r=_r||"utf8",Buffer$F.isBuffer(Er)||(Er=new Buffer$F(Er,_r)),this._pub=new pe(Er),this}function xt(Er,_r){return _r=_r||"utf8",Buffer$F.isBuffer(Er)||(Er=new Buffer$F(Er,_r)),this._priv=new pe(Er),this}var fr={};function ar(Er,_r){var Sr=_r.toString("hex"),Or=[Sr,Er.toString(16)].join("_");if(Or in fr)return fr[Or];var Pr=0;if(Er.isEven()||!gt.simpleSieve||!gt.fermatTest(Er)||!Se.test(Er))return Pr+=1,Sr==="02"||Sr==="05"?Pr+=8:Pr+=4,fr[Or]=Pr,Pr;Se.test(Er.shrn(1))||(Pr+=2);var kr;switch(Sr){case"02":Er.mod(Ne).cmp(Ze)&&(Pr+=8);break;case"05":kr=Er.mod(Je),kr.cmp(Xe)&&kr.cmp(vt)&&(Pr+=8);break;default:Pr+=4}return fr[Or]=Pr,Pr}function gr(Er,_r,Sr){this.setGenerator(_r),this.__prime=new pe(Er),this._prime=pe.mont(this.__prime),this._primeLen=Er.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Sr?(this.setPublicKey=mt,this.setPrivateKey=xt):this._primeCode=8}Object.defineProperty(gr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ar(this.__prime,this.__gen)),this._primeCode}}),gr.prototype.generateKeys=function(){return this._priv||(this._priv=new pe(kt(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},gr.prototype.computeSecret=function(Er){Er=new pe(Er),Er=Er.toRed(this._prime);var _r=Er.redPow(this._priv).fromRed(),Sr=new Buffer$F(_r.toArray()),Or=this.getPrime();if(Sr.length<Or.length){var Pr=new Buffer$F(Or.length-Sr.length);Pr.fill(0),Sr=Buffer$F.concat([Pr,Sr])}return Sr},gr.prototype.getPublicKey=function(_r){return wr(this._pub,_r)},gr.prototype.getPrivateKey=function(_r){return wr(this._priv,_r)},gr.prototype.getPrime=function(Er){return wr(this.__prime,Er)},gr.prototype.getGenerator=function(Er){return wr(this._gen,Er)},gr.prototype.setGenerator=function(Er,_r){return _r=_r||"utf8",Buffer$F.isBuffer(Er)||(Er=new Buffer$F(Er,_r)),this.__gen=Er,this._gen=new pe(Er),this};function wr(Er,_r){var Sr=new Buffer$F(Er.toArray());return _r?Sr.toString(_r):Sr}return dh}var hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$5;hasRequiredBrowser$2=1;var pe=requireGeneratePrime(),ge=require$$1$1,Se=requireDh();function Ne(Xe){var vt=new Buffer$F(ge[Xe].prime,"hex"),gt=new Buffer$F(ge[Xe].gen,"hex");return new Se(vt,gt)}var Ze={binary:!0,hex:!0,base64:!0};function Je(Xe,vt,gt,kt){return Buffer$F.isBuffer(vt)||Ze[vt]===void 0?Je(Xe,"binary",vt,gt):(vt=vt||"binary",kt=kt||"binary",gt=gt||new Buffer$F([2]),Buffer$F.isBuffer(gt)||(gt=new Buffer$F(gt,kt)),typeof Xe=="number"?new Se(pe(Xe,gt),gt,!0):(Buffer$F.isBuffer(Xe)||(Xe=new Buffer$F(Xe,vt)),new Se(Xe,gt,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=Ne,browser$5.createDiffieHellman=browser$5.DiffieHellman=Je,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}};typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick}:processNextickArgs.exports=process$1$1;function nextTick(pe,ge,Se,Ne){if(typeof pe!="function")throw new TypeError('"callback" argument must be a function');var Ze=arguments.length,Je,Xe;switch(Ze){case 0:case 1:return process$1$1.nextTick(pe);case 2:return process$1$1.nextTick(function(){pe.call(null,ge)});case 3:return process$1$1.nextTick(function(){pe.call(null,ge,Se)});case 4:return process$1$1.nextTick(function(){pe.call(null,ge,Se,Ne)});default:for(Je=new Array(Ze-1),Xe=0;Xe<Je.length;)Je[Xe++]=arguments[Xe];return process$1$1.nextTick(function(){pe.apply(null,Je)})}}var processNextickArgsExports=processNextickArgs.exports,toString$1={}.toString,isarray=Array.isArray||function(pe){return toString$1.call(pe)=="[object Array]"},streamBrowser=eventsExports.EventEmitter,safeBuffer$1={exports:{}};(function(pe,ge){var Se=require$$1$2,Ne=Se.Buffer;function Ze(Xe,vt){for(var gt in Xe)vt[gt]=Xe[gt]}Ne.from&&Ne.alloc&&Ne.allocUnsafe&&Ne.allocUnsafeSlow?pe.exports=Se:(Ze(Se,ge),ge.Buffer=Je);function Je(Xe,vt,gt){return Ne(Xe,vt,gt)}Ze(Ne,Je),Je.from=function(Xe,vt,gt){if(typeof Xe=="number")throw new TypeError("Argument must not be a number");return Ne(Xe,vt,gt)},Je.alloc=function(Xe,vt,gt){if(typeof Xe!="number")throw new TypeError("Argument must be a number");var kt=Ne(Xe);return vt!==void 0?typeof gt=="string"?kt.fill(vt,gt):kt.fill(vt):kt.fill(0),kt},Je.allocUnsafe=function(Xe){if(typeof Xe!="number")throw new TypeError("Argument must be a number");return Ne(Xe)},Je.allocUnsafeSlow=function(Xe){if(typeof Xe!="number")throw new TypeError("Argument must be a number");return Se.SlowBuffer(Xe)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,util$3={};function isArray(pe){return Array.isArray?Array.isArray(pe):objectToString(pe)==="[object Array]"}util$3.isArray=isArray;function isBoolean(pe){return typeof pe=="boolean"}util$3.isBoolean=isBoolean;function isNull(pe){return pe===null}util$3.isNull=isNull;function isNullOrUndefined(pe){return pe==null}util$3.isNullOrUndefined=isNullOrUndefined;function isNumber$1(pe){return typeof pe=="number"}util$3.isNumber=isNumber$1;function isString$1(pe){return typeof pe=="string"}util$3.isString=isString$1;function isSymbol(pe){return typeof pe=="symbol"}util$3.isSymbol=isSymbol;function isUndefined(pe){return pe===void 0}util$3.isUndefined=isUndefined;function isRegExp(pe){return objectToString(pe)==="[object RegExp]"}util$3.isRegExp=isRegExp;function isObject$a(pe){return typeof pe=="object"&&pe!==null}util$3.isObject=isObject$a;function isDate(pe){return objectToString(pe)==="[object Date]"}util$3.isDate=isDate;function isError(pe){return objectToString(pe)==="[object Error]"||pe instanceof Error}util$3.isError=isError;function isFunction$1(pe){return typeof pe=="function"}util$3.isFunction=isFunction$1;function isPrimitive(pe){return pe===null||typeof pe=="boolean"||typeof pe=="number"||typeof pe=="string"||typeof pe=="symbol"||typeof pe>"u"}util$3.isPrimitive=isPrimitive,util$3.isBuffer=require$$1$2.Buffer.isBuffer;function objectToString(pe){return Object.prototype.toString.call(pe)}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(pe){function ge(Je,Xe){if(!(Je instanceof Xe))throw new TypeError("Cannot call a class as a function")}var Se=safeBufferExports.Buffer,Ne=util$4;function Ze(Je,Xe,vt){Je.copy(Xe,vt)}pe.exports=function(){function Je(){ge(this,Je),this.head=null,this.tail=null,this.length=0}return Je.prototype.push=function(vt){var gt={data:vt,next:null};this.length>0?this.tail.next=gt:this.head=gt,this.tail=gt,++this.length},Je.prototype.unshift=function(vt){var gt={data:vt,next:this.head};this.length===0&&(this.tail=gt),this.head=gt,++this.length},Je.prototype.shift=function(){if(this.length!==0){var vt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,vt}},Je.prototype.clear=function(){this.head=this.tail=null,this.length=0},Je.prototype.join=function(vt){if(this.length===0)return"";for(var gt=this.head,kt=""+gt.data;gt=gt.next;)kt+=vt+gt.data;return kt},Je.prototype.concat=function(vt){if(this.length===0)return Se.alloc(0);for(var gt=Se.allocUnsafe(vt>>>0),kt=this.head,mt=0;kt;)Ze(kt.data,gt,mt),mt+=kt.data.length,kt=kt.next;return gt},Je}(),Ne&&Ne.inspect&&Ne.inspect.custom&&(pe.exports.prototype[Ne.inspect.custom]=function(){var Je=Ne.inspect({length:this.length});return this.constructor.name+" "+Je})}(BufferList)),BufferList.exports}var pna=processNextickArgsExports;function destroy(pe,ge){var Se=this,Ne=this._readableState&&this._readableState.destroyed,Ze=this._writableState&&this._writableState.destroyed;return Ne||Ze?(ge?ge(pe):pe&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,this,pe)):pna.nextTick(emitErrorNT,this,pe)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(pe||null,function(Je){!ge&&Je?Se._writableState?Se._writableState.errorEmitted||(Se._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,Se,Je)):pna.nextTick(emitErrorNT,Se,Je):ge&&ge(Je)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(pe,ge){pe.emit("error",ge)}var destroy_1={destroy,undestroy},_stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var pe=processNextickArgsExports;_stream_writable=wr;function ge(pr){var lr=this;this.next=null,this.entry=null,this.finish=function(){or(lr,pr)}}var Se=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:pe.nextTick,Ne;wr.WritableState=ar;var Ze=Object.create(util$3);Ze.inherits=inherits_browserExports;var Je={deprecate:browser$c},Xe=streamBrowser,vt=safeBufferExports.Buffer,gt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function kt(pr){return vt.from(pr)}function mt(pr){return vt.isBuffer(pr)||pr instanceof gt}var xt=destroy_1;Ze.inherits(wr,Xe);function fr(){}function ar(pr,lr){Ne=Ne||require_stream_duplex(),pr=pr||{};var vr=lr instanceof Ne;this.objectMode=!!pr.objectMode,vr&&(this.objectMode=this.objectMode||!!pr.writableObjectMode);var tr=pr.highWaterMark,ur=pr.writableHighWaterMark,Ft=this.objectMode?16:16*1024;tr||tr===0?this.highWaterMark=tr:vr&&(ur||ur===0)?this.highWaterMark=ur:this.highWaterMark=Ft,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var yr=pr.decodeStrings===!1;this.decodeStrings=!yr,this.defaultEncoding=pr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Nr){Yr(lr,Nr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ge(this)}ar.prototype.getBuffer=function(){for(var lr=this.bufferedRequest,vr=[];lr;)vr.push(lr),lr=lr.next;return vr},function(){try{Object.defineProperty(ar.prototype,"buffer",{get:Je.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var gr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gr=Function.prototype[Symbol.hasInstance],Object.defineProperty(wr,Symbol.hasInstance,{value:function(pr){return gr.call(this,pr)?!0:this!==wr?!1:pr&&pr._writableState instanceof ar}})):gr=function(pr){return pr instanceof this};function wr(pr){if(Ne=Ne||require_stream_duplex(),!gr.call(wr,this)&&!(this instanceof Ne))return new wr(pr);this._writableState=new ar(pr,this),this.writable=!0,pr&&(typeof pr.write=="function"&&(this._write=pr.write),typeof pr.writev=="function"&&(this._writev=pr.writev),typeof pr.destroy=="function"&&(this._destroy=pr.destroy),typeof pr.final=="function"&&(this._final=pr.final)),Xe.call(this)}wr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Er(pr,lr){var vr=new Error("write after end");pr.emit("error",vr),pe.nextTick(lr,vr)}function _r(pr,lr,vr,tr){var ur=!0,Ft=!1;return vr===null?Ft=new TypeError("May not write null values to stream"):typeof vr!="string"&&vr!==void 0&&!lr.objectMode&&(Ft=new TypeError("Invalid non-string/buffer chunk")),Ft&&(pr.emit("error",Ft),pe.nextTick(tr,Ft),ur=!1),ur}wr.prototype.write=function(pr,lr,vr){var tr=this._writableState,ur=!1,Ft=!tr.objectMode&&mt(pr);return Ft&&!vt.isBuffer(pr)&&(pr=kt(pr)),typeof lr=="function"&&(vr=lr,lr=null),Ft?lr="buffer":lr||(lr=tr.defaultEncoding),typeof vr!="function"&&(vr=fr),tr.ended?Er(this,vr):(Ft||_r(this,tr,pr,vr))&&(tr.pendingcb++,ur=Or(this,tr,Ft,pr,lr,vr)),ur},wr.prototype.cork=function(){var pr=this._writableState;pr.corked++},wr.prototype.uncork=function(){var pr=this._writableState;pr.corked&&(pr.corked--,!pr.writing&&!pr.corked&&!pr.bufferProcessing&&pr.bufferedRequest&&Vr(this,pr))},wr.prototype.setDefaultEncoding=function(lr){if(typeof lr=="string"&&(lr=lr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((lr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+lr);return this._writableState.defaultEncoding=lr,this};function Sr(pr,lr,vr){return!pr.objectMode&&pr.decodeStrings!==!1&&typeof lr=="string"&&(lr=vt.from(lr,vr)),lr}Object.defineProperty(wr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Or(pr,lr,vr,tr,ur,Ft){if(!vr){var yr=Sr(lr,tr,ur);tr!==yr&&(vr=!0,ur="buffer",tr=yr)}var Nr=lr.objectMode?1:tr.length;lr.length+=Nr;var qr=lr.length<lr.highWaterMark;if(qr||(lr.needDrain=!0),lr.writing||lr.corked){var Rr=lr.lastBufferedRequest;lr.lastBufferedRequest={chunk:tr,encoding:ur,isBuf:vr,callback:Ft,next:null},Rr?Rr.next=lr.lastBufferedRequest:lr.bufferedRequest=lr.lastBufferedRequest,lr.bufferedRequestCount+=1}else Pr(pr,lr,!1,Nr,tr,ur,Ft);return qr}function Pr(pr,lr,vr,tr,ur,Ft,yr){lr.writelen=tr,lr.writecb=yr,lr.writing=!0,lr.sync=!0,vr?pr._writev(ur,lr.onwrite):pr._write(ur,Ft,lr.onwrite),lr.sync=!1}function kr(pr,lr,vr,tr,ur){--lr.pendingcb,vr?(pe.nextTick(ur,tr),pe.nextTick(ht,pr,lr),pr._writableState.errorEmitted=!0,pr.emit("error",tr)):(ur(tr),pr._writableState.errorEmitted=!0,pr.emit("error",tr),ht(pr,lr))}function Ur(pr){pr.writing=!1,pr.writecb=null,pr.length-=pr.writelen,pr.writelen=0}function Yr(pr,lr){var vr=pr._writableState,tr=vr.sync,ur=vr.writecb;if(Ur(vr),lr)kr(pr,vr,tr,lr,ur);else{var Ft=Ir(vr);!Ft&&!vr.corked&&!vr.bufferProcessing&&vr.bufferedRequest&&Vr(pr,vr),tr?Se(jr,pr,vr,Ft,ur):jr(pr,vr,Ft,ur)}}function jr(pr,lr,vr,tr){vr||Dr(pr,lr),lr.pendingcb--,tr(),ht(pr,lr)}function Dr(pr,lr){lr.length===0&&lr.needDrain&&(lr.needDrain=!1,pr.emit("drain"))}function Vr(pr,lr){lr.bufferProcessing=!0;var vr=lr.bufferedRequest;if(pr._writev&&vr&&vr.next){var tr=lr.bufferedRequestCount,ur=new Array(tr),Ft=lr.corkedRequestsFree;Ft.entry=vr;for(var yr=0,Nr=!0;vr;)ur[yr]=vr,vr.isBuf||(Nr=!1),vr=vr.next,yr+=1;ur.allBuffers=Nr,Pr(pr,lr,!0,lr.length,ur,"",Ft.finish),lr.pendingcb++,lr.lastBufferedRequest=null,Ft.next?(lr.corkedRequestsFree=Ft.next,Ft.next=null):lr.corkedRequestsFree=new ge(lr),lr.bufferedRequestCount=0}else{for(;vr;){var qr=vr.chunk,Rr=vr.encoding,Ar=vr.callback,Tr=lr.objectMode?1:qr.length;if(Pr(pr,lr,!1,Tr,qr,Rr,Ar),vr=vr.next,lr.bufferedRequestCount--,lr.writing)break}vr===null&&(lr.lastBufferedRequest=null)}lr.bufferedRequest=vr,lr.bufferProcessing=!1}wr.prototype._write=function(pr,lr,vr){vr(new Error("_write() is not implemented"))},wr.prototype._writev=null,wr.prototype.end=function(pr,lr,vr){var tr=this._writableState;typeof pr=="function"?(vr=pr,pr=null,lr=null):typeof lr=="function"&&(vr=lr,lr=null),pr!=null&&this.write(pr,lr),tr.corked&&(tr.corked=1,this.uncork()),tr.ending||Ct(this,tr,vr)};function Ir(pr){return pr.ending&&pr.length===0&&pr.bufferedRequest===null&&!pr.finished&&!pr.writing}function br(pr,lr){pr._final(function(vr){lr.pendingcb--,vr&&pr.emit("error",vr),lr.prefinished=!0,pr.emit("prefinish"),ht(pr,lr)})}function Vt(pr,lr){!lr.prefinished&&!lr.finalCalled&&(typeof pr._final=="function"?(lr.pendingcb++,lr.finalCalled=!0,pe.nextTick(br,pr,lr)):(lr.prefinished=!0,pr.emit("prefinish")))}function ht(pr,lr){var vr=Ir(lr);return vr&&(Vt(pr,lr),lr.pendingcb===0&&(lr.finished=!0,pr.emit("finish"))),vr}function Ct(pr,lr,vr){lr.ending=!0,ht(pr,lr),vr&&(lr.finished?pe.nextTick(vr):pr.once("finish",vr)),lr.ended=!0,pr.writable=!1}function or(pr,lr,vr){var tr=pr.entry;for(pr.entry=null;tr;){var ur=tr.callback;lr.pendingcb--,ur(vr),tr=tr.next}lr.corkedRequestsFree.next=pr}return Object.defineProperty(wr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(pr){this._writableState&&(this._writableState.destroyed=pr)}}),wr.prototype.destroy=xt.destroy,wr.prototype._undestroy=xt.undestroy,wr.prototype._destroy=function(pr,lr){this.end(),lr(pr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var pe=processNextickArgsExports,ge=Object.keys||function(xt){var fr=[];for(var ar in xt)fr.push(ar);return fr};_stream_duplex=gt;var Se=Object.create(util$3);Se.inherits=inherits_browserExports;var Ne=require_stream_readable(),Ze=require_stream_writable();Se.inherits(gt,Ne);for(var Je=ge(Ze.prototype),Xe=0;Xe<Je.length;Xe++){var vt=Je[Xe];gt.prototype[vt]||(gt.prototype[vt]=Ze.prototype[vt])}function gt(xt){if(!(this instanceof gt))return new gt(xt);Ne.call(this,xt),Ze.call(this,xt),xt&&xt.readable===!1&&(this.readable=!1),xt&&xt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,xt&&xt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",kt)}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kt(){this.allowHalfOpen||this._writableState.ended||pe.nextTick(mt,this)}function mt(xt){xt.end()}return Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(xt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=xt,this._writableState.destroyed=xt)}}),gt.prototype._destroy=function(xt,fr){this.push(null),this.end(),pe.nextTick(fr,xt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var pe=processNextickArgsExports;_stream_readable=Sr;var ge=isarray,Se;Sr.ReadableState=_r,eventsExports.EventEmitter;var Ne=function(Ar,Tr){return Ar.listeners(Tr).length},Ze=streamBrowser,Je=safeBufferExports.Buffer,Xe=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function vt(Ar){return Je.from(Ar)}function gt(Ar){return Je.isBuffer(Ar)||Ar instanceof Xe}var kt=Object.create(util$3);kt.inherits=inherits_browserExports;var mt=util$4,xt=void 0;mt&&mt.debuglog?xt=mt.debuglog("stream"):xt=function(){};var fr=requireBufferList(),ar=destroy_1,gr;kt.inherits(Sr,Ze);var wr=["error","close","destroy","pause","resume"];function Er(Ar,Tr,Kr){if(typeof Ar.prependListener=="function")return Ar.prependListener(Tr,Kr);!Ar._events||!Ar._events[Tr]?Ar.on(Tr,Kr):ge(Ar._events[Tr])?Ar._events[Tr].unshift(Kr):Ar._events[Tr]=[Kr,Ar._events[Tr]]}function _r(Ar,Tr){Se=Se||require_stream_duplex(),Ar=Ar||{};var Kr=Tr instanceof Se;this.objectMode=!!Ar.objectMode,Kr&&(this.objectMode=this.objectMode||!!Ar.readableObjectMode);var Zr=Ar.highWaterMark,Br=Ar.readableHighWaterMark,Mr=this.objectMode?16:16*1024;Zr||Zr===0?this.highWaterMark=Zr:Kr&&(Br||Br===0)?this.highWaterMark=Br:this.highWaterMark=Mr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new fr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ar.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ar.encoding&&(gr||(gr=string_decoder.StringDecoder),this.decoder=new gr(Ar.encoding),this.encoding=Ar.encoding)}function Sr(Ar){if(Se=Se||require_stream_duplex(),!(this instanceof Sr))return new Sr(Ar);this._readableState=new _r(Ar,this),this.readable=!0,Ar&&(typeof Ar.read=="function"&&(this._read=Ar.read),typeof Ar.destroy=="function"&&(this._destroy=Ar.destroy)),Ze.call(this)}Object.defineProperty(Sr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Ar){this._readableState&&(this._readableState.destroyed=Ar)}}),Sr.prototype.destroy=ar.destroy,Sr.prototype._undestroy=ar.undestroy,Sr.prototype._destroy=function(Ar,Tr){this.push(null),Tr(Ar)},Sr.prototype.push=function(Ar,Tr){var Kr=this._readableState,Zr;return Kr.objectMode?Zr=!0:typeof Ar=="string"&&(Tr=Tr||Kr.defaultEncoding,Tr!==Kr.encoding&&(Ar=Je.from(Ar,Tr),Tr=""),Zr=!0),Or(this,Ar,Tr,!1,Zr)},Sr.prototype.unshift=function(Ar){return Or(this,Ar,null,!0,!1)};function Or(Ar,Tr,Kr,Zr,Br){var Mr=Ar._readableState;if(Tr===null)Mr.reading=!1,Vr(Ar,Mr);else{var Gr;Br||(Gr=kr(Mr,Tr)),Gr?Ar.emit("error",Gr):Mr.objectMode||Tr&&Tr.length>0?(typeof Tr!="string"&&!Mr.objectMode&&Object.getPrototypeOf(Tr)!==Je.prototype&&(Tr=vt(Tr)),Zr?Mr.endEmitted?Ar.emit("error",new Error("stream.unshift() after end event")):Pr(Ar,Mr,Tr,!0):Mr.ended?Ar.emit("error",new Error("stream.push() after EOF")):(Mr.reading=!1,Mr.decoder&&!Kr?(Tr=Mr.decoder.write(Tr),Mr.objectMode||Tr.length!==0?Pr(Ar,Mr,Tr,!1):Vt(Ar,Mr)):Pr(Ar,Mr,Tr,!1))):Zr||(Mr.reading=!1)}return Ur(Mr)}function Pr(Ar,Tr,Kr,Zr){Tr.flowing&&Tr.length===0&&!Tr.sync?(Ar.emit("data",Kr),Ar.read(0)):(Tr.length+=Tr.objectMode?1:Kr.length,Zr?Tr.buffer.unshift(Kr):Tr.buffer.push(Kr),Tr.needReadable&&Ir(Ar)),Vt(Ar,Tr)}function kr(Ar,Tr){var Kr;return!gt(Tr)&&typeof Tr!="string"&&Tr!==void 0&&!Ar.objectMode&&(Kr=new TypeError("Invalid non-string/buffer chunk")),Kr}function Ur(Ar){return!Ar.ended&&(Ar.needReadable||Ar.length<Ar.highWaterMark||Ar.length===0)}Sr.prototype.isPaused=function(){return this._readableState.flowing===!1},Sr.prototype.setEncoding=function(Ar){return gr||(gr=string_decoder.StringDecoder),this._readableState.decoder=new gr(Ar),this._readableState.encoding=Ar,this};var Yr=8388608;function jr(Ar){return Ar>=Yr?Ar=Yr:(Ar--,Ar|=Ar>>>1,Ar|=Ar>>>2,Ar|=Ar>>>4,Ar|=Ar>>>8,Ar|=Ar>>>16,Ar++),Ar}function Dr(Ar,Tr){return Ar<=0||Tr.length===0&&Tr.ended?0:Tr.objectMode?1:Ar!==Ar?Tr.flowing&&Tr.length?Tr.buffer.head.data.length:Tr.length:(Ar>Tr.highWaterMark&&(Tr.highWaterMark=jr(Ar)),Ar<=Tr.length?Ar:Tr.ended?Tr.length:(Tr.needReadable=!0,0))}Sr.prototype.read=function(Ar){xt("read",Ar),Ar=parseInt(Ar,10);var Tr=this._readableState,Kr=Ar;if(Ar!==0&&(Tr.emittedReadable=!1),Ar===0&&Tr.needReadable&&(Tr.length>=Tr.highWaterMark||Tr.ended))return xt("read: emitReadable",Tr.length,Tr.ended),Tr.length===0&&Tr.ended?Nr(this):Ir(this),null;if(Ar=Dr(Ar,Tr),Ar===0&&Tr.ended)return Tr.length===0&&Nr(this),null;var Zr=Tr.needReadable;xt("need readable",Zr),(Tr.length===0||Tr.length-Ar<Tr.highWaterMark)&&(Zr=!0,xt("length less than watermark",Zr)),Tr.ended||Tr.reading?(Zr=!1,xt("reading or ended",Zr)):Zr&&(xt("do read"),Tr.reading=!0,Tr.sync=!0,Tr.length===0&&(Tr.needReadable=!0),this._read(Tr.highWaterMark),Tr.sync=!1,Tr.reading||(Ar=Dr(Kr,Tr)));var Br;return Ar>0?Br=tr(Ar,Tr):Br=null,Br===null?(Tr.needReadable=!0,Ar=0):Tr.length-=Ar,Tr.length===0&&(Tr.ended||(Tr.needReadable=!0),Kr!==Ar&&Tr.ended&&Nr(this)),Br!==null&&this.emit("data",Br),Br};function Vr(Ar,Tr){if(!Tr.ended){if(Tr.decoder){var Kr=Tr.decoder.end();Kr&&Kr.length&&(Tr.buffer.push(Kr),Tr.length+=Tr.objectMode?1:Kr.length)}Tr.ended=!0,Ir(Ar)}}function Ir(Ar){var Tr=Ar._readableState;Tr.needReadable=!1,Tr.emittedReadable||(xt("emitReadable",Tr.flowing),Tr.emittedReadable=!0,Tr.sync?pe.nextTick(br,Ar):br(Ar))}function br(Ar){xt("emit readable"),Ar.emit("readable"),vr(Ar)}function Vt(Ar,Tr){Tr.readingMore||(Tr.readingMore=!0,pe.nextTick(ht,Ar,Tr))}function ht(Ar,Tr){for(var Kr=Tr.length;!Tr.reading&&!Tr.flowing&&!Tr.ended&&Tr.length<Tr.highWaterMark&&(xt("maybeReadMore read 0"),Ar.read(0),Kr!==Tr.length);)Kr=Tr.length;Tr.readingMore=!1}Sr.prototype._read=function(Ar){this.emit("error",new Error("_read() is not implemented"))},Sr.prototype.pipe=function(Ar,Tr){var Kr=this,Zr=this._readableState;switch(Zr.pipesCount){case 0:Zr.pipes=Ar;break;case 1:Zr.pipes=[Zr.pipes,Ar];break;default:Zr.pipes.push(Ar);break}Zr.pipesCount+=1,xt("pipe count=%d opts=%j",Zr.pipesCount,Tr);var Br=(!Tr||Tr.end!==!1)&&Ar!==process$1$1.stdout&&Ar!==process$1$1.stderr,Mr=Br?en:on;Zr.endEmitted?pe.nextTick(Mr):Kr.once("end",Mr),Ar.on("unpipe",Gr);function Gr(Hr,yn){xt("onunpipe"),Hr===Kr&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,nn())}function en(){xt("onend"),Ar.end()}var rn=Ct(Kr);Ar.on("drain",rn);var an=!1;function nn(){xt("cleanup"),Ar.removeListener("close",cn),Ar.removeListener("finish",Wr),Ar.removeListener("drain",rn),Ar.removeListener("error",dn),Ar.removeListener("unpipe",Gr),Kr.removeListener("end",en),Kr.removeListener("end",on),Kr.removeListener("data",tn),an=!0,Zr.awaitDrain&&(!Ar._writableState||Ar._writableState.needDrain)&&rn()}var un=!1;Kr.on("data",tn);function tn(Hr){xt("ondata"),un=!1;var yn=Ar.write(Hr);yn===!1&&!un&&((Zr.pipesCount===1&&Zr.pipes===Ar||Zr.pipesCount>1&&Rr(Zr.pipes,Ar)!==-1)&&!an&&(xt("false write response, pause",Zr.awaitDrain),Zr.awaitDrain++,un=!0),Kr.pause())}function dn(Hr){xt("onerror",Hr),on(),Ar.removeListener("error",dn),Ne(Ar,"error")===0&&Ar.emit("error",Hr)}Er(Ar,"error",dn);function cn(){Ar.removeListener("finish",Wr),on()}Ar.once("close",cn);function Wr(){xt("onfinish"),Ar.removeListener("close",cn),on()}Ar.once("finish",Wr);function on(){xt("unpipe"),Kr.unpipe(Ar)}return Ar.emit("pipe",Kr),Zr.flowing||(xt("pipe resume"),Kr.resume()),Ar};function Ct(Ar){return function(){var Tr=Ar._readableState;xt("pipeOnDrain",Tr.awaitDrain),Tr.awaitDrain&&Tr.awaitDrain--,Tr.awaitDrain===0&&Ne(Ar,"data")&&(Tr.flowing=!0,vr(Ar))}}Sr.prototype.unpipe=function(Ar){var Tr=this._readableState,Kr={hasUnpiped:!1};if(Tr.pipesCount===0)return this;if(Tr.pipesCount===1)return Ar&&Ar!==Tr.pipes?this:(Ar||(Ar=Tr.pipes),Tr.pipes=null,Tr.pipesCount=0,Tr.flowing=!1,Ar&&Ar.emit("unpipe",this,Kr),this);if(!Ar){var Zr=Tr.pipes,Br=Tr.pipesCount;Tr.pipes=null,Tr.pipesCount=0,Tr.flowing=!1;for(var Mr=0;Mr<Br;Mr++)Zr[Mr].emit("unpipe",this,{hasUnpiped:!1});return this}var Gr=Rr(Tr.pipes,Ar);return Gr===-1?this:(Tr.pipes.splice(Gr,1),Tr.pipesCount-=1,Tr.pipesCount===1&&(Tr.pipes=Tr.pipes[0]),Ar.emit("unpipe",this,Kr),this)},Sr.prototype.on=function(Ar,Tr){var Kr=Ze.prototype.on.call(this,Ar,Tr);if(Ar==="data")this._readableState.flowing!==!1&&this.resume();else if(Ar==="readable"){var Zr=this._readableState;!Zr.endEmitted&&!Zr.readableListening&&(Zr.readableListening=Zr.needReadable=!0,Zr.emittedReadable=!1,Zr.reading?Zr.length&&Ir(this):pe.nextTick(or,this))}return Kr},Sr.prototype.addListener=Sr.prototype.on;function or(Ar){xt("readable nexttick read 0"),Ar.read(0)}Sr.prototype.resume=function(){var Ar=this._readableState;return Ar.flowing||(xt("resume"),Ar.flowing=!0,pr(this,Ar)),this};function pr(Ar,Tr){Tr.resumeScheduled||(Tr.resumeScheduled=!0,pe.nextTick(lr,Ar,Tr))}function lr(Ar,Tr){Tr.reading||(xt("resume read 0"),Ar.read(0)),Tr.resumeScheduled=!1,Tr.awaitDrain=0,Ar.emit("resume"),vr(Ar),Tr.flowing&&!Tr.reading&&Ar.read(0)}Sr.prototype.pause=function(){return xt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function vr(Ar){var Tr=Ar._readableState;for(xt("flow",Tr.flowing);Tr.flowing&&Ar.read()!==null;);}Sr.prototype.wrap=function(Ar){var Tr=this,Kr=this._readableState,Zr=!1;Ar.on("end",function(){if(xt("wrapped end"),Kr.decoder&&!Kr.ended){var Gr=Kr.decoder.end();Gr&&Gr.length&&Tr.push(Gr)}Tr.push(null)}),Ar.on("data",function(Gr){if(xt("wrapped data"),Kr.decoder&&(Gr=Kr.decoder.write(Gr)),!(Kr.objectMode&&Gr==null)&&!(!Kr.objectMode&&(!Gr||!Gr.length))){var en=Tr.push(Gr);en||(Zr=!0,Ar.pause())}});for(var Br in Ar)this[Br]===void 0&&typeof Ar[Br]=="function"&&(this[Br]=function(Gr){return function(){return Ar[Gr].apply(Ar,arguments)}}(Br));for(var Mr=0;Mr<wr.length;Mr++)Ar.on(wr[Mr],this.emit.bind(this,wr[Mr]));return this._read=function(Gr){xt("wrapped _read",Gr),Zr&&(Zr=!1,Ar.resume())},this},Object.defineProperty(Sr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Sr._fromList=tr;function tr(Ar,Tr){if(Tr.length===0)return null;var Kr;return Tr.objectMode?Kr=Tr.buffer.shift():!Ar||Ar>=Tr.length?(Tr.decoder?Kr=Tr.buffer.join(""):Tr.buffer.length===1?Kr=Tr.buffer.head.data:Kr=Tr.buffer.concat(Tr.length),Tr.buffer.clear()):Kr=ur(Ar,Tr.buffer,Tr.decoder),Kr}function ur(Ar,Tr,Kr){var Zr;return Ar<Tr.head.data.length?(Zr=Tr.head.data.slice(0,Ar),Tr.head.data=Tr.head.data.slice(Ar)):Ar===Tr.head.data.length?Zr=Tr.shift():Zr=Kr?Ft(Ar,Tr):yr(Ar,Tr),Zr}function Ft(Ar,Tr){var Kr=Tr.head,Zr=1,Br=Kr.data;for(Ar-=Br.length;Kr=Kr.next;){var Mr=Kr.data,Gr=Ar>Mr.length?Mr.length:Ar;if(Gr===Mr.length?Br+=Mr:Br+=Mr.slice(0,Ar),Ar-=Gr,Ar===0){Gr===Mr.length?(++Zr,Kr.next?Tr.head=Kr.next:Tr.head=Tr.tail=null):(Tr.head=Kr,Kr.data=Mr.slice(Gr));break}++Zr}return Tr.length-=Zr,Br}function yr(Ar,Tr){var Kr=Je.allocUnsafe(Ar),Zr=Tr.head,Br=1;for(Zr.data.copy(Kr),Ar-=Zr.data.length;Zr=Zr.next;){var Mr=Zr.data,Gr=Ar>Mr.length?Mr.length:Ar;if(Mr.copy(Kr,Kr.length-Ar,0,Gr),Ar-=Gr,Ar===0){Gr===Mr.length?(++Br,Zr.next?Tr.head=Zr.next:Tr.head=Tr.tail=null):(Tr.head=Zr,Zr.data=Mr.slice(Gr));break}++Br}return Tr.length-=Br,Kr}function Nr(Ar){var Tr=Ar._readableState;if(Tr.length>0)throw new Error('"endReadable()" called on non-empty stream');Tr.endEmitted||(Tr.ended=!0,pe.nextTick(qr,Tr,Ar))}function qr(Ar,Tr){!Ar.endEmitted&&Ar.length===0&&(Ar.endEmitted=!0,Tr.readable=!1,Tr.emit("end"))}function Rr(Ar,Tr){for(var Kr=0,Zr=Ar.length;Kr<Zr;Kr++)if(Ar[Kr]===Tr)return Kr;return-1}return _stream_readable}var _stream_transform=Transform$1,Duplex=require_stream_duplex(),util$2=Object.create(util$3);util$2.inherits=inherits_browserExports,util$2.inherits(Transform$1,Duplex);function afterTransform(pe,ge){var Se=this._transformState;Se.transforming=!1;var Ne=Se.writecb;if(!Ne)return this.emit("error",new Error("write callback called multiple times"));Se.writechunk=null,Se.writecb=null,ge!=null&&this.push(ge),Ne(pe);var Ze=this._readableState;Ze.reading=!1,(Ze.needReadable||Ze.length<Ze.highWaterMark)&&this._read(Ze.highWaterMark)}function Transform$1(pe){if(!(this instanceof Transform$1))return new Transform$1(pe);Duplex.call(this,pe),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,pe&&(typeof pe.transform=="function"&&(this._transform=pe.transform),typeof pe.flush=="function"&&(this._flush=pe.flush)),this.on("prefinish",prefinish)}function prefinish(){var pe=this;typeof this._flush=="function"?this._flush(function(ge,Se){done(pe,ge,Se)}):done(this,null,null)}Transform$1.prototype.push=function(pe,ge){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,pe,ge)},Transform$1.prototype._transform=function(pe,ge,Se){throw new Error("_transform() is not implemented")},Transform$1.prototype._write=function(pe,ge,Se){var Ne=this._transformState;if(Ne.writecb=Se,Ne.writechunk=pe,Ne.writeencoding=ge,!Ne.transforming){var Ze=this._readableState;(Ne.needTransform||Ze.needReadable||Ze.length<Ze.highWaterMark)&&this._read(Ze.highWaterMark)}},Transform$1.prototype._read=function(pe){var ge=this._transformState;ge.writechunk!==null&&ge.writecb&&!ge.transforming?(ge.transforming=!0,this._transform(ge.writechunk,ge.writeencoding,ge.afterTransform)):ge.needTransform=!0},Transform$1.prototype._destroy=function(pe,ge){var Se=this;Duplex.prototype._destroy.call(this,pe,function(Ne){ge(Ne),Se.emit("close")})};function done(pe,ge,Se){if(ge)return pe.emit("error",ge);if(Se!=null&&pe.push(Se),pe._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(pe._transformState.transforming)throw new Error("Calling transform done when still transforming");return pe.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform,util$1=Object.create(util$3);util$1.inherits=inherits_browserExports,util$1.inherits(PassThrough,Transform);function PassThrough(pe){if(!(this instanceof PassThrough))return new PassThrough(pe);Transform.call(this,pe)}PassThrough.prototype._transform=function(pe,ge,Se){Se(null,pe)},function(pe,ge){ge=pe.exports=require_stream_readable(),ge.Stream=ge,ge.Readable=ge,ge.Writable=require_stream_writable(),ge.Duplex=require_stream_duplex(),ge.Transform=_stream_transform,ge.PassThrough=_stream_passthrough}(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports,sign={exports:{}},bn$1={exports:{}};bn$1.exports,function(pe){(function(ge,Se){function Ne(Vt,ht){if(!Vt)throw new Error(ht||"Assertion failed")}function Ze(Vt,ht){Vt.super_=ht;var Ct=function(){};Ct.prototype=ht.prototype,Vt.prototype=new Ct,Vt.prototype.constructor=Vt}function Je(Vt,ht,Ct){if(Je.isBN(Vt))return Vt;this.negative=0,this.words=null,this.length=0,this.red=null,Vt!==null&&((ht==="le"||ht==="be")&&(Ct=ht,ht=10),this._init(Vt||0,ht||10,Ct||"be"))}typeof ge=="object"?ge.exports=Je:Se.BN=Je,Je.BN=Je,Je.wordSize=26;var Xe;try{typeof window<"u"&&typeof window.Buffer<"u"?Xe=window.Buffer:Xe=require$$1$2.Buffer}catch{}Je.isBN=function(ht){return ht instanceof Je?!0:ht!==null&&typeof ht=="object"&&ht.constructor.wordSize===Je.wordSize&&Array.isArray(ht.words)},Je.max=function(ht,Ct){return ht.cmp(Ct)>0?ht:Ct},Je.min=function(ht,Ct){return ht.cmp(Ct)<0?ht:Ct},Je.prototype._init=function(ht,Ct,or){if(typeof ht=="number")return this._initNumber(ht,Ct,or);if(typeof ht=="object")return this._initArray(ht,Ct,or);Ct==="hex"&&(Ct=16),Ne(Ct===(Ct|0)&&Ct>=2&&Ct<=36),ht=ht.toString().replace(/\s+/g,"");var pr=0;ht[0]==="-"&&(pr++,this.negative=1),pr<ht.length&&(Ct===16?this._parseHex(ht,pr,or):(this._parseBase(ht,Ct,pr),or==="le"&&this._initArray(this.toArray(),Ct,or)))},Je.prototype._initNumber=function(ht,Ct,or){ht<0&&(this.negative=1,ht=-ht),ht<67108864?(this.words=[ht&67108863],this.length=1):ht<4503599627370496?(this.words=[ht&67108863,ht/67108864&67108863],this.length=2):(Ne(ht<9007199254740992),this.words=[ht&67108863,ht/67108864&67108863,1],this.length=3),or==="le"&&this._initArray(this.toArray(),Ct,or)},Je.prototype._initArray=function(ht,Ct,or){if(Ne(typeof ht.length=="number"),ht.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ht.length/3),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var lr,vr,tr=0;if(or==="be")for(pr=ht.length-1,lr=0;pr>=0;pr-=3)vr=ht[pr]|ht[pr-1]<<8|ht[pr-2]<<16,this.words[lr]|=vr<<tr&67108863,this.words[lr+1]=vr>>>26-tr&67108863,tr+=24,tr>=26&&(tr-=26,lr++);else if(or==="le")for(pr=0,lr=0;pr<ht.length;pr+=3)vr=ht[pr]|ht[pr+1]<<8|ht[pr+2]<<16,this.words[lr]|=vr<<tr&67108863,this.words[lr+1]=vr>>>26-tr&67108863,tr+=24,tr>=26&&(tr-=26,lr++);return this._strip()};function vt(Vt,ht){var Ct=Vt.charCodeAt(ht);if(Ct>=48&&Ct<=57)return Ct-48;if(Ct>=65&&Ct<=70)return Ct-55;if(Ct>=97&&Ct<=102)return Ct-87;Ne(!1,"Invalid character in "+Vt)}function gt(Vt,ht,Ct){var or=vt(Vt,Ct);return Ct-1>=ht&&(or|=vt(Vt,Ct-1)<<4),or}Je.prototype._parseHex=function(ht,Ct,or){this.length=Math.ceil((ht.length-Ct)/6),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var lr=0,vr=0,tr;if(or==="be")for(pr=ht.length-1;pr>=Ct;pr-=2)tr=gt(ht,Ct,pr)<<lr,this.words[vr]|=tr&67108863,lr>=18?(lr-=18,vr+=1,this.words[vr]|=tr>>>26):lr+=8;else{var ur=ht.length-Ct;for(pr=ur%2===0?Ct+1:Ct;pr<ht.length;pr+=2)tr=gt(ht,Ct,pr)<<lr,this.words[vr]|=tr&67108863,lr>=18?(lr-=18,vr+=1,this.words[vr]|=tr>>>26):lr+=8}this._strip()};function kt(Vt,ht,Ct,or){for(var pr=0,lr=0,vr=Math.min(Vt.length,Ct),tr=ht;tr<vr;tr++){var ur=Vt.charCodeAt(tr)-48;pr*=or,ur>=49?lr=ur-49+10:ur>=17?lr=ur-17+10:lr=ur,Ne(ur>=0&&lr<or,"Invalid character"),pr+=lr}return pr}Je.prototype._parseBase=function(ht,Ct,or){this.words=[0],this.length=1;for(var pr=0,lr=1;lr<=67108863;lr*=Ct)pr++;pr--,lr=lr/Ct|0;for(var vr=ht.length-or,tr=vr%pr,ur=Math.min(vr,vr-tr)+or,Ft=0,yr=or;yr<ur;yr+=pr)Ft=kt(ht,yr,yr+pr,Ct),this.imuln(lr),this.words[0]+Ft<67108864?this.words[0]+=Ft:this._iaddn(Ft);if(tr!==0){var Nr=1;for(Ft=kt(ht,yr,ht.length,Ct),yr=0;yr<tr;yr++)Nr*=Ct;this.imuln(Nr),this.words[0]+Ft<67108864?this.words[0]+=Ft:this._iaddn(Ft)}this._strip()},Je.prototype.copy=function(ht){ht.words=new Array(this.length);for(var Ct=0;Ct<this.length;Ct++)ht.words[Ct]=this.words[Ct];ht.length=this.length,ht.negative=this.negative,ht.red=this.red};function mt(Vt,ht){Vt.words=ht.words,Vt.length=ht.length,Vt.negative=ht.negative,Vt.red=ht.red}if(Je.prototype._move=function(ht){mt(ht,this)},Je.prototype.clone=function(){var ht=new Je(null);return this.copy(ht),ht},Je.prototype._expand=function(ht){for(;this.length<ht;)this.words[this.length++]=0;return this},Je.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Je.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Je.prototype[Symbol.for("nodejs.util.inspect.custom")]=xt}catch{Je.prototype.inspect=xt}else Je.prototype.inspect=xt;function xt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ar=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Je.prototype.toString=function(ht,Ct){ht=ht||10,Ct=Ct|0||1;var or;if(ht===16||ht==="hex"){or="";for(var pr=0,lr=0,vr=0;vr<this.length;vr++){var tr=this.words[vr],ur=((tr<<pr|lr)&16777215).toString(16);lr=tr>>>24-pr&16777215,pr+=2,pr>=26&&(pr-=26,vr--),lr!==0||vr!==this.length-1?or=fr[6-ur.length]+ur+or:or=ur+or}for(lr!==0&&(or=lr.toString(16)+or);or.length%Ct!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}if(ht===(ht|0)&&ht>=2&&ht<=36){var Ft=ar[ht],yr=gr[ht];or="";var Nr=this.clone();for(Nr.negative=0;!Nr.isZero();){var qr=Nr.modrn(yr).toString(ht);Nr=Nr.idivn(yr),Nr.isZero()?or=qr+or:or=fr[Ft-qr.length]+qr+or}for(this.isZero()&&(or="0"+or);or.length%Ct!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}Ne(!1,"Base should be between 2 and 36")},Je.prototype.toNumber=function(){var ht=this.words[0];return this.length===2?ht+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ht+=4503599627370496+this.words[1]*67108864:this.length>2&&Ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ht:ht},Je.prototype.toJSON=function(){return this.toString(16,2)},Xe&&(Je.prototype.toBuffer=function(ht,Ct){return this.toArrayLike(Xe,ht,Ct)}),Je.prototype.toArray=function(ht,Ct){return this.toArrayLike(Array,ht,Ct)};var wr=function(ht,Ct){return ht.allocUnsafe?ht.allocUnsafe(Ct):new ht(Ct)};Je.prototype.toArrayLike=function(ht,Ct,or){this._strip();var pr=this.byteLength(),lr=or||Math.max(1,pr);Ne(pr<=lr,"byte array longer than desired length"),Ne(lr>0,"Requested array length <= 0");var vr=wr(ht,lr),tr=Ct==="le"?"LE":"BE";return this["_toArrayLike"+tr](vr,pr),vr},Je.prototype._toArrayLikeLE=function(ht,Ct){for(var or=0,pr=0,lr=0,vr=0;lr<this.length;lr++){var tr=this.words[lr]<<vr|pr;ht[or++]=tr&255,or<ht.length&&(ht[or++]=tr>>8&255),or<ht.length&&(ht[or++]=tr>>16&255),vr===6?(or<ht.length&&(ht[or++]=tr>>24&255),pr=0,vr=0):(pr=tr>>>24,vr+=2)}if(or<ht.length)for(ht[or++]=pr;or<ht.length;)ht[or++]=0},Je.prototype._toArrayLikeBE=function(ht,Ct){for(var or=ht.length-1,pr=0,lr=0,vr=0;lr<this.length;lr++){var tr=this.words[lr]<<vr|pr;ht[or--]=tr&255,or>=0&&(ht[or--]=tr>>8&255),or>=0&&(ht[or--]=tr>>16&255),vr===6?(or>=0&&(ht[or--]=tr>>24&255),pr=0,vr=0):(pr=tr>>>24,vr+=2)}if(or>=0)for(ht[or--]=pr;or>=0;)ht[or--]=0},Math.clz32?Je.prototype._countBits=function(ht){return 32-Math.clz32(ht)}:Je.prototype._countBits=function(ht){var Ct=ht,or=0;return Ct>=4096&&(or+=13,Ct>>>=13),Ct>=64&&(or+=7,Ct>>>=7),Ct>=8&&(or+=4,Ct>>>=4),Ct>=2&&(or+=2,Ct>>>=2),or+Ct},Je.prototype._zeroBits=function(ht){if(ht===0)return 26;var Ct=ht,or=0;return Ct&8191||(or+=13,Ct>>>=13),Ct&127||(or+=7,Ct>>>=7),Ct&15||(or+=4,Ct>>>=4),Ct&3||(or+=2,Ct>>>=2),Ct&1||or++,or},Je.prototype.bitLength=function(){var ht=this.words[this.length-1],Ct=this._countBits(ht);return(this.length-1)*26+Ct};function Er(Vt){for(var ht=new Array(Vt.bitLength()),Ct=0;Ct<ht.length;Ct++){var or=Ct/26|0,pr=Ct%26;ht[Ct]=Vt.words[or]>>>pr&1}return ht}Je.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ht=0,Ct=0;Ct<this.length;Ct++){var or=this._zeroBits(this.words[Ct]);if(ht+=or,or!==26)break}return ht},Je.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Je.prototype.toTwos=function(ht){return this.negative!==0?this.abs().inotn(ht).iaddn(1):this.clone()},Je.prototype.fromTwos=function(ht){return this.testn(ht-1)?this.notn(ht).iaddn(1).ineg():this.clone()},Je.prototype.isNeg=function(){return this.negative!==0},Je.prototype.neg=function(){return this.clone().ineg()},Je.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Je.prototype.iuor=function(ht){for(;this.length<ht.length;)this.words[this.length++]=0;for(var Ct=0;Ct<ht.length;Ct++)this.words[Ct]=this.words[Ct]|ht.words[Ct];return this._strip()},Je.prototype.ior=function(ht){return Ne((this.negative|ht.negative)===0),this.iuor(ht)},Je.prototype.or=function(ht){return this.length>ht.length?this.clone().ior(ht):ht.clone().ior(this)},Je.prototype.uor=function(ht){return this.length>ht.length?this.clone().iuor(ht):ht.clone().iuor(this)},Je.prototype.iuand=function(ht){var Ct;this.length>ht.length?Ct=ht:Ct=this;for(var or=0;or<Ct.length;or++)this.words[or]=this.words[or]&ht.words[or];return this.length=Ct.length,this._strip()},Je.prototype.iand=function(ht){return Ne((this.negative|ht.negative)===0),this.iuand(ht)},Je.prototype.and=function(ht){return this.length>ht.length?this.clone().iand(ht):ht.clone().iand(this)},Je.prototype.uand=function(ht){return this.length>ht.length?this.clone().iuand(ht):ht.clone().iuand(this)},Je.prototype.iuxor=function(ht){var Ct,or;this.length>ht.length?(Ct=this,or=ht):(Ct=ht,or=this);for(var pr=0;pr<or.length;pr++)this.words[pr]=Ct.words[pr]^or.words[pr];if(this!==Ct)for(;pr<Ct.length;pr++)this.words[pr]=Ct.words[pr];return this.length=Ct.length,this._strip()},Je.prototype.ixor=function(ht){return Ne((this.negative|ht.negative)===0),this.iuxor(ht)},Je.prototype.xor=function(ht){return this.length>ht.length?this.clone().ixor(ht):ht.clone().ixor(this)},Je.prototype.uxor=function(ht){return this.length>ht.length?this.clone().iuxor(ht):ht.clone().iuxor(this)},Je.prototype.inotn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=Math.ceil(ht/26)|0,or=ht%26;this._expand(Ct),or>0&&Ct--;for(var pr=0;pr<Ct;pr++)this.words[pr]=~this.words[pr]&67108863;return or>0&&(this.words[pr]=~this.words[pr]&67108863>>26-or),this._strip()},Je.prototype.notn=function(ht){return this.clone().inotn(ht)},Je.prototype.setn=function(ht,Ct){Ne(typeof ht=="number"&&ht>=0);var or=ht/26|0,pr=ht%26;return this._expand(or+1),Ct?this.words[or]=this.words[or]|1<<pr:this.words[or]=this.words[or]&~(1<<pr),this._strip()},Je.prototype.iadd=function(ht){var Ct;if(this.negative!==0&&ht.negative===0)return this.negative=0,Ct=this.isub(ht),this.negative^=1,this._normSign();if(this.negative===0&&ht.negative!==0)return ht.negative=0,Ct=this.isub(ht),ht.negative=1,Ct._normSign();var or,pr;this.length>ht.length?(or=this,pr=ht):(or=ht,pr=this);for(var lr=0,vr=0;vr<pr.length;vr++)Ct=(or.words[vr]|0)+(pr.words[vr]|0)+lr,this.words[vr]=Ct&67108863,lr=Ct>>>26;for(;lr!==0&&vr<or.length;vr++)Ct=(or.words[vr]|0)+lr,this.words[vr]=Ct&67108863,lr=Ct>>>26;if(this.length=or.length,lr!==0)this.words[this.length]=lr,this.length++;else if(or!==this)for(;vr<or.length;vr++)this.words[vr]=or.words[vr];return this},Je.prototype.add=function(ht){var Ct;return ht.negative!==0&&this.negative===0?(ht.negative=0,Ct=this.sub(ht),ht.negative^=1,Ct):ht.negative===0&&this.negative!==0?(this.negative=0,Ct=ht.sub(this),this.negative=1,Ct):this.length>ht.length?this.clone().iadd(ht):ht.clone().iadd(this)},Je.prototype.isub=function(ht){if(ht.negative!==0){ht.negative=0;var Ct=this.iadd(ht);return ht.negative=1,Ct._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ht),this.negative=1,this._normSign();var or=this.cmp(ht);if(or===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pr,lr;or>0?(pr=this,lr=ht):(pr=ht,lr=this);for(var vr=0,tr=0;tr<lr.length;tr++)Ct=(pr.words[tr]|0)-(lr.words[tr]|0)+vr,vr=Ct>>26,this.words[tr]=Ct&67108863;for(;vr!==0&&tr<pr.length;tr++)Ct=(pr.words[tr]|0)+vr,vr=Ct>>26,this.words[tr]=Ct&67108863;if(vr===0&&tr<pr.length&&pr!==this)for(;tr<pr.length;tr++)this.words[tr]=pr.words[tr];return this.length=Math.max(this.length,tr),pr!==this&&(this.negative=1),this._strip()},Je.prototype.sub=function(ht){return this.clone().isub(ht)};function _r(Vt,ht,Ct){Ct.negative=ht.negative^Vt.negative;var or=Vt.length+ht.length|0;Ct.length=or,or=or-1|0;var pr=Vt.words[0]|0,lr=ht.words[0]|0,vr=pr*lr,tr=vr&67108863,ur=vr/67108864|0;Ct.words[0]=tr;for(var Ft=1;Ft<or;Ft++){for(var yr=ur>>>26,Nr=ur&67108863,qr=Math.min(Ft,ht.length-1),Rr=Math.max(0,Ft-Vt.length+1);Rr<=qr;Rr++){var Ar=Ft-Rr|0;pr=Vt.words[Ar]|0,lr=ht.words[Rr]|0,vr=pr*lr+Nr,yr+=vr/67108864|0,Nr=vr&67108863}Ct.words[Ft]=Nr|0,ur=yr|0}return ur!==0?Ct.words[Ft]=ur|0:Ct.length--,Ct._strip()}var Sr=function(ht,Ct,or){var pr=ht.words,lr=Ct.words,vr=or.words,tr=0,ur,Ft,yr,Nr=pr[0]|0,qr=Nr&8191,Rr=Nr>>>13,Ar=pr[1]|0,Tr=Ar&8191,Kr=Ar>>>13,Zr=pr[2]|0,Br=Zr&8191,Mr=Zr>>>13,Gr=pr[3]|0,en=Gr&8191,rn=Gr>>>13,an=pr[4]|0,nn=an&8191,un=an>>>13,tn=pr[5]|0,dn=tn&8191,cn=tn>>>13,Wr=pr[6]|0,on=Wr&8191,Hr=Wr>>>13,yn=pr[7]|0,gn=yn&8191,mn=yn>>>13,An=pr[8]|0,hn=An&8191,Cr=An>>>13,$r=pr[9]|0,xr=$r&8191,Lr=$r>>>13,Jr=lr[0]|0,Xr=Jr&8191,Fr=Jr>>>13,Qr=lr[1]|0,vn=Qr&8191,ln=Qr>>>13,pn=lr[2]|0,sn=pn&8191,_n=pn>>>13,jn=lr[3]|0,xn=jn&8191,$n=jn>>>13,Nn=lr[4]|0,Bn=Nn&8191,wn=Nn>>>13,Ln=lr[5]|0,On=Ln&8191,Sn=Ln>>>13,Dn=lr[6]|0,Tn=Dn&8191,En=Dn>>>13,Fn=lr[7]|0,Pn=Fn&8191,Mn=Fn>>>13,qn=lr[8]|0,Cn=qn&8191,In=qn>>>13,Un=lr[9]|0,Rn=Un&8191,kn=Un>>>13;or.negative=ht.negative^Ct.negative,or.length=19,ur=Math.imul(qr,Xr),Ft=Math.imul(qr,Fr),Ft=Ft+Math.imul(Rr,Xr)|0,yr=Math.imul(Rr,Fr);var Gn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,ur=Math.imul(Tr,Xr),Ft=Math.imul(Tr,Fr),Ft=Ft+Math.imul(Kr,Xr)|0,yr=Math.imul(Kr,Fr),ur=ur+Math.imul(qr,vn)|0,Ft=Ft+Math.imul(qr,ln)|0,Ft=Ft+Math.imul(Rr,vn)|0,yr=yr+Math.imul(Rr,ln)|0;var Kn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,ur=Math.imul(Br,Xr),Ft=Math.imul(Br,Fr),Ft=Ft+Math.imul(Mr,Xr)|0,yr=Math.imul(Mr,Fr),ur=ur+Math.imul(Tr,vn)|0,Ft=Ft+Math.imul(Tr,ln)|0,Ft=Ft+Math.imul(Kr,vn)|0,yr=yr+Math.imul(Kr,ln)|0,ur=ur+Math.imul(qr,sn)|0,Ft=Ft+Math.imul(qr,_n)|0,Ft=Ft+Math.imul(Rr,sn)|0,yr=yr+Math.imul(Rr,_n)|0;var Hn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,ur=Math.imul(en,Xr),Ft=Math.imul(en,Fr),Ft=Ft+Math.imul(rn,Xr)|0,yr=Math.imul(rn,Fr),ur=ur+Math.imul(Br,vn)|0,Ft=Ft+Math.imul(Br,ln)|0,Ft=Ft+Math.imul(Mr,vn)|0,yr=yr+Math.imul(Mr,ln)|0,ur=ur+Math.imul(Tr,sn)|0,Ft=Ft+Math.imul(Tr,_n)|0,Ft=Ft+Math.imul(Kr,sn)|0,yr=yr+Math.imul(Kr,_n)|0,ur=ur+Math.imul(qr,xn)|0,Ft=Ft+Math.imul(qr,$n)|0,Ft=Ft+Math.imul(Rr,xn)|0,yr=yr+Math.imul(Rr,$n)|0;var Wn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,ur=Math.imul(nn,Xr),Ft=Math.imul(nn,Fr),Ft=Ft+Math.imul(un,Xr)|0,yr=Math.imul(un,Fr),ur=ur+Math.imul(en,vn)|0,Ft=Ft+Math.imul(en,ln)|0,Ft=Ft+Math.imul(rn,vn)|0,yr=yr+Math.imul(rn,ln)|0,ur=ur+Math.imul(Br,sn)|0,Ft=Ft+Math.imul(Br,_n)|0,Ft=Ft+Math.imul(Mr,sn)|0,yr=yr+Math.imul(Mr,_n)|0,ur=ur+Math.imul(Tr,xn)|0,Ft=Ft+Math.imul(Tr,$n)|0,Ft=Ft+Math.imul(Kr,xn)|0,yr=yr+Math.imul(Kr,$n)|0,ur=ur+Math.imul(qr,Bn)|0,Ft=Ft+Math.imul(qr,wn)|0,Ft=Ft+Math.imul(Rr,Bn)|0,yr=yr+Math.imul(Rr,wn)|0;var zn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(zn>>>26)|0,zn&=67108863,ur=Math.imul(dn,Xr),Ft=Math.imul(dn,Fr),Ft=Ft+Math.imul(cn,Xr)|0,yr=Math.imul(cn,Fr),ur=ur+Math.imul(nn,vn)|0,Ft=Ft+Math.imul(nn,ln)|0,Ft=Ft+Math.imul(un,vn)|0,yr=yr+Math.imul(un,ln)|0,ur=ur+Math.imul(en,sn)|0,Ft=Ft+Math.imul(en,_n)|0,Ft=Ft+Math.imul(rn,sn)|0,yr=yr+Math.imul(rn,_n)|0,ur=ur+Math.imul(Br,xn)|0,Ft=Ft+Math.imul(Br,$n)|0,Ft=Ft+Math.imul(Mr,xn)|0,yr=yr+Math.imul(Mr,$n)|0,ur=ur+Math.imul(Tr,Bn)|0,Ft=Ft+Math.imul(Tr,wn)|0,Ft=Ft+Math.imul(Kr,Bn)|0,yr=yr+Math.imul(Kr,wn)|0,ur=ur+Math.imul(qr,On)|0,Ft=Ft+Math.imul(qr,Sn)|0,Ft=Ft+Math.imul(Rr,On)|0,yr=yr+Math.imul(Rr,Sn)|0;var Vn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,ur=Math.imul(on,Xr),Ft=Math.imul(on,Fr),Ft=Ft+Math.imul(Hr,Xr)|0,yr=Math.imul(Hr,Fr),ur=ur+Math.imul(dn,vn)|0,Ft=Ft+Math.imul(dn,ln)|0,Ft=Ft+Math.imul(cn,vn)|0,yr=yr+Math.imul(cn,ln)|0,ur=ur+Math.imul(nn,sn)|0,Ft=Ft+Math.imul(nn,_n)|0,Ft=Ft+Math.imul(un,sn)|0,yr=yr+Math.imul(un,_n)|0,ur=ur+Math.imul(en,xn)|0,Ft=Ft+Math.imul(en,$n)|0,Ft=Ft+Math.imul(rn,xn)|0,yr=yr+Math.imul(rn,$n)|0,ur=ur+Math.imul(Br,Bn)|0,Ft=Ft+Math.imul(Br,wn)|0,Ft=Ft+Math.imul(Mr,Bn)|0,yr=yr+Math.imul(Mr,wn)|0,ur=ur+Math.imul(Tr,On)|0,Ft=Ft+Math.imul(Tr,Sn)|0,Ft=Ft+Math.imul(Kr,On)|0,yr=yr+Math.imul(Kr,Sn)|0,ur=ur+Math.imul(qr,Tn)|0,Ft=Ft+Math.imul(qr,En)|0,Ft=Ft+Math.imul(Rr,Tn)|0,yr=yr+Math.imul(Rr,En)|0;var Jn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,ur=Math.imul(gn,Xr),Ft=Math.imul(gn,Fr),Ft=Ft+Math.imul(mn,Xr)|0,yr=Math.imul(mn,Fr),ur=ur+Math.imul(on,vn)|0,Ft=Ft+Math.imul(on,ln)|0,Ft=Ft+Math.imul(Hr,vn)|0,yr=yr+Math.imul(Hr,ln)|0,ur=ur+Math.imul(dn,sn)|0,Ft=Ft+Math.imul(dn,_n)|0,Ft=Ft+Math.imul(cn,sn)|0,yr=yr+Math.imul(cn,_n)|0,ur=ur+Math.imul(nn,xn)|0,Ft=Ft+Math.imul(nn,$n)|0,Ft=Ft+Math.imul(un,xn)|0,yr=yr+Math.imul(un,$n)|0,ur=ur+Math.imul(en,Bn)|0,Ft=Ft+Math.imul(en,wn)|0,Ft=Ft+Math.imul(rn,Bn)|0,yr=yr+Math.imul(rn,wn)|0,ur=ur+Math.imul(Br,On)|0,Ft=Ft+Math.imul(Br,Sn)|0,Ft=Ft+Math.imul(Mr,On)|0,yr=yr+Math.imul(Mr,Sn)|0,ur=ur+Math.imul(Tr,Tn)|0,Ft=Ft+Math.imul(Tr,En)|0,Ft=Ft+Math.imul(Kr,Tn)|0,yr=yr+Math.imul(Kr,En)|0,ur=ur+Math.imul(qr,Pn)|0,Ft=Ft+Math.imul(qr,Mn)|0,Ft=Ft+Math.imul(Rr,Pn)|0,yr=yr+Math.imul(Rr,Mn)|0;var Zn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,ur=Math.imul(hn,Xr),Ft=Math.imul(hn,Fr),Ft=Ft+Math.imul(Cr,Xr)|0,yr=Math.imul(Cr,Fr),ur=ur+Math.imul(gn,vn)|0,Ft=Ft+Math.imul(gn,ln)|0,Ft=Ft+Math.imul(mn,vn)|0,yr=yr+Math.imul(mn,ln)|0,ur=ur+Math.imul(on,sn)|0,Ft=Ft+Math.imul(on,_n)|0,Ft=Ft+Math.imul(Hr,sn)|0,yr=yr+Math.imul(Hr,_n)|0,ur=ur+Math.imul(dn,xn)|0,Ft=Ft+Math.imul(dn,$n)|0,Ft=Ft+Math.imul(cn,xn)|0,yr=yr+Math.imul(cn,$n)|0,ur=ur+Math.imul(nn,Bn)|0,Ft=Ft+Math.imul(nn,wn)|0,Ft=Ft+Math.imul(un,Bn)|0,yr=yr+Math.imul(un,wn)|0,ur=ur+Math.imul(en,On)|0,Ft=Ft+Math.imul(en,Sn)|0,Ft=Ft+Math.imul(rn,On)|0,yr=yr+Math.imul(rn,Sn)|0,ur=ur+Math.imul(Br,Tn)|0,Ft=Ft+Math.imul(Br,En)|0,Ft=Ft+Math.imul(Mr,Tn)|0,yr=yr+Math.imul(Mr,En)|0,ur=ur+Math.imul(Tr,Pn)|0,Ft=Ft+Math.imul(Tr,Mn)|0,Ft=Ft+Math.imul(Kr,Pn)|0,yr=yr+Math.imul(Kr,Mn)|0,ur=ur+Math.imul(qr,Cn)|0,Ft=Ft+Math.imul(qr,In)|0,Ft=Ft+Math.imul(Rr,Cn)|0,yr=yr+Math.imul(Rr,In)|0;var Yn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,ur=Math.imul(xr,Xr),Ft=Math.imul(xr,Fr),Ft=Ft+Math.imul(Lr,Xr)|0,yr=Math.imul(Lr,Fr),ur=ur+Math.imul(hn,vn)|0,Ft=Ft+Math.imul(hn,ln)|0,Ft=Ft+Math.imul(Cr,vn)|0,yr=yr+Math.imul(Cr,ln)|0,ur=ur+Math.imul(gn,sn)|0,Ft=Ft+Math.imul(gn,_n)|0,Ft=Ft+Math.imul(mn,sn)|0,yr=yr+Math.imul(mn,_n)|0,ur=ur+Math.imul(on,xn)|0,Ft=Ft+Math.imul(on,$n)|0,Ft=Ft+Math.imul(Hr,xn)|0,yr=yr+Math.imul(Hr,$n)|0,ur=ur+Math.imul(dn,Bn)|0,Ft=Ft+Math.imul(dn,wn)|0,Ft=Ft+Math.imul(cn,Bn)|0,yr=yr+Math.imul(cn,wn)|0,ur=ur+Math.imul(nn,On)|0,Ft=Ft+Math.imul(nn,Sn)|0,Ft=Ft+Math.imul(un,On)|0,yr=yr+Math.imul(un,Sn)|0,ur=ur+Math.imul(en,Tn)|0,Ft=Ft+Math.imul(en,En)|0,Ft=Ft+Math.imul(rn,Tn)|0,yr=yr+Math.imul(rn,En)|0,ur=ur+Math.imul(Br,Pn)|0,Ft=Ft+Math.imul(Br,Mn)|0,Ft=Ft+Math.imul(Mr,Pn)|0,yr=yr+Math.imul(Mr,Mn)|0,ur=ur+Math.imul(Tr,Cn)|0,Ft=Ft+Math.imul(Tr,In)|0,Ft=Ft+Math.imul(Kr,Cn)|0,yr=yr+Math.imul(Kr,In)|0,ur=ur+Math.imul(qr,Rn)|0,Ft=Ft+Math.imul(qr,kn)|0,Ft=Ft+Math.imul(Rr,Rn)|0,yr=yr+Math.imul(Rr,kn)|0;var Xn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,ur=Math.imul(xr,vn),Ft=Math.imul(xr,ln),Ft=Ft+Math.imul(Lr,vn)|0,yr=Math.imul(Lr,ln),ur=ur+Math.imul(hn,sn)|0,Ft=Ft+Math.imul(hn,_n)|0,Ft=Ft+Math.imul(Cr,sn)|0,yr=yr+Math.imul(Cr,_n)|0,ur=ur+Math.imul(gn,xn)|0,Ft=Ft+Math.imul(gn,$n)|0,Ft=Ft+Math.imul(mn,xn)|0,yr=yr+Math.imul(mn,$n)|0,ur=ur+Math.imul(on,Bn)|0,Ft=Ft+Math.imul(on,wn)|0,Ft=Ft+Math.imul(Hr,Bn)|0,yr=yr+Math.imul(Hr,wn)|0,ur=ur+Math.imul(dn,On)|0,Ft=Ft+Math.imul(dn,Sn)|0,Ft=Ft+Math.imul(cn,On)|0,yr=yr+Math.imul(cn,Sn)|0,ur=ur+Math.imul(nn,Tn)|0,Ft=Ft+Math.imul(nn,En)|0,Ft=Ft+Math.imul(un,Tn)|0,yr=yr+Math.imul(un,En)|0,ur=ur+Math.imul(en,Pn)|0,Ft=Ft+Math.imul(en,Mn)|0,Ft=Ft+Math.imul(rn,Pn)|0,yr=yr+Math.imul(rn,Mn)|0,ur=ur+Math.imul(Br,Cn)|0,Ft=Ft+Math.imul(Br,In)|0,Ft=Ft+Math.imul(Mr,Cn)|0,yr=yr+Math.imul(Mr,In)|0,ur=ur+Math.imul(Tr,Rn)|0,Ft=Ft+Math.imul(Tr,kn)|0,Ft=Ft+Math.imul(Kr,Rn)|0,yr=yr+Math.imul(Kr,kn)|0;var Qn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,ur=Math.imul(xr,sn),Ft=Math.imul(xr,_n),Ft=Ft+Math.imul(Lr,sn)|0,yr=Math.imul(Lr,_n),ur=ur+Math.imul(hn,xn)|0,Ft=Ft+Math.imul(hn,$n)|0,Ft=Ft+Math.imul(Cr,xn)|0,yr=yr+Math.imul(Cr,$n)|0,ur=ur+Math.imul(gn,Bn)|0,Ft=Ft+Math.imul(gn,wn)|0,Ft=Ft+Math.imul(mn,Bn)|0,yr=yr+Math.imul(mn,wn)|0,ur=ur+Math.imul(on,On)|0,Ft=Ft+Math.imul(on,Sn)|0,Ft=Ft+Math.imul(Hr,On)|0,yr=yr+Math.imul(Hr,Sn)|0,ur=ur+Math.imul(dn,Tn)|0,Ft=Ft+Math.imul(dn,En)|0,Ft=Ft+Math.imul(cn,Tn)|0,yr=yr+Math.imul(cn,En)|0,ur=ur+Math.imul(nn,Pn)|0,Ft=Ft+Math.imul(nn,Mn)|0,Ft=Ft+Math.imul(un,Pn)|0,yr=yr+Math.imul(un,Mn)|0,ur=ur+Math.imul(en,Cn)|0,Ft=Ft+Math.imul(en,In)|0,Ft=Ft+Math.imul(rn,Cn)|0,yr=yr+Math.imul(rn,In)|0,ur=ur+Math.imul(Br,Rn)|0,Ft=Ft+Math.imul(Br,kn)|0,Ft=Ft+Math.imul(Mr,Rn)|0,yr=yr+Math.imul(Mr,kn)|0;var ei=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ei>>>26)|0,ei&=67108863,ur=Math.imul(xr,xn),Ft=Math.imul(xr,$n),Ft=Ft+Math.imul(Lr,xn)|0,yr=Math.imul(Lr,$n),ur=ur+Math.imul(hn,Bn)|0,Ft=Ft+Math.imul(hn,wn)|0,Ft=Ft+Math.imul(Cr,Bn)|0,yr=yr+Math.imul(Cr,wn)|0,ur=ur+Math.imul(gn,On)|0,Ft=Ft+Math.imul(gn,Sn)|0,Ft=Ft+Math.imul(mn,On)|0,yr=yr+Math.imul(mn,Sn)|0,ur=ur+Math.imul(on,Tn)|0,Ft=Ft+Math.imul(on,En)|0,Ft=Ft+Math.imul(Hr,Tn)|0,yr=yr+Math.imul(Hr,En)|0,ur=ur+Math.imul(dn,Pn)|0,Ft=Ft+Math.imul(dn,Mn)|0,Ft=Ft+Math.imul(cn,Pn)|0,yr=yr+Math.imul(cn,Mn)|0,ur=ur+Math.imul(nn,Cn)|0,Ft=Ft+Math.imul(nn,In)|0,Ft=Ft+Math.imul(un,Cn)|0,yr=yr+Math.imul(un,In)|0,ur=ur+Math.imul(en,Rn)|0,Ft=Ft+Math.imul(en,kn)|0,Ft=Ft+Math.imul(rn,Rn)|0,yr=yr+Math.imul(rn,kn)|0;var ti=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ti>>>26)|0,ti&=67108863,ur=Math.imul(xr,Bn),Ft=Math.imul(xr,wn),Ft=Ft+Math.imul(Lr,Bn)|0,yr=Math.imul(Lr,wn),ur=ur+Math.imul(hn,On)|0,Ft=Ft+Math.imul(hn,Sn)|0,Ft=Ft+Math.imul(Cr,On)|0,yr=yr+Math.imul(Cr,Sn)|0,ur=ur+Math.imul(gn,Tn)|0,Ft=Ft+Math.imul(gn,En)|0,Ft=Ft+Math.imul(mn,Tn)|0,yr=yr+Math.imul(mn,En)|0,ur=ur+Math.imul(on,Pn)|0,Ft=Ft+Math.imul(on,Mn)|0,Ft=Ft+Math.imul(Hr,Pn)|0,yr=yr+Math.imul(Hr,Mn)|0,ur=ur+Math.imul(dn,Cn)|0,Ft=Ft+Math.imul(dn,In)|0,Ft=Ft+Math.imul(cn,Cn)|0,yr=yr+Math.imul(cn,In)|0,ur=ur+Math.imul(nn,Rn)|0,Ft=Ft+Math.imul(nn,kn)|0,Ft=Ft+Math.imul(un,Rn)|0,yr=yr+Math.imul(un,kn)|0;var ri=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ri>>>26)|0,ri&=67108863,ur=Math.imul(xr,On),Ft=Math.imul(xr,Sn),Ft=Ft+Math.imul(Lr,On)|0,yr=Math.imul(Lr,Sn),ur=ur+Math.imul(hn,Tn)|0,Ft=Ft+Math.imul(hn,En)|0,Ft=Ft+Math.imul(Cr,Tn)|0,yr=yr+Math.imul(Cr,En)|0,ur=ur+Math.imul(gn,Pn)|0,Ft=Ft+Math.imul(gn,Mn)|0,Ft=Ft+Math.imul(mn,Pn)|0,yr=yr+Math.imul(mn,Mn)|0,ur=ur+Math.imul(on,Cn)|0,Ft=Ft+Math.imul(on,In)|0,Ft=Ft+Math.imul(Hr,Cn)|0,yr=yr+Math.imul(Hr,In)|0,ur=ur+Math.imul(dn,Rn)|0,Ft=Ft+Math.imul(dn,kn)|0,Ft=Ft+Math.imul(cn,Rn)|0,yr=yr+Math.imul(cn,kn)|0;var ni=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ni>>>26)|0,ni&=67108863,ur=Math.imul(xr,Tn),Ft=Math.imul(xr,En),Ft=Ft+Math.imul(Lr,Tn)|0,yr=Math.imul(Lr,En),ur=ur+Math.imul(hn,Pn)|0,Ft=Ft+Math.imul(hn,Mn)|0,Ft=Ft+Math.imul(Cr,Pn)|0,yr=yr+Math.imul(Cr,Mn)|0,ur=ur+Math.imul(gn,Cn)|0,Ft=Ft+Math.imul(gn,In)|0,Ft=Ft+Math.imul(mn,Cn)|0,yr=yr+Math.imul(mn,In)|0,ur=ur+Math.imul(on,Rn)|0,Ft=Ft+Math.imul(on,kn)|0,Ft=Ft+Math.imul(Hr,Rn)|0,yr=yr+Math.imul(Hr,kn)|0;var ii=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ii>>>26)|0,ii&=67108863,ur=Math.imul(xr,Pn),Ft=Math.imul(xr,Mn),Ft=Ft+Math.imul(Lr,Pn)|0,yr=Math.imul(Lr,Mn),ur=ur+Math.imul(hn,Cn)|0,Ft=Ft+Math.imul(hn,In)|0,Ft=Ft+Math.imul(Cr,Cn)|0,yr=yr+Math.imul(Cr,In)|0,ur=ur+Math.imul(gn,Rn)|0,Ft=Ft+Math.imul(gn,kn)|0,Ft=Ft+Math.imul(mn,Rn)|0,yr=yr+Math.imul(mn,kn)|0;var oi=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(oi>>>26)|0,oi&=67108863,ur=Math.imul(xr,Cn),Ft=Math.imul(xr,In),Ft=Ft+Math.imul(Lr,Cn)|0,yr=Math.imul(Lr,In),ur=ur+Math.imul(hn,Rn)|0,Ft=Ft+Math.imul(hn,kn)|0,Ft=Ft+Math.imul(Cr,Rn)|0,yr=yr+Math.imul(Cr,kn)|0;var ai=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ai>>>26)|0,ai&=67108863,ur=Math.imul(xr,Rn),Ft=Math.imul(xr,kn),Ft=Ft+Math.imul(Lr,Rn)|0,yr=Math.imul(Lr,kn);var si=(tr+ur|0)+((Ft&8191)<<13)|0;return tr=(yr+(Ft>>>13)|0)+(si>>>26)|0,si&=67108863,vr[0]=Gn,vr[1]=Kn,vr[2]=Hn,vr[3]=Wn,vr[4]=zn,vr[5]=Vn,vr[6]=Jn,vr[7]=Zn,vr[8]=Yn,vr[9]=Xn,vr[10]=Qn,vr[11]=ei,vr[12]=ti,vr[13]=ri,vr[14]=ni,vr[15]=ii,vr[16]=oi,vr[17]=ai,vr[18]=si,tr!==0&&(vr[19]=tr,or.length++),or};Math.imul||(Sr=_r);function Or(Vt,ht,Ct){Ct.negative=ht.negative^Vt.negative,Ct.length=Vt.length+ht.length;for(var or=0,pr=0,lr=0;lr<Ct.length-1;lr++){var vr=pr;pr=0;for(var tr=or&67108863,ur=Math.min(lr,ht.length-1),Ft=Math.max(0,lr-Vt.length+1);Ft<=ur;Ft++){var yr=lr-Ft,Nr=Vt.words[yr]|0,qr=ht.words[Ft]|0,Rr=Nr*qr,Ar=Rr&67108863;vr=vr+(Rr/67108864|0)|0,Ar=Ar+tr|0,tr=Ar&67108863,vr=vr+(Ar>>>26)|0,pr+=vr>>>26,vr&=67108863}Ct.words[lr]=tr,or=vr,vr=pr}return or!==0?Ct.words[lr]=or:Ct.length--,Ct._strip()}function Pr(Vt,ht,Ct){return Or(Vt,ht,Ct)}Je.prototype.mulTo=function(ht,Ct){var or,pr=this.length+ht.length;return this.length===10&&ht.length===10?or=Sr(this,ht,Ct):pr<63?or=_r(this,ht,Ct):pr<1024?or=Or(this,ht,Ct):or=Pr(this,ht,Ct),or},Je.prototype.mul=function(ht){var Ct=new Je(null);return Ct.words=new Array(this.length+ht.length),this.mulTo(ht,Ct)},Je.prototype.mulf=function(ht){var Ct=new Je(null);return Ct.words=new Array(this.length+ht.length),Pr(this,ht,Ct)},Je.prototype.imul=function(ht){return this.clone().mulTo(ht,this)},Je.prototype.imuln=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(typeof ht=="number"),Ne(ht<67108864);for(var or=0,pr=0;pr<this.length;pr++){var lr=(this.words[pr]|0)*ht,vr=(lr&67108863)+(or&67108863);or>>=26,or+=lr/67108864|0,or+=vr>>>26,this.words[pr]=vr&67108863}return or!==0&&(this.words[pr]=or,this.length++),this.length=ht===0?1:this.length,Ct?this.ineg():this},Je.prototype.muln=function(ht){return this.clone().imuln(ht)},Je.prototype.sqr=function(){return this.mul(this)},Je.prototype.isqr=function(){return this.imul(this.clone())},Je.prototype.pow=function(ht){var Ct=Er(ht);if(Ct.length===0)return new Je(1);for(var or=this,pr=0;pr<Ct.length&&Ct[pr]===0;pr++,or=or.sqr());if(++pr<Ct.length)for(var lr=or.sqr();pr<Ct.length;pr++,lr=lr.sqr())Ct[pr]!==0&&(or=or.mul(lr));return or},Je.prototype.iushln=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26,pr=67108863>>>26-Ct<<26-Ct,lr;if(Ct!==0){var vr=0;for(lr=0;lr<this.length;lr++){var tr=this.words[lr]&pr,ur=(this.words[lr]|0)-tr<<Ct;this.words[lr]=ur|vr,vr=tr>>>26-Ct}vr&&(this.words[lr]=vr,this.length++)}if(or!==0){for(lr=this.length-1;lr>=0;lr--)this.words[lr+or]=this.words[lr];for(lr=0;lr<or;lr++)this.words[lr]=0;this.length+=or}return this._strip()},Je.prototype.ishln=function(ht){return Ne(this.negative===0),this.iushln(ht)},Je.prototype.iushrn=function(ht,Ct,or){Ne(typeof ht=="number"&&ht>=0);var pr;Ct?pr=(Ct-Ct%26)/26:pr=0;var lr=ht%26,vr=Math.min((ht-lr)/26,this.length),tr=67108863^67108863>>>lr<<lr,ur=or;if(pr-=vr,pr=Math.max(0,pr),ur){for(var Ft=0;Ft<vr;Ft++)ur.words[Ft]=this.words[Ft];ur.length=vr}if(vr!==0)if(this.length>vr)for(this.length-=vr,Ft=0;Ft<this.length;Ft++)this.words[Ft]=this.words[Ft+vr];else this.words[0]=0,this.length=1;var yr=0;for(Ft=this.length-1;Ft>=0&&(yr!==0||Ft>=pr);Ft--){var Nr=this.words[Ft]|0;this.words[Ft]=yr<<26-lr|Nr>>>lr,yr=Nr&tr}return ur&&yr!==0&&(ur.words[ur.length++]=yr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Je.prototype.ishrn=function(ht,Ct,or){return Ne(this.negative===0),this.iushrn(ht,Ct,or)},Je.prototype.shln=function(ht){return this.clone().ishln(ht)},Je.prototype.ushln=function(ht){return this.clone().iushln(ht)},Je.prototype.shrn=function(ht){return this.clone().ishrn(ht)},Je.prototype.ushrn=function(ht){return this.clone().iushrn(ht)},Je.prototype.testn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26,pr=1<<Ct;if(this.length<=or)return!1;var lr=this.words[or];return!!(lr&pr)},Je.prototype.imaskn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26;if(Ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=or)return this;if(Ct!==0&&or++,this.length=Math.min(or,this.length),Ct!==0){var pr=67108863^67108863>>>Ct<<Ct;this.words[this.length-1]&=pr}return this._strip()},Je.prototype.maskn=function(ht){return this.clone().imaskn(ht)},Je.prototype.iaddn=function(ht){return Ne(typeof ht=="number"),Ne(ht<67108864),ht<0?this.isubn(-ht):this.negative!==0?this.length===1&&(this.words[0]|0)<=ht?(this.words[0]=ht-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ht),this.negative=1,this):this._iaddn(ht)},Je.prototype._iaddn=function(ht){this.words[0]+=ht;for(var Ct=0;Ct<this.length&&this.words[Ct]>=67108864;Ct++)this.words[Ct]-=67108864,Ct===this.length-1?this.words[Ct+1]=1:this.words[Ct+1]++;return this.length=Math.max(this.length,Ct+1),this},Je.prototype.isubn=function(ht){if(Ne(typeof ht=="number"),Ne(ht<67108864),ht<0)return this.iaddn(-ht);if(this.negative!==0)return this.negative=0,this.iaddn(ht),this.negative=1,this;if(this.words[0]-=ht,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ct=0;Ct<this.length&&this.words[Ct]<0;Ct++)this.words[Ct]+=67108864,this.words[Ct+1]-=1;return this._strip()},Je.prototype.addn=function(ht){return this.clone().iaddn(ht)},Je.prototype.subn=function(ht){return this.clone().isubn(ht)},Je.prototype.iabs=function(){return this.negative=0,this},Je.prototype.abs=function(){return this.clone().iabs()},Je.prototype._ishlnsubmul=function(ht,Ct,or){var pr=ht.length+or,lr;this._expand(pr);var vr,tr=0;for(lr=0;lr<ht.length;lr++){vr=(this.words[lr+or]|0)+tr;var ur=(ht.words[lr]|0)*Ct;vr-=ur&67108863,tr=(vr>>26)-(ur/67108864|0),this.words[lr+or]=vr&67108863}for(;lr<this.length-or;lr++)vr=(this.words[lr+or]|0)+tr,tr=vr>>26,this.words[lr+or]=vr&67108863;if(tr===0)return this._strip();for(Ne(tr===-1),tr=0,lr=0;lr<this.length;lr++)vr=-(this.words[lr]|0)+tr,tr=vr>>26,this.words[lr]=vr&67108863;return this.negative=1,this._strip()},Je.prototype._wordDiv=function(ht,Ct){var or=this.length-ht.length,pr=this.clone(),lr=ht,vr=lr.words[lr.length-1]|0,tr=this._countBits(vr);or=26-tr,or!==0&&(lr=lr.ushln(or),pr.iushln(or),vr=lr.words[lr.length-1]|0);var ur=pr.length-lr.length,Ft;if(Ct!=="mod"){Ft=new Je(null),Ft.length=ur+1,Ft.words=new Array(Ft.length);for(var yr=0;yr<Ft.length;yr++)Ft.words[yr]=0}var Nr=pr.clone()._ishlnsubmul(lr,1,ur);Nr.negative===0&&(pr=Nr,Ft&&(Ft.words[ur]=1));for(var qr=ur-1;qr>=0;qr--){var Rr=(pr.words[lr.length+qr]|0)*67108864+(pr.words[lr.length+qr-1]|0);for(Rr=Math.min(Rr/vr|0,67108863),pr._ishlnsubmul(lr,Rr,qr);pr.negative!==0;)Rr--,pr.negative=0,pr._ishlnsubmul(lr,1,qr),pr.isZero()||(pr.negative^=1);Ft&&(Ft.words[qr]=Rr)}return Ft&&Ft._strip(),pr._strip(),Ct!=="div"&&or!==0&&pr.iushrn(or),{div:Ft||null,mod:pr}},Je.prototype.divmod=function(ht,Ct,or){if(Ne(!ht.isZero()),this.isZero())return{div:new Je(0),mod:new Je(0)};var pr,lr,vr;return this.negative!==0&&ht.negative===0?(vr=this.neg().divmod(ht,Ct),Ct!=="mod"&&(pr=vr.div.neg()),Ct!=="div"&&(lr=vr.mod.neg(),or&&lr.negative!==0&&lr.iadd(ht)),{div:pr,mod:lr}):this.negative===0&&ht.negative!==0?(vr=this.divmod(ht.neg(),Ct),Ct!=="mod"&&(pr=vr.div.neg()),{div:pr,mod:vr.mod}):this.negative&ht.negative?(vr=this.neg().divmod(ht.neg(),Ct),Ct!=="div"&&(lr=vr.mod.neg(),or&&lr.negative!==0&&lr.isub(ht)),{div:vr.div,mod:lr}):ht.length>this.length||this.cmp(ht)<0?{div:new Je(0),mod:this}:ht.length===1?Ct==="div"?{div:this.divn(ht.words[0]),mod:null}:Ct==="mod"?{div:null,mod:new Je(this.modrn(ht.words[0]))}:{div:this.divn(ht.words[0]),mod:new Je(this.modrn(ht.words[0]))}:this._wordDiv(ht,Ct)},Je.prototype.div=function(ht){return this.divmod(ht,"div",!1).div},Je.prototype.mod=function(ht){return this.divmod(ht,"mod",!1).mod},Je.prototype.umod=function(ht){return this.divmod(ht,"mod",!0).mod},Je.prototype.divRound=function(ht){var Ct=this.divmod(ht);if(Ct.mod.isZero())return Ct.div;var or=Ct.div.negative!==0?Ct.mod.isub(ht):Ct.mod,pr=ht.ushrn(1),lr=ht.andln(1),vr=or.cmp(pr);return vr<0||lr===1&&vr===0?Ct.div:Ct.div.negative!==0?Ct.div.isubn(1):Ct.div.iaddn(1)},Je.prototype.modrn=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(ht<=67108863);for(var or=(1<<26)%ht,pr=0,lr=this.length-1;lr>=0;lr--)pr=(or*pr+(this.words[lr]|0))%ht;return Ct?-pr:pr},Je.prototype.modn=function(ht){return this.modrn(ht)},Je.prototype.idivn=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(ht<=67108863);for(var or=0,pr=this.length-1;pr>=0;pr--){var lr=(this.words[pr]|0)+or*67108864;this.words[pr]=lr/ht|0,or=lr%ht}return this._strip(),Ct?this.ineg():this},Je.prototype.divn=function(ht){return this.clone().idivn(ht)},Je.prototype.egcd=function(ht){Ne(ht.negative===0),Ne(!ht.isZero());var Ct=this,or=ht.clone();Ct.negative!==0?Ct=Ct.umod(ht):Ct=Ct.clone();for(var pr=new Je(1),lr=new Je(0),vr=new Je(0),tr=new Je(1),ur=0;Ct.isEven()&&or.isEven();)Ct.iushrn(1),or.iushrn(1),++ur;for(var Ft=or.clone(),yr=Ct.clone();!Ct.isZero();){for(var Nr=0,qr=1;!(Ct.words[0]&qr)&&Nr<26;++Nr,qr<<=1);if(Nr>0)for(Ct.iushrn(Nr);Nr-- >0;)(pr.isOdd()||lr.isOdd())&&(pr.iadd(Ft),lr.isub(yr)),pr.iushrn(1),lr.iushrn(1);for(var Rr=0,Ar=1;!(or.words[0]&Ar)&&Rr<26;++Rr,Ar<<=1);if(Rr>0)for(or.iushrn(Rr);Rr-- >0;)(vr.isOdd()||tr.isOdd())&&(vr.iadd(Ft),tr.isub(yr)),vr.iushrn(1),tr.iushrn(1);Ct.cmp(or)>=0?(Ct.isub(or),pr.isub(vr),lr.isub(tr)):(or.isub(Ct),vr.isub(pr),tr.isub(lr))}return{a:vr,b:tr,gcd:or.iushln(ur)}},Je.prototype._invmp=function(ht){Ne(ht.negative===0),Ne(!ht.isZero());var Ct=this,or=ht.clone();Ct.negative!==0?Ct=Ct.umod(ht):Ct=Ct.clone();for(var pr=new Je(1),lr=new Je(0),vr=or.clone();Ct.cmpn(1)>0&&or.cmpn(1)>0;){for(var tr=0,ur=1;!(Ct.words[0]&ur)&&tr<26;++tr,ur<<=1);if(tr>0)for(Ct.iushrn(tr);tr-- >0;)pr.isOdd()&&pr.iadd(vr),pr.iushrn(1);for(var Ft=0,yr=1;!(or.words[0]&yr)&&Ft<26;++Ft,yr<<=1);if(Ft>0)for(or.iushrn(Ft);Ft-- >0;)lr.isOdd()&&lr.iadd(vr),lr.iushrn(1);Ct.cmp(or)>=0?(Ct.isub(or),pr.isub(lr)):(or.isub(Ct),lr.isub(pr))}var Nr;return Ct.cmpn(1)===0?Nr=pr:Nr=lr,Nr.cmpn(0)<0&&Nr.iadd(ht),Nr},Je.prototype.gcd=function(ht){if(this.isZero())return ht.abs();if(ht.isZero())return this.abs();var Ct=this.clone(),or=ht.clone();Ct.negative=0,or.negative=0;for(var pr=0;Ct.isEven()&&or.isEven();pr++)Ct.iushrn(1),or.iushrn(1);do{for(;Ct.isEven();)Ct.iushrn(1);for(;or.isEven();)or.iushrn(1);var lr=Ct.cmp(or);if(lr<0){var vr=Ct;Ct=or,or=vr}else if(lr===0||or.cmpn(1)===0)break;Ct.isub(or)}while(!0);return or.iushln(pr)},Je.prototype.invm=function(ht){return this.egcd(ht).a.umod(ht)},Je.prototype.isEven=function(){return(this.words[0]&1)===0},Je.prototype.isOdd=function(){return(this.words[0]&1)===1},Je.prototype.andln=function(ht){return this.words[0]&ht},Je.prototype.bincn=function(ht){Ne(typeof ht=="number");var Ct=ht%26,or=(ht-Ct)/26,pr=1<<Ct;if(this.length<=or)return this._expand(or+1),this.words[or]|=pr,this;for(var lr=pr,vr=or;lr!==0&&vr<this.length;vr++){var tr=this.words[vr]|0;tr+=lr,lr=tr>>>26,tr&=67108863,this.words[vr]=tr}return lr!==0&&(this.words[vr]=lr,this.length++),this},Je.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Je.prototype.cmpn=function(ht){var Ct=ht<0;if(this.negative!==0&&!Ct)return-1;if(this.negative===0&&Ct)return 1;this._strip();var or;if(this.length>1)or=1;else{Ct&&(ht=-ht),Ne(ht<=67108863,"Number is too big");var pr=this.words[0]|0;or=pr===ht?0:pr<ht?-1:1}return this.negative!==0?-or|0:or},Je.prototype.cmp=function(ht){if(this.negative!==0&&ht.negative===0)return-1;if(this.negative===0&&ht.negative!==0)return 1;var Ct=this.ucmp(ht);return this.negative!==0?-Ct|0:Ct},Je.prototype.ucmp=function(ht){if(this.length>ht.length)return 1;if(this.length<ht.length)return-1;for(var Ct=0,or=this.length-1;or>=0;or--){var pr=this.words[or]|0,lr=ht.words[or]|0;if(pr!==lr){pr<lr?Ct=-1:pr>lr&&(Ct=1);break}}return Ct},Je.prototype.gtn=function(ht){return this.cmpn(ht)===1},Je.prototype.gt=function(ht){return this.cmp(ht)===1},Je.prototype.gten=function(ht){return this.cmpn(ht)>=0},Je.prototype.gte=function(ht){return this.cmp(ht)>=0},Je.prototype.ltn=function(ht){return this.cmpn(ht)===-1},Je.prototype.lt=function(ht){return this.cmp(ht)===-1},Je.prototype.lten=function(ht){return this.cmpn(ht)<=0},Je.prototype.lte=function(ht){return this.cmp(ht)<=0},Je.prototype.eqn=function(ht){return this.cmpn(ht)===0},Je.prototype.eq=function(ht){return this.cmp(ht)===0},Je.red=function(ht){return new Ir(ht)},Je.prototype.toRed=function(ht){return Ne(!this.red,"Already a number in reduction context"),Ne(this.negative===0,"red works only with positives"),ht.convertTo(this)._forceRed(ht)},Je.prototype.fromRed=function(){return Ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Je.prototype._forceRed=function(ht){return this.red=ht,this},Je.prototype.forceRed=function(ht){return Ne(!this.red,"Already a number in reduction context"),this._forceRed(ht)},Je.prototype.redAdd=function(ht){return Ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ht)},Je.prototype.redIAdd=function(ht){return Ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ht)},Je.prototype.redSub=function(ht){return Ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ht)},Je.prototype.redISub=function(ht){return Ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ht)},Je.prototype.redShl=function(ht){return Ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ht)},Je.prototype.redMul=function(ht){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ht),this.red.mul(this,ht)},Je.prototype.redIMul=function(ht){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ht),this.red.imul(this,ht)},Je.prototype.redSqr=function(){return Ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Je.prototype.redISqr=function(){return Ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Je.prototype.redSqrt=function(){return Ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Je.prototype.redInvm=function(){return Ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Je.prototype.redNeg=function(){return Ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Je.prototype.redPow=function(ht){return Ne(this.red&&!ht.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ht)};var kr={k256:null,p224:null,p192:null,p25519:null};function Ur(Vt,ht){this.name=Vt,this.p=new Je(ht,16),this.n=this.p.bitLength(),this.k=new Je(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ur.prototype._tmp=function(){var ht=new Je(null);return ht.words=new Array(Math.ceil(this.n/13)),ht},Ur.prototype.ireduce=function(ht){var Ct=ht,or;do this.split(Ct,this.tmp),Ct=this.imulK(Ct),Ct=Ct.iadd(this.tmp),or=Ct.bitLength();while(or>this.n);var pr=or<this.n?-1:Ct.ucmp(this.p);return pr===0?(Ct.words[0]=0,Ct.length=1):pr>0?Ct.isub(this.p):Ct.strip!==void 0?Ct.strip():Ct._strip(),Ct},Ur.prototype.split=function(ht,Ct){ht.iushrn(this.n,0,Ct)},Ur.prototype.imulK=function(ht){return ht.imul(this.k)};function Yr(){Ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ze(Yr,Ur),Yr.prototype.split=function(ht,Ct){for(var or=4194303,pr=Math.min(ht.length,9),lr=0;lr<pr;lr++)Ct.words[lr]=ht.words[lr];if(Ct.length=pr,ht.length<=9){ht.words[0]=0,ht.length=1;return}var vr=ht.words[9];for(Ct.words[Ct.length++]=vr&or,lr=10;lr<ht.length;lr++){var tr=ht.words[lr]|0;ht.words[lr-10]=(tr&or)<<4|vr>>>22,vr=tr}vr>>>=22,ht.words[lr-10]=vr,vr===0&&ht.length>10?ht.length-=10:ht.length-=9},Yr.prototype.imulK=function(ht){ht.words[ht.length]=0,ht.words[ht.length+1]=0,ht.length+=2;for(var Ct=0,or=0;or<ht.length;or++){var pr=ht.words[or]|0;Ct+=pr*977,ht.words[or]=Ct&67108863,Ct=pr*64+(Ct/67108864|0)}return ht.words[ht.length-1]===0&&(ht.length--,ht.words[ht.length-1]===0&&ht.length--),ht};function jr(){Ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ze(jr,Ur);function Dr(){Ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ze(Dr,Ur);function Vr(){Ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ze(Vr,Ur),Vr.prototype.imulK=function(ht){for(var Ct=0,or=0;or<ht.length;or++){var pr=(ht.words[or]|0)*19+Ct,lr=pr&67108863;pr>>>=26,ht.words[or]=lr,Ct=pr}return Ct!==0&&(ht.words[ht.length++]=Ct),ht},Je._prime=function(ht){if(kr[ht])return kr[ht];var Ct;if(ht==="k256")Ct=new Yr;else if(ht==="p224")Ct=new jr;else if(ht==="p192")Ct=new Dr;else if(ht==="p25519")Ct=new Vr;else throw new Error("Unknown prime "+ht);return kr[ht]=Ct,Ct};function Ir(Vt){if(typeof Vt=="string"){var ht=Je._prime(Vt);this.m=ht.p,this.prime=ht}else Ne(Vt.gtn(1),"modulus must be greater than 1"),this.m=Vt,this.prime=null}Ir.prototype._verify1=function(ht){Ne(ht.negative===0,"red works only with positives"),Ne(ht.red,"red works only with red numbers")},Ir.prototype._verify2=function(ht,Ct){Ne((ht.negative|Ct.negative)===0,"red works only with positives"),Ne(ht.red&&ht.red===Ct.red,"red works only with red numbers")},Ir.prototype.imod=function(ht){return this.prime?this.prime.ireduce(ht)._forceRed(this):(mt(ht,ht.umod(this.m)._forceRed(this)),ht)},Ir.prototype.neg=function(ht){return ht.isZero()?ht.clone():this.m.sub(ht)._forceRed(this)},Ir.prototype.add=function(ht,Ct){this._verify2(ht,Ct);var or=ht.add(Ct);return or.cmp(this.m)>=0&&or.isub(this.m),or._forceRed(this)},Ir.prototype.iadd=function(ht,Ct){this._verify2(ht,Ct);var or=ht.iadd(Ct);return or.cmp(this.m)>=0&&or.isub(this.m),or},Ir.prototype.sub=function(ht,Ct){this._verify2(ht,Ct);var or=ht.sub(Ct);return or.cmpn(0)<0&&or.iadd(this.m),or._forceRed(this)},Ir.prototype.isub=function(ht,Ct){this._verify2(ht,Ct);var or=ht.isub(Ct);return or.cmpn(0)<0&&or.iadd(this.m),or},Ir.prototype.shl=function(ht,Ct){return this._verify1(ht),this.imod(ht.ushln(Ct))},Ir.prototype.imul=function(ht,Ct){return this._verify2(ht,Ct),this.imod(ht.imul(Ct))},Ir.prototype.mul=function(ht,Ct){return this._verify2(ht,Ct),this.imod(ht.mul(Ct))},Ir.prototype.isqr=function(ht){return this.imul(ht,ht.clone())},Ir.prototype.sqr=function(ht){return this.mul(ht,ht)},Ir.prototype.sqrt=function(ht){if(ht.isZero())return ht.clone();var Ct=this.m.andln(3);if(Ne(Ct%2===1),Ct===3){var or=this.m.add(new Je(1)).iushrn(2);return this.pow(ht,or)}for(var pr=this.m.subn(1),lr=0;!pr.isZero()&&pr.andln(1)===0;)lr++,pr.iushrn(1);Ne(!pr.isZero());var vr=new Je(1).toRed(this),tr=vr.redNeg(),ur=this.m.subn(1).iushrn(1),Ft=this.m.bitLength();for(Ft=new Je(2*Ft*Ft).toRed(this);this.pow(Ft,ur).cmp(tr)!==0;)Ft.redIAdd(tr);for(var yr=this.pow(Ft,pr),Nr=this.pow(ht,pr.addn(1).iushrn(1)),qr=this.pow(ht,pr),Rr=lr;qr.cmp(vr)!==0;){for(var Ar=qr,Tr=0;Ar.cmp(vr)!==0;Tr++)Ar=Ar.redSqr();Ne(Tr<Rr);var Kr=this.pow(yr,new Je(1).iushln(Rr-Tr-1));Nr=Nr.redMul(Kr),yr=Kr.redSqr(),qr=qr.redMul(yr),Rr=Tr}return Nr},Ir.prototype.invm=function(ht){var Ct=ht._invmp(this.m);return Ct.negative!==0?(Ct.negative=0,this.imod(Ct).redNeg()):this.imod(Ct)},Ir.prototype.pow=function(ht,Ct){if(Ct.isZero())return new Je(1).toRed(this);if(Ct.cmpn(1)===0)return ht.clone();var or=4,pr=new Array(1<<or);pr[0]=new Je(1).toRed(this),pr[1]=ht;for(var lr=2;lr<pr.length;lr++)pr[lr]=this.mul(pr[lr-1],ht);var vr=pr[0],tr=0,ur=0,Ft=Ct.bitLength()%26;for(Ft===0&&(Ft=26),lr=Ct.length-1;lr>=0;lr--){for(var yr=Ct.words[lr],Nr=Ft-1;Nr>=0;Nr--){var qr=yr>>Nr&1;if(vr!==pr[0]&&(vr=this.sqr(vr)),qr===0&&tr===0){ur=0;continue}tr<<=1,tr|=qr,ur++,!(ur!==or&&(lr!==0||Nr!==0))&&(vr=this.mul(vr,pr[tr]),ur=0,tr=0)}Ft=26}return vr},Ir.prototype.convertTo=function(ht){var Ct=ht.umod(this.m);return Ct===ht?Ct.clone():Ct},Ir.prototype.convertFrom=function(ht){var Ct=ht.clone();return Ct.red=null,Ct},Je.mont=function(ht){return new br(ht)};function br(Vt){Ir.call(this,Vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Je(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ze(br,Ir),br.prototype.convertTo=function(ht){return this.imod(ht.ushln(this.shift))},br.prototype.convertFrom=function(ht){var Ct=this.imod(ht.mul(this.rinv));return Ct.red=null,Ct},br.prototype.imul=function(ht,Ct){if(ht.isZero()||Ct.isZero())return ht.words[0]=0,ht.length=1,ht;var or=ht.imul(Ct),pr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=or.isub(pr).iushrn(this.shift),vr=lr;return lr.cmp(this.m)>=0?vr=lr.isub(this.m):lr.cmpn(0)<0&&(vr=lr.iadd(this.m)),vr._forceRed(this)},br.prototype.mul=function(ht,Ct){if(ht.isZero()||Ct.isZero())return new Je(0)._forceRed(this);var or=ht.mul(Ct),pr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=or.isub(pr).iushrn(this.shift),vr=lr;return lr.cmp(this.m)>=0?vr=lr.isub(this.m):lr.cmpn(0)<0&&(vr=lr.iadd(this.m)),vr._forceRed(this)},br.prototype.invm=function(ht){var Ct=this.imod(ht._invmp(this.m).mul(this.r2));return Ct._forceRed(this)}})(pe,commonjsGlobal$1)}(bn$1);var bnExports$1=bn$1.exports,BN$a=bnExports$1,randomBytes$1=browserExports,Buffer$7=safeBufferExports$1.Buffer;function getr(pe){var ge=pe.modulus.byteLength(),Se;do Se=new BN$a(randomBytes$1(ge));while(Se.cmp(pe.modulus)>=0||!Se.umod(pe.prime1)||!Se.umod(pe.prime2));return Se}function blind(pe){var ge=getr(pe),Se=ge.toRed(BN$a.mont(pe.modulus)).redPow(new BN$a(pe.publicExponent)).fromRed();return{blinder:Se,unblinder:ge.invm(pe.modulus)}}function crt$2(pe,ge){var Se=blind(ge),Ne=ge.modulus.byteLength(),Ze=new BN$a(pe).mul(Se.blinder).umod(ge.modulus),Je=Ze.toRed(BN$a.mont(ge.prime1)),Xe=Ze.toRed(BN$a.mont(ge.prime2)),vt=ge.coefficient,gt=ge.prime1,kt=ge.prime2,mt=Je.redPow(ge.exponent1).fromRed(),xt=Xe.redPow(ge.exponent2).fromRed(),fr=mt.isub(xt).imul(vt).umod(gt).imul(kt);return xt.iadd(fr).imul(Se.unblinder).umod(ge.modulus).toArrayLike(Buffer$7,"be",Ne)}crt$2.getr=getr;var browserifyRsa=crt$2,elliptic={};const version$2="6.6.1",require$$0={version:version$2};var utils$r={},utils$q={};(function(pe){var ge=pe;function Se(Je,Xe){if(Array.isArray(Je))return Je.slice();if(!Je)return[];var vt=[];if(typeof Je!="string"){for(var gt=0;gt<Je.length;gt++)vt[gt]=Je[gt]|0;return vt}if(Xe==="hex"){Je=Je.replace(/[^a-z0-9]+/ig,""),Je.length%2!==0&&(Je="0"+Je);for(var gt=0;gt<Je.length;gt+=2)vt.push(parseInt(Je[gt]+Je[gt+1],16))}else for(var gt=0;gt<Je.length;gt++){var kt=Je.charCodeAt(gt),mt=kt>>8,xt=kt&255;mt?vt.push(mt,xt):vt.push(xt)}return vt}ge.toArray=Se;function Ne(Je){return Je.length===1?"0"+Je:Je}ge.zero2=Ne;function Ze(Je){for(var Xe="",vt=0;vt<Je.length;vt++)Xe+=Ne(Je[vt].toString(16));return Xe}ge.toHex=Ze,ge.encode=function(Xe,vt){return vt==="hex"?Ze(Xe):Xe}})(utils$q),function(pe){var ge=pe,Se=bnExports$2,Ne=minimalisticAssert,Ze=utils$q;ge.assert=Ne,ge.toArray=Ze.toArray,ge.zero2=Ze.zero2,ge.toHex=Ze.toHex,ge.encode=Ze.encode;function Je(mt,xt,fr){var ar=new Array(Math.max(mt.bitLength(),fr)+1),gr;for(gr=0;gr<ar.length;gr+=1)ar[gr]=0;var wr=1<<xt+1,Er=mt.clone();for(gr=0;gr<ar.length;gr++){var _r,Sr=Er.andln(wr-1);Er.isOdd()?(Sr>(wr>>1)-1?_r=(wr>>1)-Sr:_r=Sr,Er.isubn(_r)):_r=0,ar[gr]=_r,Er.iushrn(1)}return ar}ge.getNAF=Je;function Xe(mt,xt){var fr=[[],[]];mt=mt.clone(),xt=xt.clone();for(var ar=0,gr=0,wr;mt.cmpn(-ar)>0||xt.cmpn(-gr)>0;){var Er=mt.andln(3)+ar&3,_r=xt.andln(3)+gr&3;Er===3&&(Er=-1),_r===3&&(_r=-1);var Sr;Er&1?(wr=mt.andln(7)+ar&7,(wr===3||wr===5)&&_r===2?Sr=-Er:Sr=Er):Sr=0,fr[0].push(Sr);var Or;_r&1?(wr=xt.andln(7)+gr&7,(wr===3||wr===5)&&Er===2?Or=-_r:Or=_r):Or=0,fr[1].push(Or),2*ar===Sr+1&&(ar=1-ar),2*gr===Or+1&&(gr=1-gr),mt.iushrn(1),xt.iushrn(1)}return fr}ge.getJSF=Xe;function vt(mt,xt,fr){var ar="_"+xt;mt.prototype[xt]=function(){return this[ar]!==void 0?this[ar]:this[ar]=fr.call(this)}}ge.cachedProperty=vt;function gt(mt){return typeof mt=="string"?ge.toArray(mt,"hex"):mt}ge.parseBytes=gt;function kt(mt){return new Se(mt,"hex","le")}ge.intFromLE=kt}(utils$r);var curve={},BN$9=bnExports$2,utils$p=utils$r,getNAF=utils$p.getNAF,getJSF=utils$p.getJSF,assert$d=utils$p.assert;function BaseCurve(pe,ge){this.type=pe,this.p=new BN$9(ge.p,16),this.red=ge.prime?BN$9.red(ge.prime):BN$9.mont(this.p),this.zero=new BN$9(0).toRed(this.red),this.one=new BN$9(1).toRed(this.red),this.two=new BN$9(2).toRed(this.red),this.n=ge.n&&new BN$9(ge.n,16),this.g=ge.g&&this.pointFromJSON(ge.g,ge.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Se=this.n&&this.p.div(this.n);!Se||Se.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(ge,Se){assert$d(ge.precomputed);var Ne=ge._getDoubles(),Ze=getNAF(Se,1,this._bitLength),Je=(1<<Ne.step+1)-(Ne.step%2===0?2:1);Je/=3;var Xe=[],vt,gt;for(vt=0;vt<Ze.length;vt+=Ne.step){gt=0;for(var kt=vt+Ne.step-1;kt>=vt;kt--)gt=(gt<<1)+Ze[kt];Xe.push(gt)}for(var mt=this.jpoint(null,null,null),xt=this.jpoint(null,null,null),fr=Je;fr>0;fr--){for(vt=0;vt<Xe.length;vt++)gt=Xe[vt],gt===fr?xt=xt.mixedAdd(Ne.points[vt]):gt===-fr&&(xt=xt.mixedAdd(Ne.points[vt].neg()));mt=mt.add(xt)}return mt.toP()},BaseCurve.prototype._wnafMul=function(ge,Se){var Ne=4,Ze=ge._getNAFPoints(Ne);Ne=Ze.wnd;for(var Je=Ze.points,Xe=getNAF(Se,Ne,this._bitLength),vt=this.jpoint(null,null,null),gt=Xe.length-1;gt>=0;gt--){for(var kt=0;gt>=0&&Xe[gt]===0;gt--)kt++;if(gt>=0&&kt++,vt=vt.dblp(kt),gt<0)break;var mt=Xe[gt];assert$d(mt!==0),ge.type==="affine"?mt>0?vt=vt.mixedAdd(Je[mt-1>>1]):vt=vt.mixedAdd(Je[-mt-1>>1].neg()):mt>0?vt=vt.add(Je[mt-1>>1]):vt=vt.add(Je[-mt-1>>1].neg())}return ge.type==="affine"?vt.toP():vt},BaseCurve.prototype._wnafMulAdd=function(ge,Se,Ne,Ze,Je){var Xe=this._wnafT1,vt=this._wnafT2,gt=this._wnafT3,kt=0,mt,xt,fr;for(mt=0;mt<Ze;mt++){fr=Se[mt];var ar=fr._getNAFPoints(ge);Xe[mt]=ar.wnd,vt[mt]=ar.points}for(mt=Ze-1;mt>=1;mt-=2){var gr=mt-1,wr=mt;if(Xe[gr]!==1||Xe[wr]!==1){gt[gr]=getNAF(Ne[gr],Xe[gr],this._bitLength),gt[wr]=getNAF(Ne[wr],Xe[wr],this._bitLength),kt=Math.max(gt[gr].length,kt),kt=Math.max(gt[wr].length,kt);continue}var Er=[Se[gr],null,null,Se[wr]];Se[gr].y.cmp(Se[wr].y)===0?(Er[1]=Se[gr].add(Se[wr]),Er[2]=Se[gr].toJ().mixedAdd(Se[wr].neg())):Se[gr].y.cmp(Se[wr].y.redNeg())===0?(Er[1]=Se[gr].toJ().mixedAdd(Se[wr]),Er[2]=Se[gr].add(Se[wr].neg())):(Er[1]=Se[gr].toJ().mixedAdd(Se[wr]),Er[2]=Se[gr].toJ().mixedAdd(Se[wr].neg()));var _r=[-3,-1,-5,-7,0,7,5,1,3],Sr=getJSF(Ne[gr],Ne[wr]);for(kt=Math.max(Sr[0].length,kt),gt[gr]=new Array(kt),gt[wr]=new Array(kt),xt=0;xt<kt;xt++){var Or=Sr[0][xt]|0,Pr=Sr[1][xt]|0;gt[gr][xt]=_r[(Or+1)*3+(Pr+1)],gt[wr][xt]=0,vt[gr]=Er}}var kr=this.jpoint(null,null,null),Ur=this._wnafT4;for(mt=kt;mt>=0;mt--){for(var Yr=0;mt>=0;){var jr=!0;for(xt=0;xt<Ze;xt++)Ur[xt]=gt[xt][mt]|0,Ur[xt]!==0&&(jr=!1);if(!jr)break;Yr++,mt--}if(mt>=0&&Yr++,kr=kr.dblp(Yr),mt<0)break;for(xt=0;xt<Ze;xt++){var Dr=Ur[xt];Dr!==0&&(Dr>0?fr=vt[xt][Dr-1>>1]:Dr<0&&(fr=vt[xt][-Dr-1>>1].neg()),fr.type==="affine"?kr=kr.mixedAdd(fr):kr=kr.add(fr))}}for(mt=0;mt<Ze;mt++)vt[mt]=null;return Je?kr:kr.toP()};function BasePoint(pe,ge){this.curve=pe,this.type=ge,this.precomputed=null}BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(ge,Se){ge=utils$p.toArray(ge,Se);var Ne=this.p.byteLength();if((ge[0]===4||ge[0]===6||ge[0]===7)&&ge.length-1===2*Ne){ge[0]===6?assert$d(ge[ge.length-1]%2===0):ge[0]===7&&assert$d(ge[ge.length-1]%2===1);var Ze=this.point(ge.slice(1,1+Ne),ge.slice(1+Ne,1+2*Ne));return Ze}else if((ge[0]===2||ge[0]===3)&&ge.length-1===Ne)return this.pointFromX(ge.slice(1,1+Ne),ge[0]===3);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(ge){return this.encode(ge,!0)},BasePoint.prototype._encode=function(ge){var Se=this.curve.p.byteLength(),Ne=this.getX().toArray("be",Se);return ge?[this.getY().isEven()?2:3].concat(Ne):[4].concat(Ne,this.getY().toArray("be",Se))},BasePoint.prototype.encode=function(ge,Se){return utils$p.encode(this._encode(Se),ge)},BasePoint.prototype.precompute=function(ge){if(this.precomputed)return this;var Se={doubles:null,naf:null,beta:null};return Se.naf=this._getNAFPoints(8),Se.doubles=this._getDoubles(4,ge),Se.beta=this._getBeta(),this.precomputed=Se,this},BasePoint.prototype._hasDoubles=function(ge){if(!this.precomputed)return!1;var Se=this.precomputed.doubles;return Se?Se.points.length>=Math.ceil((ge.bitLength()+1)/Se.step):!1},BasePoint.prototype._getDoubles=function(ge,Se){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Ne=[this],Ze=this,Je=0;Je<Se;Je+=ge){for(var Xe=0;Xe<ge;Xe++)Ze=Ze.dbl();Ne.push(Ze)}return{step:ge,points:Ne}},BasePoint.prototype._getNAFPoints=function(ge){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Se=[this],Ne=(1<<ge)-1,Ze=Ne===1?null:this.dbl(),Je=1;Je<Ne;Je++)Se[Je]=Se[Je-1].add(Ze);return{wnd:ge,points:Se}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(ge){for(var Se=this,Ne=0;Ne<ge;Ne++)Se=Se.dbl();return Se};var utils$o=utils$r,BN$8=bnExports$2,inherits$4=inherits_browserExports,Base$2=base$1,assert$c=utils$o.assert;function ShortCurve(pe){Base$2.call(this,"short",pe),this.a=new BN$8(pe.a,16).toRed(this.red),this.b=new BN$8(pe.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(pe),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(ge){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Se,Ne;if(ge.beta)Se=new BN$8(ge.beta,16).toRed(this.red);else{var Ze=this._getEndoRoots(this.p);Se=Ze[0].cmp(Ze[1])<0?Ze[0]:Ze[1],Se=Se.toRed(this.red)}if(ge.lambda)Ne=new BN$8(ge.lambda,16);else{var Je=this._getEndoRoots(this.n);this.g.mul(Je[0]).x.cmp(this.g.x.redMul(Se))===0?Ne=Je[0]:(Ne=Je[1],assert$c(this.g.mul(Ne).x.cmp(this.g.x.redMul(Se))===0))}var Xe;return ge.basis?Xe=ge.basis.map(function(vt){return{a:new BN$8(vt.a,16),b:new BN$8(vt.b,16)}}):Xe=this._getEndoBasis(Ne),{beta:Se,lambda:Ne,basis:Xe}}},ShortCurve.prototype._getEndoRoots=function(ge){var Se=ge===this.p?this.red:BN$8.mont(ge),Ne=new BN$8(2).toRed(Se).redInvm(),Ze=Ne.redNeg(),Je=new BN$8(3).toRed(Se).redNeg().redSqrt().redMul(Ne),Xe=Ze.redAdd(Je).fromRed(),vt=Ze.redSub(Je).fromRed();return[Xe,vt]},ShortCurve.prototype._getEndoBasis=function(ge){for(var Se=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Ne=ge,Ze=this.n.clone(),Je=new BN$8(1),Xe=new BN$8(0),vt=new BN$8(0),gt=new BN$8(1),kt,mt,xt,fr,ar,gr,wr,Er=0,_r,Sr;Ne.cmpn(0)!==0;){var Or=Ze.div(Ne);_r=Ze.sub(Or.mul(Ne)),Sr=vt.sub(Or.mul(Je));var Pr=gt.sub(Or.mul(Xe));if(!xt&&_r.cmp(Se)<0)kt=wr.neg(),mt=Je,xt=_r.neg(),fr=Sr;else if(xt&&++Er===2)break;wr=_r,Ze=Ne,Ne=_r,vt=Je,Je=Sr,gt=Xe,Xe=Pr}ar=_r.neg(),gr=Sr;var kr=xt.sqr().add(fr.sqr()),Ur=ar.sqr().add(gr.sqr());return Ur.cmp(kr)>=0&&(ar=kt,gr=mt),xt.negative&&(xt=xt.neg(),fr=fr.neg()),ar.negative&&(ar=ar.neg(),gr=gr.neg()),[{a:xt,b:fr},{a:ar,b:gr}]},ShortCurve.prototype._endoSplit=function(ge){var Se=this.endo.basis,Ne=Se[0],Ze=Se[1],Je=Ze.b.mul(ge).divRound(this.n),Xe=Ne.b.neg().mul(ge).divRound(this.n),vt=Je.mul(Ne.a),gt=Xe.mul(Ze.a),kt=Je.mul(Ne.b),mt=Xe.mul(Ze.b),xt=ge.sub(vt).sub(gt),fr=kt.add(mt).neg();return{k1:xt,k2:fr}},ShortCurve.prototype.pointFromX=function(ge,Se){ge=new BN$8(ge,16),ge.red||(ge=ge.toRed(this.red));var Ne=ge.redSqr().redMul(ge).redIAdd(ge.redMul(this.a)).redIAdd(this.b),Ze=Ne.redSqrt();if(Ze.redSqr().redSub(Ne).cmp(this.zero)!==0)throw new Error("invalid point");var Je=Ze.fromRed().isOdd();return(Se&&!Je||!Se&&Je)&&(Ze=Ze.redNeg()),this.point(ge,Ze)},ShortCurve.prototype.validate=function(ge){if(ge.inf)return!0;var Se=ge.x,Ne=ge.y,Ze=this.a.redMul(Se),Je=Se.redSqr().redMul(Se).redIAdd(Ze).redIAdd(this.b);return Ne.redSqr().redISub(Je).cmpn(0)===0},ShortCurve.prototype._endoWnafMulAdd=function(ge,Se,Ne){for(var Ze=this._endoWnafT1,Je=this._endoWnafT2,Xe=0;Xe<ge.length;Xe++){var vt=this._endoSplit(Se[Xe]),gt=ge[Xe],kt=gt._getBeta();vt.k1.negative&&(vt.k1.ineg(),gt=gt.neg(!0)),vt.k2.negative&&(vt.k2.ineg(),kt=kt.neg(!0)),Ze[Xe*2]=gt,Ze[Xe*2+1]=kt,Je[Xe*2]=vt.k1,Je[Xe*2+1]=vt.k2}for(var mt=this._wnafMulAdd(1,Ze,Je,Xe*2,Ne),xt=0;xt<Xe*2;xt++)Ze[xt]=null,Je[xt]=null;return mt};function Point$2(pe,ge,Se,Ne){Base$2.BasePoint.call(this,pe,"affine"),ge===null&&Se===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$8(ge,16),this.y=new BN$8(Se,16),Ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint),ShortCurve.prototype.point=function(ge,Se,Ne){return new Point$2(this,ge,Se,Ne)},ShortCurve.prototype.pointFromJSON=function(ge,Se){return Point$2.fromJSON(this,ge,Se)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var ge=this.precomputed;if(ge&&ge.beta)return ge.beta;var Se=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ge){var Ne=this.curve,Ze=function(Je){return Ne.point(Je.x.redMul(Ne.endo.beta),Je.y)};ge.beta=Se,Se.precomputed={beta:null,naf:ge.naf&&{wnd:ge.naf.wnd,points:ge.naf.points.map(Ze)},doubles:ge.doubles&&{step:ge.doubles.step,points:ge.doubles.points.map(Ze)}}}return Se}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(ge,Se,Ne){typeof Se=="string"&&(Se=JSON.parse(Se));var Ze=ge.point(Se[0],Se[1],Ne);if(!Se[2])return Ze;function Je(vt){return ge.point(vt[0],vt[1],Ne)}var Xe=Se[2];return Ze.precomputed={beta:null,doubles:Xe.doubles&&{step:Xe.doubles.step,points:[Ze].concat(Xe.doubles.points.map(Je))},naf:Xe.naf&&{wnd:Xe.naf.wnd,points:[Ze].concat(Xe.naf.points.map(Je))}},Ze},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(ge){if(this.inf)return ge;if(ge.inf)return this;if(this.eq(ge))return this.dbl();if(this.neg().eq(ge))return this.curve.point(null,null);if(this.x.cmp(ge.x)===0)return this.curve.point(null,null);var Se=this.y.redSub(ge.y);Se.cmpn(0)!==0&&(Se=Se.redMul(this.x.redSub(ge.x).redInvm()));var Ne=Se.redSqr().redISub(this.x).redISub(ge.x),Ze=Se.redMul(this.x.redSub(Ne)).redISub(this.y);return this.curve.point(Ne,Ze)},Point$2.prototype.dbl=function(){if(this.inf)return this;var ge=this.y.redAdd(this.y);if(ge.cmpn(0)===0)return this.curve.point(null,null);var Se=this.curve.a,Ne=this.x.redSqr(),Ze=ge.redInvm(),Je=Ne.redAdd(Ne).redIAdd(Ne).redIAdd(Se).redMul(Ze),Xe=Je.redSqr().redISub(this.x.redAdd(this.x)),vt=Je.redMul(this.x.redSub(Xe)).redISub(this.y);return this.curve.point(Xe,vt)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(ge){return ge=new BN$8(ge,16),this.isInfinity()?this:this._hasDoubles(ge)?this.curve._fixedNafMul(this,ge):this.curve.endo?this.curve._endoWnafMulAdd([this],[ge]):this.curve._wnafMul(this,ge)},Point$2.prototype.mulAdd=function(ge,Se,Ne){var Ze=[this,Se],Je=[ge,Ne];return this.curve.endo?this.curve._endoWnafMulAdd(Ze,Je):this.curve._wnafMulAdd(1,Ze,Je,2)},Point$2.prototype.jmulAdd=function(ge,Se,Ne){var Ze=[this,Se],Je=[ge,Ne];return this.curve.endo?this.curve._endoWnafMulAdd(Ze,Je,!0):this.curve._wnafMulAdd(1,Ze,Je,2,!0)},Point$2.prototype.eq=function(ge){return this===ge||this.inf===ge.inf&&(this.inf||this.x.cmp(ge.x)===0&&this.y.cmp(ge.y)===0)},Point$2.prototype.neg=function(ge){if(this.inf)return this;var Se=this.curve.point(this.x,this.y.redNeg());if(ge&&this.precomputed){var Ne=this.precomputed,Ze=function(Je){return Je.neg()};Se.precomputed={naf:Ne.naf&&{wnd:Ne.naf.wnd,points:Ne.naf.points.map(Ze)},doubles:Ne.doubles&&{step:Ne.doubles.step,points:Ne.doubles.points.map(Ze)}}}return Se},Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ge=this.curve.jpoint(this.x,this.y,this.curve.one);return ge};function JPoint(pe,ge,Se,Ne){Base$2.BasePoint.call(this,pe,"jacobian"),ge===null&&Se===null&&Ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$8(0)):(this.x=new BN$8(ge,16),this.y=new BN$8(Se,16),this.z=new BN$8(Ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint),ShortCurve.prototype.jpoint=function(ge,Se,Ne){return new JPoint(this,ge,Se,Ne)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ge=this.z.redInvm(),Se=ge.redSqr(),Ne=this.x.redMul(Se),Ze=this.y.redMul(Se).redMul(ge);return this.curve.point(Ne,Ze)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(ge){if(this.isInfinity())return ge;if(ge.isInfinity())return this;var Se=ge.z.redSqr(),Ne=this.z.redSqr(),Ze=this.x.redMul(Se),Je=ge.x.redMul(Ne),Xe=this.y.redMul(Se.redMul(ge.z)),vt=ge.y.redMul(Ne.redMul(this.z)),gt=Ze.redSub(Je),kt=Xe.redSub(vt);if(gt.cmpn(0)===0)return kt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var mt=gt.redSqr(),xt=mt.redMul(gt),fr=Ze.redMul(mt),ar=kt.redSqr().redIAdd(xt).redISub(fr).redISub(fr),gr=kt.redMul(fr.redISub(ar)).redISub(Xe.redMul(xt)),wr=this.z.redMul(ge.z).redMul(gt);return this.curve.jpoint(ar,gr,wr)},JPoint.prototype.mixedAdd=function(ge){if(this.isInfinity())return ge.toJ();if(ge.isInfinity())return this;var Se=this.z.redSqr(),Ne=this.x,Ze=ge.x.redMul(Se),Je=this.y,Xe=ge.y.redMul(Se).redMul(this.z),vt=Ne.redSub(Ze),gt=Je.redSub(Xe);if(vt.cmpn(0)===0)return gt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var kt=vt.redSqr(),mt=kt.redMul(vt),xt=Ne.redMul(kt),fr=gt.redSqr().redIAdd(mt).redISub(xt).redISub(xt),ar=gt.redMul(xt.redISub(fr)).redISub(Je.redMul(mt)),gr=this.z.redMul(vt);return this.curve.jpoint(fr,ar,gr)},JPoint.prototype.dblp=function(ge){if(ge===0)return this;if(this.isInfinity())return this;if(!ge)return this.dbl();var Se;if(this.curve.zeroA||this.curve.threeA){var Ne=this;for(Se=0;Se<ge;Se++)Ne=Ne.dbl();return Ne}var Ze=this.curve.a,Je=this.curve.tinv,Xe=this.x,vt=this.y,gt=this.z,kt=gt.redSqr().redSqr(),mt=vt.redAdd(vt);for(Se=0;Se<ge;Se++){var xt=Xe.redSqr(),fr=mt.redSqr(),ar=fr.redSqr(),gr=xt.redAdd(xt).redIAdd(xt).redIAdd(Ze.redMul(kt)),wr=Xe.redMul(fr),Er=gr.redSqr().redISub(wr.redAdd(wr)),_r=wr.redISub(Er),Sr=gr.redMul(_r);Sr=Sr.redIAdd(Sr).redISub(ar);var Or=mt.redMul(gt);Se+1<ge&&(kt=kt.redMul(ar)),Xe=Er,gt=Or,mt=Sr}return this.curve.jpoint(Xe,mt.redMul(Je),gt)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var ge,Se,Ne;if(this.zOne){var Ze=this.x.redSqr(),Je=this.y.redSqr(),Xe=Je.redSqr(),vt=this.x.redAdd(Je).redSqr().redISub(Ze).redISub(Xe);vt=vt.redIAdd(vt);var gt=Ze.redAdd(Ze).redIAdd(Ze),kt=gt.redSqr().redISub(vt).redISub(vt),mt=Xe.redIAdd(Xe);mt=mt.redIAdd(mt),mt=mt.redIAdd(mt),ge=kt,Se=gt.redMul(vt.redISub(kt)).redISub(mt),Ne=this.y.redAdd(this.y)}else{var xt=this.x.redSqr(),fr=this.y.redSqr(),ar=fr.redSqr(),gr=this.x.redAdd(fr).redSqr().redISub(xt).redISub(ar);gr=gr.redIAdd(gr);var wr=xt.redAdd(xt).redIAdd(xt),Er=wr.redSqr(),_r=ar.redIAdd(ar);_r=_r.redIAdd(_r),_r=_r.redIAdd(_r),ge=Er.redISub(gr).redISub(gr),Se=wr.redMul(gr.redISub(ge)).redISub(_r),Ne=this.y.redMul(this.z),Ne=Ne.redIAdd(Ne)}return this.curve.jpoint(ge,Se,Ne)},JPoint.prototype._threeDbl=function(){var ge,Se,Ne;if(this.zOne){var Ze=this.x.redSqr(),Je=this.y.redSqr(),Xe=Je.redSqr(),vt=this.x.redAdd(Je).redSqr().redISub(Ze).redISub(Xe);vt=vt.redIAdd(vt);var gt=Ze.redAdd(Ze).redIAdd(Ze).redIAdd(this.curve.a),kt=gt.redSqr().redISub(vt).redISub(vt);ge=kt;var mt=Xe.redIAdd(Xe);mt=mt.redIAdd(mt),mt=mt.redIAdd(mt),Se=gt.redMul(vt.redISub(kt)).redISub(mt),Ne=this.y.redAdd(this.y)}else{var xt=this.z.redSqr(),fr=this.y.redSqr(),ar=this.x.redMul(fr),gr=this.x.redSub(xt).redMul(this.x.redAdd(xt));gr=gr.redAdd(gr).redIAdd(gr);var wr=ar.redIAdd(ar);wr=wr.redIAdd(wr);var Er=wr.redAdd(wr);ge=gr.redSqr().redISub(Er),Ne=this.y.redAdd(this.z).redSqr().redISub(fr).redISub(xt);var _r=fr.redSqr();_r=_r.redIAdd(_r),_r=_r.redIAdd(_r),_r=_r.redIAdd(_r),Se=gr.redMul(wr.redISub(ge)).redISub(_r)}return this.curve.jpoint(ge,Se,Ne)},JPoint.prototype._dbl=function(){var ge=this.curve.a,Se=this.x,Ne=this.y,Ze=this.z,Je=Ze.redSqr().redSqr(),Xe=Se.redSqr(),vt=Ne.redSqr(),gt=Xe.redAdd(Xe).redIAdd(Xe).redIAdd(ge.redMul(Je)),kt=Se.redAdd(Se);kt=kt.redIAdd(kt);var mt=kt.redMul(vt),xt=gt.redSqr().redISub(mt.redAdd(mt)),fr=mt.redISub(xt),ar=vt.redSqr();ar=ar.redIAdd(ar),ar=ar.redIAdd(ar),ar=ar.redIAdd(ar);var gr=gt.redMul(fr).redISub(ar),wr=Ne.redAdd(Ne).redMul(Ze);return this.curve.jpoint(xt,gr,wr)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ge=this.x.redSqr(),Se=this.y.redSqr(),Ne=this.z.redSqr(),Ze=Se.redSqr(),Je=ge.redAdd(ge).redIAdd(ge),Xe=Je.redSqr(),vt=this.x.redAdd(Se).redSqr().redISub(ge).redISub(Ze);vt=vt.redIAdd(vt),vt=vt.redAdd(vt).redIAdd(vt),vt=vt.redISub(Xe);var gt=vt.redSqr(),kt=Ze.redIAdd(Ze);kt=kt.redIAdd(kt),kt=kt.redIAdd(kt),kt=kt.redIAdd(kt);var mt=Je.redIAdd(vt).redSqr().redISub(Xe).redISub(gt).redISub(kt),xt=Se.redMul(mt);xt=xt.redIAdd(xt),xt=xt.redIAdd(xt);var fr=this.x.redMul(gt).redISub(xt);fr=fr.redIAdd(fr),fr=fr.redIAdd(fr);var ar=this.y.redMul(mt.redMul(kt.redISub(mt)).redISub(vt.redMul(gt)));ar=ar.redIAdd(ar),ar=ar.redIAdd(ar),ar=ar.redIAdd(ar);var gr=this.z.redAdd(vt).redSqr().redISub(Ne).redISub(gt);return this.curve.jpoint(fr,ar,gr)},JPoint.prototype.mul=function(ge,Se){return ge=new BN$8(ge,Se),this.curve._wnafMul(this,ge)},JPoint.prototype.eq=function(ge){if(ge.type==="affine")return this.eq(ge.toJ());if(this===ge)return!0;var Se=this.z.redSqr(),Ne=ge.z.redSqr();if(this.x.redMul(Ne).redISub(ge.x.redMul(Se)).cmpn(0)!==0)return!1;var Ze=Se.redMul(this.z),Je=Ne.redMul(ge.z);return this.y.redMul(Je).redISub(ge.y.redMul(Ze)).cmpn(0)===0},JPoint.prototype.eqXToP=function(ge){var Se=this.z.redSqr(),Ne=ge.toRed(this.curve.red).redMul(Se);if(this.x.cmp(Ne)===0)return!0;for(var Ze=ge.clone(),Je=this.curve.redN.redMul(Se);;){if(Ze.iadd(this.curve.n),Ze.cmp(this.curve.p)>=0)return!1;if(Ne.redIAdd(Je),this.x.cmp(Ne)===0)return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$7=bnExports$2,inherits$3=inherits_browserExports,Base$1=base$1,utils$n=utils$r;function MontCurve(pe){Base$1.call(this,"mont",pe),this.a=new BN$7(pe.a,16).toRed(this.red),this.b=new BN$7(pe.b,16).toRed(this.red),this.i4=new BN$7(4).toRed(this.red).redInvm(),this.two=new BN$7(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(ge){var Se=ge.normalize().x,Ne=Se.redSqr(),Ze=Ne.redMul(Se).redAdd(Ne.redMul(this.a)).redAdd(Se),Je=Ze.redSqrt();return Je.redSqr().cmp(Ze)===0};function Point$1(pe,ge,Se){Base$1.BasePoint.call(this,pe,"projective"),ge===null&&Se===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$7(ge,16),this.z=new BN$7(Se,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint),MontCurve.prototype.decodePoint=function(ge,Se){return this.point(utils$n.toArray(ge,Se),1)},MontCurve.prototype.point=function(ge,Se){return new Point$1(this,ge,Se)},MontCurve.prototype.pointFromJSON=function(ge){return Point$1.fromJSON(this,ge)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(ge,Se){return new Point$1(ge,Se[0],Se[1]||ge.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Point$1.prototype.dbl=function(){var ge=this.x.redAdd(this.z),Se=ge.redSqr(),Ne=this.x.redSub(this.z),Ze=Ne.redSqr(),Je=Se.redSub(Ze),Xe=Se.redMul(Ze),vt=Je.redMul(Ze.redAdd(this.curve.a24.redMul(Je)));return this.curve.point(Xe,vt)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(ge,Se){var Ne=this.x.redAdd(this.z),Ze=this.x.redSub(this.z),Je=ge.x.redAdd(ge.z),Xe=ge.x.redSub(ge.z),vt=Xe.redMul(Ne),gt=Je.redMul(Ze),kt=Se.z.redMul(vt.redAdd(gt).redSqr()),mt=Se.x.redMul(vt.redISub(gt).redSqr());return this.curve.point(kt,mt)},Point$1.prototype.mul=function(ge){for(var Se=ge.clone(),Ne=this,Ze=this.curve.point(null,null),Je=this,Xe=[];Se.cmpn(0)!==0;Se.iushrn(1))Xe.push(Se.andln(1));for(var vt=Xe.length-1;vt>=0;vt--)Xe[vt]===0?(Ne=Ne.diffAdd(Ze,Je),Ze=Ze.dbl()):(Ze=Ne.diffAdd(Ze,Je),Ne=Ne.dbl());return Ze},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(ge){return this.getX().cmp(ge.getX())===0},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$m=utils$r,BN$6=bnExports$2,inherits$2=inherits_browserExports,Base=base$1,assert$b=utils$m.assert;function EdwardsCurve(pe){this.twisted=(pe.a|0)!==1,this.mOneA=this.twisted&&(pe.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",pe),this.a=new BN$6(pe.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$6(pe.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$6(pe.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(pe.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(ge){return this.mOneA?ge.redNeg():this.a.redMul(ge)},EdwardsCurve.prototype._mulC=function(ge){return this.oneC?ge:this.c.redMul(ge)},EdwardsCurve.prototype.jpoint=function(ge,Se,Ne,Ze){return this.point(ge,Se,Ne,Ze)},EdwardsCurve.prototype.pointFromX=function(ge,Se){ge=new BN$6(ge,16),ge.red||(ge=ge.toRed(this.red));var Ne=ge.redSqr(),Ze=this.c2.redSub(this.a.redMul(Ne)),Je=this.one.redSub(this.c2.redMul(this.d).redMul(Ne)),Xe=Ze.redMul(Je.redInvm()),vt=Xe.redSqrt();if(vt.redSqr().redSub(Xe).cmp(this.zero)!==0)throw new Error("invalid point");var gt=vt.fromRed().isOdd();return(Se&&!gt||!Se&&gt)&&(vt=vt.redNeg()),this.point(ge,vt)},EdwardsCurve.prototype.pointFromY=function(ge,Se){ge=new BN$6(ge,16),ge.red||(ge=ge.toRed(this.red));var Ne=ge.redSqr(),Ze=Ne.redSub(this.c2),Je=Ne.redMul(this.d).redMul(this.c2).redSub(this.a),Xe=Ze.redMul(Je.redInvm());if(Xe.cmp(this.zero)===0){if(Se)throw new Error("invalid point");return this.point(this.zero,ge)}var vt=Xe.redSqrt();if(vt.redSqr().redSub(Xe).cmp(this.zero)!==0)throw new Error("invalid point");return vt.fromRed().isOdd()!==Se&&(vt=vt.redNeg()),this.point(vt,ge)},EdwardsCurve.prototype.validate=function(ge){if(ge.isInfinity())return!0;ge.normalize();var Se=ge.x.redSqr(),Ne=ge.y.redSqr(),Ze=Se.redMul(this.a).redAdd(Ne),Je=this.c2.redMul(this.one.redAdd(this.d.redMul(Se).redMul(Ne)));return Ze.cmp(Je)===0};function Point(pe,ge,Se,Ne,Ze){Base.BasePoint.call(this,pe,"projective"),ge===null&&Se===null&&Ne===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$6(ge,16),this.y=new BN$6(Se,16),this.z=Ne?new BN$6(Ne,16):this.curve.one,this.t=Ze&&new BN$6(Ze,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(ge){return Point.fromJSON(this,ge)},EdwardsCurve.prototype.point=function(ge,Se,Ne,Ze){return new Point(this,ge,Se,Ne,Ze)},Point.fromJSON=function(ge,Se){return new Point(ge,Se[0],Se[1],Se[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Point.prototype._extDbl=function(){var ge=this.x.redSqr(),Se=this.y.redSqr(),Ne=this.z.redSqr();Ne=Ne.redIAdd(Ne);var Ze=this.curve._mulA(ge),Je=this.x.redAdd(this.y).redSqr().redISub(ge).redISub(Se),Xe=Ze.redAdd(Se),vt=Xe.redSub(Ne),gt=Ze.redSub(Se),kt=Je.redMul(vt),mt=Xe.redMul(gt),xt=Je.redMul(gt),fr=vt.redMul(Xe);return this.curve.point(kt,mt,fr,xt)},Point.prototype._projDbl=function(){var ge=this.x.redAdd(this.y).redSqr(),Se=this.x.redSqr(),Ne=this.y.redSqr(),Ze,Je,Xe,vt,gt,kt;if(this.curve.twisted){vt=this.curve._mulA(Se);var mt=vt.redAdd(Ne);this.zOne?(Ze=ge.redSub(Se).redSub(Ne).redMul(mt.redSub(this.curve.two)),Je=mt.redMul(vt.redSub(Ne)),Xe=mt.redSqr().redSub(mt).redSub(mt)):(gt=this.z.redSqr(),kt=mt.redSub(gt).redISub(gt),Ze=ge.redSub(Se).redISub(Ne).redMul(kt),Je=mt.redMul(vt.redSub(Ne)),Xe=mt.redMul(kt))}else vt=Se.redAdd(Ne),gt=this.curve._mulC(this.z).redSqr(),kt=vt.redSub(gt).redSub(gt),Ze=this.curve._mulC(ge.redISub(vt)).redMul(kt),Je=this.curve._mulC(vt).redMul(Se.redISub(Ne)),Xe=vt.redMul(kt);return this.curve.point(Ze,Je,Xe)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(ge){var Se=this.y.redSub(this.x).redMul(ge.y.redSub(ge.x)),Ne=this.y.redAdd(this.x).redMul(ge.y.redAdd(ge.x)),Ze=this.t.redMul(this.curve.dd).redMul(ge.t),Je=this.z.redMul(ge.z.redAdd(ge.z)),Xe=Ne.redSub(Se),vt=Je.redSub(Ze),gt=Je.redAdd(Ze),kt=Ne.redAdd(Se),mt=Xe.redMul(vt),xt=gt.redMul(kt),fr=Xe.redMul(kt),ar=vt.redMul(gt);return this.curve.point(mt,xt,ar,fr)},Point.prototype._projAdd=function(ge){var Se=this.z.redMul(ge.z),Ne=Se.redSqr(),Ze=this.x.redMul(ge.x),Je=this.y.redMul(ge.y),Xe=this.curve.d.redMul(Ze).redMul(Je),vt=Ne.redSub(Xe),gt=Ne.redAdd(Xe),kt=this.x.redAdd(this.y).redMul(ge.x.redAdd(ge.y)).redISub(Ze).redISub(Je),mt=Se.redMul(vt).redMul(kt),xt,fr;return this.curve.twisted?(xt=Se.redMul(gt).redMul(Je.redSub(this.curve._mulA(Ze))),fr=vt.redMul(gt)):(xt=Se.redMul(gt).redMul(Je.redSub(Ze)),fr=this.curve._mulC(vt).redMul(gt)),this.curve.point(mt,xt,fr)},Point.prototype.add=function(ge){return this.isInfinity()?ge:ge.isInfinity()?this:this.curve.extended?this._extAdd(ge):this._projAdd(ge)},Point.prototype.mul=function(ge){return this._hasDoubles(ge)?this.curve._fixedNafMul(this,ge):this.curve._wnafMul(this,ge)},Point.prototype.mulAdd=function(ge,Se,Ne){return this.curve._wnafMulAdd(1,[this,Se],[ge,Ne],2,!1)},Point.prototype.jmulAdd=function(ge,Se,Ne){return this.curve._wnafMulAdd(1,[this,Se],[ge,Ne],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var ge=this.z.redInvm();return this.x=this.x.redMul(ge),this.y=this.y.redMul(ge),this.t&&(this.t=this.t.redMul(ge)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(ge){return this===ge||this.getX().cmp(ge.getX())===0&&this.getY().cmp(ge.getY())===0},Point.prototype.eqXToP=function(ge){var Se=ge.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Se)===0)return!0;for(var Ne=ge.clone(),Ze=this.curve.redN.redMul(this.z);;){if(Ne.iadd(this.curve.n),Ne.cmp(this.curve.p)>=0)return!1;if(Se.redIAdd(Ze),this.x.cmp(Se)===0)return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(pe){var ge=pe;ge.base=base$1,ge.short=short,ge.mont=mont,ge.edwards=edwards}(curve);var curves$1={},hash$2={},utils$l={},assert$a=minimalisticAssert,inherits$1=inherits_browserExports;utils$l.inherits=inherits$1;function isSurrogatePair(pe,ge){return(pe.charCodeAt(ge)&64512)!==55296||ge<0||ge+1>=pe.length?!1:(pe.charCodeAt(ge+1)&64512)===56320}function toArray(pe,ge){if(Array.isArray(pe))return pe.slice();if(!pe)return[];var Se=[];if(typeof pe=="string")if(ge){if(ge==="hex")for(pe=pe.replace(/[^a-z0-9]+/ig,""),pe.length%2!==0&&(pe="0"+pe),Ze=0;Ze<pe.length;Ze+=2)Se.push(parseInt(pe[Ze]+pe[Ze+1],16))}else for(var Ne=0,Ze=0;Ze<pe.length;Ze++){var Je=pe.charCodeAt(Ze);Je<128?Se[Ne++]=Je:Je<2048?(Se[Ne++]=Je>>6|192,Se[Ne++]=Je&63|128):isSurrogatePair(pe,Ze)?(Je=65536+((Je&1023)<<10)+(pe.charCodeAt(++Ze)&1023),Se[Ne++]=Je>>18|240,Se[Ne++]=Je>>12&63|128,Se[Ne++]=Je>>6&63|128,Se[Ne++]=Je&63|128):(Se[Ne++]=Je>>12|224,Se[Ne++]=Je>>6&63|128,Se[Ne++]=Je&63|128)}else for(Ze=0;Ze<pe.length;Ze++)Se[Ze]=pe[Ze]|0;return Se}utils$l.toArray=toArray;function toHex(pe){for(var ge="",Se=0;Se<pe.length;Se++)ge+=zero2(pe[Se].toString(16));return ge}utils$l.toHex=toHex;function htonl(pe){var ge=pe>>>24|pe>>>8&65280|pe<<8&16711680|(pe&255)<<24;return ge>>>0}utils$l.htonl=htonl;function toHex32(pe,ge){for(var Se="",Ne=0;Ne<pe.length;Ne++){var Ze=pe[Ne];ge==="little"&&(Ze=htonl(Ze)),Se+=zero8(Ze.toString(16))}return Se}utils$l.toHex32=toHex32;function zero2(pe){return pe.length===1?"0"+pe:pe}utils$l.zero2=zero2;function zero8(pe){return pe.length===7?"0"+pe:pe.length===6?"00"+pe:pe.length===5?"000"+pe:pe.length===4?"0000"+pe:pe.length===3?"00000"+pe:pe.length===2?"000000"+pe:pe.length===1?"0000000"+pe:pe}utils$l.zero8=zero8;function join32(pe,ge,Se,Ne){var Ze=Se-ge;assert$a(Ze%4===0);for(var Je=new Array(Ze/4),Xe=0,vt=ge;Xe<Je.length;Xe++,vt+=4){var gt;Ne==="big"?gt=pe[vt]<<24|pe[vt+1]<<16|pe[vt+2]<<8|pe[vt+3]:gt=pe[vt+3]<<24|pe[vt+2]<<16|pe[vt+1]<<8|pe[vt],Je[Xe]=gt>>>0}return Je}utils$l.join32=join32;function split32(pe,ge){for(var Se=new Array(pe.length*4),Ne=0,Ze=0;Ne<pe.length;Ne++,Ze+=4){var Je=pe[Ne];ge==="big"?(Se[Ze]=Je>>>24,Se[Ze+1]=Je>>>16&255,Se[Ze+2]=Je>>>8&255,Se[Ze+3]=Je&255):(Se[Ze+3]=Je>>>24,Se[Ze+2]=Je>>>16&255,Se[Ze+1]=Je>>>8&255,Se[Ze]=Je&255)}return Se}utils$l.split32=split32;function rotr32$1(pe,ge){return pe>>>ge|pe<<32-ge}utils$l.rotr32=rotr32$1;function rotl32$2(pe,ge){return pe<<ge|pe>>>32-ge}utils$l.rotl32=rotl32$2;function sum32$3(pe,ge){return pe+ge>>>0}utils$l.sum32=sum32$3;function sum32_3$1(pe,ge,Se){return pe+ge+Se>>>0}utils$l.sum32_3=sum32_3$1;function sum32_4$2(pe,ge,Se,Ne){return pe+ge+Se+Ne>>>0}utils$l.sum32_4=sum32_4$2;function sum32_5$2(pe,ge,Se,Ne,Ze){return pe+ge+Se+Ne+Ze>>>0}utils$l.sum32_5=sum32_5$2;function sum64$1(pe,ge,Se,Ne){var Ze=pe[ge],Je=pe[ge+1],Xe=Ne+Je>>>0,vt=(Xe<Ne?1:0)+Se+Ze;pe[ge]=vt>>>0,pe[ge+1]=Xe}utils$l.sum64=sum64$1;function sum64_hi$1(pe,ge,Se,Ne){var Ze=ge+Ne>>>0,Je=(Ze<ge?1:0)+pe+Se;return Je>>>0}utils$l.sum64_hi=sum64_hi$1;function sum64_lo$1(pe,ge,Se,Ne){var Ze=ge+Ne;return Ze>>>0}utils$l.sum64_lo=sum64_lo$1;function sum64_4_hi$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){var gt=0,kt=ge;kt=kt+Ne>>>0,gt+=kt<ge?1:0,kt=kt+Je>>>0,gt+=kt<Je?1:0,kt=kt+vt>>>0,gt+=kt<vt?1:0;var mt=pe+Se+Ze+Xe+gt;return mt>>>0}utils$l.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(pe,ge,Se,Ne,Ze,Je,Xe,vt){var gt=ge+Ne+Je+vt;return gt>>>0}utils$l.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(pe,ge,Se,Ne,Ze,Je,Xe,vt,gt,kt){var mt=0,xt=ge;xt=xt+Ne>>>0,mt+=xt<ge?1:0,xt=xt+Je>>>0,mt+=xt<Je?1:0,xt=xt+vt>>>0,mt+=xt<vt?1:0,xt=xt+kt>>>0,mt+=xt<kt?1:0;var fr=pe+Se+Ze+Xe+gt+mt;return fr>>>0}utils$l.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(pe,ge,Se,Ne,Ze,Je,Xe,vt,gt,kt){var mt=ge+Ne+Je+vt+kt;return mt>>>0}utils$l.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(pe,ge,Se){var Ne=ge<<32-Se|pe>>>Se;return Ne>>>0}utils$l.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(pe,ge,Se){var Ne=pe<<32-Se|ge>>>Se;return Ne>>>0}utils$l.rotr64_lo=rotr64_lo$1;function shr64_hi$1(pe,ge,Se){return pe>>>Se}utils$l.shr64_hi=shr64_hi$1;function shr64_lo$1(pe,ge,Se){var Ne=pe<<32-Se|ge>>>Se;return Ne>>>0}utils$l.shr64_lo=shr64_lo$1;var common$5={},utils$k=utils$l,assert$9=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(ge,Se){if(ge=utils$k.toArray(ge,Se),this.pending?this.pending=this.pending.concat(ge):this.pending=ge,this.pendingTotal+=ge.length,this.pending.length>=this._delta8){ge=this.pending;var Ne=ge.length%this._delta8;this.pending=ge.slice(ge.length-Ne,ge.length),this.pending.length===0&&(this.pending=null),ge=utils$k.join32(ge,0,ge.length-Ne,this.endian);for(var Ze=0;Ze<ge.length;Ze+=this._delta32)this._update(ge,Ze,Ze+this._delta32)}return this},BlockHash$4.prototype.digest=function(ge){return this.update(this._pad()),assert$9(this.pending===null),this._digest(ge)},BlockHash$4.prototype._pad=function(){var ge=this.pendingTotal,Se=this._delta8,Ne=Se-(ge+this.padLength)%Se,Ze=new Array(Ne+this.padLength);Ze[0]=128;for(var Je=1;Je<Ne;Je++)Ze[Je]=0;if(ge<<=3,this.endian==="big"){for(var Xe=8;Xe<this.padLength;Xe++)Ze[Je++]=0;Ze[Je++]=0,Ze[Je++]=0,Ze[Je++]=0,Ze[Je++]=0,Ze[Je++]=ge>>>24&255,Ze[Je++]=ge>>>16&255,Ze[Je++]=ge>>>8&255,Ze[Je++]=ge&255}else for(Ze[Je++]=ge&255,Ze[Je++]=ge>>>8&255,Ze[Je++]=ge>>>16&255,Ze[Je++]=ge>>>24&255,Ze[Je++]=0,Ze[Je++]=0,Ze[Je++]=0,Ze[Je++]=0,Xe=8;Xe<this.padLength;Xe++)Ze[Je++]=0;return Ze};var sha={},common$4={},utils$j=utils$l,rotr32=utils$j.rotr32;function ft_1$1(pe,ge,Se,Ne){if(pe===0)return ch32$1(ge,Se,Ne);if(pe===1||pe===3)return p32(ge,Se,Ne);if(pe===2)return maj32$1(ge,Se,Ne)}common$4.ft_1=ft_1$1;function ch32$1(pe,ge,Se){return pe&ge^~pe&Se}common$4.ch32=ch32$1;function maj32$1(pe,ge,Se){return pe&ge^pe&Se^ge&Se}common$4.maj32=maj32$1;function p32(pe,ge,Se){return pe^ge^Se}common$4.p32=p32;function s0_256$1(pe){return rotr32(pe,2)^rotr32(pe,13)^rotr32(pe,22)}common$4.s0_256=s0_256$1;function s1_256$1(pe){return rotr32(pe,6)^rotr32(pe,11)^rotr32(pe,25)}common$4.s1_256=s1_256$1;function g0_256$1(pe){return rotr32(pe,7)^rotr32(pe,18)^pe>>>3}common$4.g0_256=g0_256$1;function g1_256$1(pe){return rotr32(pe,17)^rotr32(pe,19)^pe>>>10}common$4.g1_256=g1_256$1;var utils$i=utils$l,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$i.rotl32,sum32$2=utils$i.sum32,sum32_5$1=utils$i.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$i.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(ge,Se){for(var Ne=this.W,Ze=0;Ze<16;Ze++)Ne[Ze]=ge[Se+Ze];for(;Ze<Ne.length;Ze++)Ne[Ze]=rotl32$1(Ne[Ze-3]^Ne[Ze-8]^Ne[Ze-14]^Ne[Ze-16],1);var Je=this.h[0],Xe=this.h[1],vt=this.h[2],gt=this.h[3],kt=this.h[4];for(Ze=0;Ze<Ne.length;Ze++){var mt=~~(Ze/20),xt=sum32_5$1(rotl32$1(Je,5),ft_1(mt,Xe,vt,gt),kt,Ne[Ze],sha1_K[mt]);kt=gt,gt=vt,vt=rotl32$1(Xe,30),Xe=Je,Je=xt}this.h[0]=sum32$2(this.h[0],Je),this.h[1]=sum32$2(this.h[1],Xe),this.h[2]=sum32$2(this.h[2],vt),this.h[3]=sum32$2(this.h[3],gt),this.h[4]=sum32$2(this.h[4],kt)},SHA1.prototype._digest=function(ge){return ge==="hex"?utils$i.toHex32(this.h,"big"):utils$i.split32(this.h,"big")};var utils$h=utils$l,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert,sum32$1=utils$h.sum32,sum32_4$1=utils$h.sum32_4,sum32_5=utils$h.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$h.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(ge,Se){for(var Ne=this.W,Ze=0;Ze<16;Ze++)Ne[Ze]=ge[Se+Ze];for(;Ze<Ne.length;Ze++)Ne[Ze]=sum32_4$1(g1_256(Ne[Ze-2]),Ne[Ze-7],g0_256(Ne[Ze-15]),Ne[Ze-16]);var Je=this.h[0],Xe=this.h[1],vt=this.h[2],gt=this.h[3],kt=this.h[4],mt=this.h[5],xt=this.h[6],fr=this.h[7];for(assert$8(this.k.length===Ne.length),Ze=0;Ze<Ne.length;Ze++){var ar=sum32_5(fr,s1_256(kt),ch32(kt,mt,xt),this.k[Ze],Ne[Ze]),gr=sum32$1(s0_256(Je),maj32(Je,Xe,vt));fr=xt,xt=mt,mt=kt,kt=sum32$1(gt,ar),gt=vt,vt=Xe,Xe=Je,Je=sum32$1(ar,gr)}this.h[0]=sum32$1(this.h[0],Je),this.h[1]=sum32$1(this.h[1],Xe),this.h[2]=sum32$1(this.h[2],vt),this.h[3]=sum32$1(this.h[3],gt),this.h[4]=sum32$1(this.h[4],kt),this.h[5]=sum32$1(this.h[5],mt),this.h[6]=sum32$1(this.h[6],xt),this.h[7]=sum32$1(this.h[7],fr)},SHA256$1.prototype._digest=function(ge){return ge==="hex"?utils$h.toHex32(this.h,"big"):utils$h.split32(this.h,"big")};var utils$g=utils$l,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$g.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(ge){return ge==="hex"?utils$g.toHex32(this.h.slice(0,7),"big"):utils$g.split32(this.h.slice(0,7),"big")};var utils$f=utils$l,common$1=common$5,assert$7=minimalisticAssert,rotr64_hi=utils$f.rotr64_hi,rotr64_lo=utils$f.rotr64_lo,shr64_hi=utils$f.shr64_hi,shr64_lo=utils$f.shr64_lo,sum64=utils$f.sum64,sum64_hi=utils$f.sum64_hi,sum64_lo=utils$f.sum64_lo,sum64_4_hi=utils$f.sum64_4_hi,sum64_4_lo=utils$f.sum64_4_lo,sum64_5_hi=utils$f.sum64_5_hi,sum64_5_lo=utils$f.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$f.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(ge,Se){for(var Ne=this.W,Ze=0;Ze<32;Ze++)Ne[Ze]=ge[Se+Ze];for(;Ze<Ne.length;Ze+=2){var Je=g1_512_hi(Ne[Ze-4],Ne[Ze-3]),Xe=g1_512_lo(Ne[Ze-4],Ne[Ze-3]),vt=Ne[Ze-14],gt=Ne[Ze-13],kt=g0_512_hi(Ne[Ze-30],Ne[Ze-29]),mt=g0_512_lo(Ne[Ze-30],Ne[Ze-29]),xt=Ne[Ze-32],fr=Ne[Ze-31];Ne[Ze]=sum64_4_hi(Je,Xe,vt,gt,kt,mt,xt,fr),Ne[Ze+1]=sum64_4_lo(Je,Xe,vt,gt,kt,mt,xt,fr)}},SHA512$1.prototype._update=function(ge,Se){this._prepareBlock(ge,Se);var Ne=this.W,Ze=this.h[0],Je=this.h[1],Xe=this.h[2],vt=this.h[3],gt=this.h[4],kt=this.h[5],mt=this.h[6],xt=this.h[7],fr=this.h[8],ar=this.h[9],gr=this.h[10],wr=this.h[11],Er=this.h[12],_r=this.h[13],Sr=this.h[14],Or=this.h[15];assert$7(this.k.length===Ne.length);for(var Pr=0;Pr<Ne.length;Pr+=2){var kr=Sr,Ur=Or,Yr=s1_512_hi(fr,ar),jr=s1_512_lo(fr,ar),Dr=ch64_hi(fr,ar,gr,wr,Er),Vr=ch64_lo(fr,ar,gr,wr,Er,_r),Ir=this.k[Pr],br=this.k[Pr+1],Vt=Ne[Pr],ht=Ne[Pr+1],Ct=sum64_5_hi(kr,Ur,Yr,jr,Dr,Vr,Ir,br,Vt,ht),or=sum64_5_lo(kr,Ur,Yr,jr,Dr,Vr,Ir,br,Vt,ht);kr=s0_512_hi(Ze,Je),Ur=s0_512_lo(Ze,Je),Yr=maj64_hi(Ze,Je,Xe,vt,gt),jr=maj64_lo(Ze,Je,Xe,vt,gt,kt);var pr=sum64_hi(kr,Ur,Yr,jr),lr=sum64_lo(kr,Ur,Yr,jr);Sr=Er,Or=_r,Er=gr,_r=wr,gr=fr,wr=ar,fr=sum64_hi(mt,xt,Ct,or),ar=sum64_lo(xt,xt,Ct,or),mt=gt,xt=kt,gt=Xe,kt=vt,Xe=Ze,vt=Je,Ze=sum64_hi(Ct,or,pr,lr),Je=sum64_lo(Ct,or,pr,lr)}sum64(this.h,0,Ze,Je),sum64(this.h,2,Xe,vt),sum64(this.h,4,gt,kt),sum64(this.h,6,mt,xt),sum64(this.h,8,fr,ar),sum64(this.h,10,gr,wr),sum64(this.h,12,Er,_r),sum64(this.h,14,Sr,Or)},SHA512$1.prototype._digest=function(ge){return ge==="hex"?utils$f.toHex32(this.h,"big"):utils$f.split32(this.h,"big")};function ch64_hi(pe,ge,Se,Ne,Ze){var Je=pe&Se^~pe&Ze;return Je<0&&(Je+=4294967296),Je}function ch64_lo(pe,ge,Se,Ne,Ze,Je){var Xe=ge&Ne^~ge&Je;return Xe<0&&(Xe+=4294967296),Xe}function maj64_hi(pe,ge,Se,Ne,Ze){var Je=pe&Se^pe&Ze^Se&Ze;return Je<0&&(Je+=4294967296),Je}function maj64_lo(pe,ge,Se,Ne,Ze,Je){var Xe=ge&Ne^ge&Je^Ne&Je;return Xe<0&&(Xe+=4294967296),Xe}function s0_512_hi(pe,ge){var Se=rotr64_hi(pe,ge,28),Ne=rotr64_hi(ge,pe,2),Ze=rotr64_hi(ge,pe,7),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function s0_512_lo(pe,ge){var Se=rotr64_lo(pe,ge,28),Ne=rotr64_lo(ge,pe,2),Ze=rotr64_lo(ge,pe,7),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function s1_512_hi(pe,ge){var Se=rotr64_hi(pe,ge,14),Ne=rotr64_hi(pe,ge,18),Ze=rotr64_hi(ge,pe,9),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function s1_512_lo(pe,ge){var Se=rotr64_lo(pe,ge,14),Ne=rotr64_lo(pe,ge,18),Ze=rotr64_lo(ge,pe,9),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function g0_512_hi(pe,ge){var Se=rotr64_hi(pe,ge,1),Ne=rotr64_hi(pe,ge,8),Ze=shr64_hi(pe,ge,7),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function g0_512_lo(pe,ge){var Se=rotr64_lo(pe,ge,1),Ne=rotr64_lo(pe,ge,8),Ze=shr64_lo(pe,ge,7),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function g1_512_hi(pe,ge){var Se=rotr64_hi(pe,ge,19),Ne=rotr64_hi(ge,pe,29),Ze=shr64_hi(pe,ge,6),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}function g1_512_lo(pe,ge){var Se=rotr64_lo(pe,ge,19),Ne=rotr64_lo(ge,pe,29),Ze=shr64_lo(pe,ge,6),Je=Se^Ne^Ze;return Je<0&&(Je+=4294967296),Je}var utils$e=utils$l,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$e.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(ge){return ge==="hex"?utils$e.toHex32(this.h.slice(0,12),"big"):utils$e.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$d=utils$l,common=common$5,rotl32=utils$d.rotl32,sum32=utils$d.sum32,sum32_3=utils$d.sum32_3,sum32_4=utils$d.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$d.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(ge,Se){for(var Ne=this.h[0],Ze=this.h[1],Je=this.h[2],Xe=this.h[3],vt=this.h[4],gt=Ne,kt=Ze,mt=Je,xt=Xe,fr=vt,ar=0;ar<80;ar++){var gr=sum32(rotl32(sum32_4(Ne,f$1(ar,Ze,Je,Xe),ge[r$4[ar]+Se],K$2(ar)),s$5[ar]),vt);Ne=vt,vt=Xe,Xe=rotl32(Je,10),Je=Ze,Ze=gr,gr=sum32(rotl32(sum32_4(gt,f$1(79-ar,kt,mt,xt),ge[rh[ar]+Se],Kh(ar)),sh[ar]),fr),gt=fr,fr=xt,xt=rotl32(mt,10),mt=kt,kt=gr}gr=sum32_3(this.h[1],Je,xt),this.h[1]=sum32_3(this.h[2],Xe,fr),this.h[2]=sum32_3(this.h[3],vt,gt),this.h[3]=sum32_3(this.h[4],Ne,kt),this.h[4]=sum32_3(this.h[0],Ze,mt),this.h[0]=gr},RIPEMD160.prototype._digest=function(ge){return ge==="hex"?utils$d.toHex32(this.h,"little"):utils$d.split32(this.h,"little")};function f$1(pe,ge,Se,Ne){return pe<=15?ge^Se^Ne:pe<=31?ge&Se|~ge&Ne:pe<=47?(ge|~Se)^Ne:pe<=63?ge&Ne|Se&~Ne:ge^(Se|~Ne)}function K$2(pe){return pe<=15?0:pe<=31?1518500249:pe<=47?1859775393:pe<=63?2400959708:2840853838}function Kh(pe){return pe<=15?1352829926:pe<=31?1548603684:pe<=47?1836072691:pe<=63?2053994217:0}var r$4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$5=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$c=utils$l,assert$6=minimalisticAssert;function Hmac(pe,ge,Se){if(!(this instanceof Hmac))return new Hmac(pe,ge,Se);this.Hash=pe,this.blockSize=pe.blockSize/8,this.outSize=pe.outSize/8,this.inner=null,this.outer=null,this._init(utils$c.toArray(ge,Se))}var hmac=Hmac;Hmac.prototype._init=function(ge){ge.length>this.blockSize&&(ge=new this.Hash().update(ge).digest()),assert$6(ge.length<=this.blockSize);for(var Se=ge.length;Se<this.blockSize;Se++)ge.push(0);for(Se=0;Se<ge.length;Se++)ge[Se]^=54;for(this.inner=new this.Hash().update(ge),Se=0;Se<ge.length;Se++)ge[Se]^=106;this.outer=new this.Hash().update(ge)},Hmac.prototype.update=function(ge,Se){return this.inner.update(ge,Se),this},Hmac.prototype.digest=function(ge){return this.outer.update(this.inner.digest()),this.outer.digest(ge)},function(pe){var ge=pe;ge.utils=utils$l,ge.common=common$5,ge.sha=sha,ge.ripemd=ripemd,ge.hmac=hmac,ge.sha1=ge.sha.sha1,ge.sha256=ge.sha.sha256,ge.sha224=ge.sha.sha224,ge.sha384=ge.sha.sha384,ge.sha512=ge.sha.sha512,ge.ripemd160=ge.ripemd.ripemd160}(hash$2);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(pe){var ge=pe,Se=hash$2,Ne=curve,Ze=utils$r,Je=Ze.assert;function Xe(kt){kt.type==="short"?this.curve=new Ne.short(kt):kt.type==="edwards"?this.curve=new Ne.edwards(kt):this.curve=new Ne.mont(kt),this.g=this.curve.g,this.n=this.curve.n,this.hash=kt.hash,Je(this.g.validate(),"Invalid curve"),Je(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}ge.PresetCurve=Xe;function vt(kt,mt){Object.defineProperty(ge,kt,{configurable:!0,enumerable:!0,get:function(){var xt=new Xe(mt);return Object.defineProperty(ge,kt,{configurable:!0,enumerable:!0,value:xt}),xt}})}vt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Se.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),vt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Se.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),vt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Se.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),vt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Se.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),vt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Se.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),vt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Se.sha256,gRed:!1,g:["9"]}),vt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Se.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var gt;try{gt=requireSecp256k1()}catch{gt=void 0}vt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Se.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",gt]})})(curves$1);var hash$1=hash$2,utils$b=utils$q,assert$5=minimalisticAssert;function HmacDRBG(pe){if(!(this instanceof HmacDRBG))return new HmacDRBG(pe);this.hash=pe.hash,this.predResist=!!pe.predResist,this.outLen=this.hash.outSize,this.minEntropy=pe.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ge=utils$b.toArray(pe.entropy,pe.entropyEnc||"hex"),Se=utils$b.toArray(pe.nonce,pe.nonceEnc||"hex"),Ne=utils$b.toArray(pe.pers,pe.persEnc||"hex");assert$5(ge.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ge,Se,Ne)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(ge,Se,Ne){var Ze=ge.concat(Se).concat(Ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Je=0;Je<this.V.length;Je++)this.K[Je]=0,this.V[Je]=1;this._update(Ze),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(ge){var Se=this._hmac().update(this.V).update([0]);ge&&(Se=Se.update(ge)),this.K=Se.digest(),this.V=this._hmac().update(this.V).digest(),ge&&(this.K=this._hmac().update(this.V).update([1]).update(ge).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(ge,Se,Ne,Ze){typeof Se!="string"&&(Ze=Ne,Ne=Se,Se=null),ge=utils$b.toArray(ge,Se),Ne=utils$b.toArray(Ne,Ze),assert$5(ge.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ge.concat(Ne||[])),this._reseed=1},HmacDRBG.prototype.generate=function(ge,Se,Ne,Ze){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Se!="string"&&(Ze=Ne,Ne=Se,Se=null),Ne&&(Ne=utils$b.toArray(Ne,Ze||"hex"),this._update(Ne));for(var Je=[];Je.length<ge;)this.V=this._hmac().update(this.V).digest(),Je=Je.concat(this.V);var Xe=Je.slice(0,ge);return this._update(Ne),this._reseed++,utils$b.encode(Xe,Se)};var BN$5=bnExports$2,utils$a=utils$r,assert$4=utils$a.assert;function KeyPair$2(pe,ge){this.ec=pe,this.priv=null,this.pub=null,ge.priv&&this._importPrivate(ge.priv,ge.privEnc),ge.pub&&this._importPublic(ge.pub,ge.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function(ge,Se,Ne){return Se instanceof KeyPair$2?Se:new KeyPair$2(ge,{pub:Se,pubEnc:Ne})},KeyPair$2.fromPrivate=function(ge,Se,Ne){return Se instanceof KeyPair$2?Se:new KeyPair$2(ge,{priv:Se,privEnc:Ne})},KeyPair$2.prototype.validate=function(){var ge=this.getPublic();return ge.isInfinity()?{result:!1,reason:"Invalid public key"}:ge.validate()?ge.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$2.prototype.getPublic=function(ge,Se){return typeof ge=="string"&&(Se=ge,ge=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Se?this.pub.encode(Se,ge):this.pub},KeyPair$2.prototype.getPrivate=function(ge){return ge==="hex"?this.priv.toString(16,2):this.priv},KeyPair$2.prototype._importPrivate=function(ge,Se){this.priv=new BN$5(ge,Se||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$2.prototype._importPublic=function(ge,Se){if(ge.x||ge.y){this.ec.curve.type==="mont"?assert$4(ge.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$4(ge.x&&ge.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ge.x,ge.y);return}this.pub=this.ec.curve.decodePoint(ge,Se)},KeyPair$2.prototype.derive=function(ge){return ge.validate()||assert$4(ge.validate(),"public point not validated"),ge.mul(this.priv).getX()},KeyPair$2.prototype.sign=function(ge,Se,Ne){return this.ec.sign(ge,this,Se,Ne)},KeyPair$2.prototype.verify=function(ge,Se,Ne){return this.ec.verify(ge,Se,this,void 0,Ne)},KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$4=bnExports$2,utils$9=utils$r,assert$3=utils$9.assert;function Signature$2(pe,ge){if(pe instanceof Signature$2)return pe;this._importDER(pe,ge)||(assert$3(pe.r&&pe.s,"Signature without r or s"),this.r=new BN$4(pe.r,16),this.s=new BN$4(pe.s,16),pe.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=pe.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(pe,ge){var Se=pe[ge.place++];if(!(Se&128))return Se;var Ne=Se&15;if(Ne===0||Ne>4||pe[ge.place]===0)return!1;for(var Ze=0,Je=0,Xe=ge.place;Je<Ne;Je++,Xe++)Ze<<=8,Ze|=pe[Xe],Ze>>>=0;return Ze<=127?!1:(ge.place=Xe,Ze)}function rmPadding(pe){for(var ge=0,Se=pe.length-1;!pe[ge]&&!(pe[ge+1]&128)&&ge<Se;)ge++;return ge===0?pe:pe.slice(ge)}Signature$2.prototype._importDER=function(ge,Se){ge=utils$9.toArray(ge,Se);var Ne=new Position;if(ge[Ne.place++]!==48)return!1;var Ze=getLength(ge,Ne);if(Ze===!1||Ze+Ne.place!==ge.length||ge[Ne.place++]!==2)return!1;var Je=getLength(ge,Ne);if(Je===!1||ge[Ne.place]&128)return!1;var Xe=ge.slice(Ne.place,Je+Ne.place);if(Ne.place+=Je,ge[Ne.place++]!==2)return!1;var vt=getLength(ge,Ne);if(vt===!1||ge.length!==vt+Ne.place||ge[Ne.place]&128)return!1;var gt=ge.slice(Ne.place,vt+Ne.place);if(Xe[0]===0)if(Xe[1]&128)Xe=Xe.slice(1);else return!1;if(gt[0]===0)if(gt[1]&128)gt=gt.slice(1);else return!1;return this.r=new BN$4(Xe),this.s=new BN$4(gt),this.recoveryParam=null,!0};function constructLength(pe,ge){if(ge<128){pe.push(ge);return}var Se=1+(Math.log(ge)/Math.LN2>>>3);for(pe.push(Se|128);--Se;)pe.push(ge>>>(Se<<3)&255);pe.push(ge)}Signature$2.prototype.toDER=function(ge){var Se=this.r.toArray(),Ne=this.s.toArray();for(Se[0]&128&&(Se=[0].concat(Se)),Ne[0]&128&&(Ne=[0].concat(Ne)),Se=rmPadding(Se),Ne=rmPadding(Ne);!Ne[0]&&!(Ne[1]&128);)Ne=Ne.slice(1);var Ze=[2];constructLength(Ze,Se.length),Ze=Ze.concat(Se),Ze.push(2),constructLength(Ze,Ne.length);var Je=Ze.concat(Ne),Xe=[48];return constructLength(Xe,Je.length),Xe=Xe.concat(Je),utils$9.encode(Xe,ge)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var pe=bnExports$2,ge=hmacDrbg,Se=utils$r,Ne=curves$1,Ze=requireBrorand(),Je=Se.assert,Xe=key$1,vt=signature$1;function gt(kt){if(!(this instanceof gt))return new gt(kt);typeof kt=="string"&&(Je(Object.prototype.hasOwnProperty.call(Ne,kt),"Unknown curve "+kt),kt=Ne[kt]),kt instanceof Ne.PresetCurve&&(kt={curve:kt}),this.curve=kt.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=kt.curve.g,this.g.precompute(kt.curve.n.bitLength()+1),this.hash=kt.hash||kt.curve.hash}return ec=gt,gt.prototype.keyPair=function(mt){return new Xe(this,mt)},gt.prototype.keyFromPrivate=function(mt,xt){return Xe.fromPrivate(this,mt,xt)},gt.prototype.keyFromPublic=function(mt,xt){return Xe.fromPublic(this,mt,xt)},gt.prototype.genKeyPair=function(mt){mt||(mt={});for(var xt=new ge({hash:this.hash,pers:mt.pers,persEnc:mt.persEnc||"utf8",entropy:mt.entropy||Ze(this.hash.hmacStrength),entropyEnc:mt.entropy&&mt.entropyEnc||"utf8",nonce:this.n.toArray()}),fr=this.n.byteLength(),ar=this.n.sub(new pe(2));;){var gr=new pe(xt.generate(fr));if(!(gr.cmp(ar)>0))return gr.iaddn(1),this.keyFromPrivate(gr)}},gt.prototype._truncateToN=function(mt,xt,fr){var ar;if(pe.isBN(mt)||typeof mt=="number")mt=new pe(mt,16),ar=mt.byteLength();else if(typeof mt=="object")ar=mt.length,mt=new pe(mt,16);else{var gr=mt.toString();ar=gr.length+1>>>1,mt=new pe(gr,16)}typeof fr!="number"&&(fr=ar*8);var wr=fr-this.n.bitLength();return wr>0&&(mt=mt.ushrn(wr)),!xt&&mt.cmp(this.n)>=0?mt.sub(this.n):mt},gt.prototype.sign=function(mt,xt,fr,ar){if(typeof fr=="object"&&(ar=fr,fr=null),ar||(ar={}),typeof mt!="string"&&typeof mt!="number"&&!pe.isBN(mt)){Je(typeof mt=="object"&&mt&&typeof mt.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Je(mt.length>>>0===mt.length);for(var gr=0;gr<mt.length;gr++)Je((mt[gr]&255)===mt[gr])}xt=this.keyFromPrivate(xt,fr),mt=this._truncateToN(mt,!1,ar.msgBitLength),Je(!mt.isNeg(),"Can not sign a negative message");var wr=this.n.byteLength(),Er=xt.getPrivate().toArray("be",wr),_r=mt.toArray("be",wr);Je(new pe(_r).eq(mt),"Can not sign message");for(var Sr=new ge({hash:this.hash,entropy:Er,nonce:_r,pers:ar.pers,persEnc:ar.persEnc||"utf8"}),Or=this.n.sub(new pe(1)),Pr=0;;Pr++){var kr=ar.k?ar.k(Pr):new pe(Sr.generate(this.n.byteLength()));if(kr=this._truncateToN(kr,!0),!(kr.cmpn(1)<=0||kr.cmp(Or)>=0)){var Ur=this.g.mul(kr);if(!Ur.isInfinity()){var Yr=Ur.getX(),jr=Yr.umod(this.n);if(jr.cmpn(0)!==0){var Dr=kr.invm(this.n).mul(jr.mul(xt.getPrivate()).iadd(mt));if(Dr=Dr.umod(this.n),Dr.cmpn(0)!==0){var Vr=(Ur.getY().isOdd()?1:0)|(Yr.cmp(jr)!==0?2:0);return ar.canonical&&Dr.cmp(this.nh)>0&&(Dr=this.n.sub(Dr),Vr^=1),new vt({r:jr,s:Dr,recoveryParam:Vr})}}}}}},gt.prototype.verify=function(mt,xt,fr,ar,gr){gr||(gr={}),mt=this._truncateToN(mt,!1,gr.msgBitLength),fr=this.keyFromPublic(fr,ar),xt=new vt(xt,"hex");var wr=xt.r,Er=xt.s;if(wr.cmpn(1)<0||wr.cmp(this.n)>=0||Er.cmpn(1)<0||Er.cmp(this.n)>=0)return!1;var _r=Er.invm(this.n),Sr=_r.mul(mt).umod(this.n),Or=_r.mul(wr).umod(this.n),Pr;return this.curve._maxwellTrick?(Pr=this.g.jmulAdd(Sr,fr.getPublic(),Or),Pr.isInfinity()?!1:Pr.eqXToP(wr)):(Pr=this.g.mulAdd(Sr,fr.getPublic(),Or),Pr.isInfinity()?!1:Pr.getX().umod(this.n).cmp(wr)===0)},gt.prototype.recoverPubKey=function(kt,mt,xt,fr){Je((3&xt)===xt,"The recovery param is more than two bits"),mt=new vt(mt,fr);var ar=this.n,gr=new pe(kt),wr=mt.r,Er=mt.s,_r=xt&1,Sr=xt>>1;if(wr.cmp(this.curve.p.umod(this.curve.n))>=0&&Sr)throw new Error("Unable to find sencond key candinate");Sr?wr=this.curve.pointFromX(wr.add(this.curve.n),_r):wr=this.curve.pointFromX(wr,_r);var Or=mt.r.invm(ar),Pr=ar.sub(gr).mul(Or).umod(ar),kr=Er.mul(Or).umod(ar);return this.g.mulAdd(Pr,wr,kr)},gt.prototype.getKeyRecoveryParam=function(kt,mt,xt,fr){if(mt=new vt(mt,fr),mt.recoveryParam!==null)return mt.recoveryParam;for(var ar=0;ar<4;ar++){var gr;try{gr=this.recoverPubKey(kt,mt,ar)}catch{continue}if(gr.eq(xt))return ar}throw new Error("Unable to find valid recovery factor")},ec}var utils$8=utils$r,assert$2=utils$8.assert,parseBytes$2=utils$8.parseBytes,cachedProperty$1=utils$8.cachedProperty;function KeyPair$1(pe,ge){this.eddsa=pe,this._secret=parseBytes$2(ge.secret),pe.isPoint(ge.pub)?this._pub=ge.pub:this._pubBytes=parseBytes$2(ge.pub)}KeyPair$1.fromPublic=function(ge,Se){return Se instanceof KeyPair$1?Se:new KeyPair$1(ge,{pub:Se})},KeyPair$1.fromSecret=function(ge,Se){return Se instanceof KeyPair$1?Se:new KeyPair$1(ge,{secret:Se})},KeyPair$1.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty$1(KeyPair$1,"privBytes",function(){var ge=this.eddsa,Se=this.hash(),Ne=ge.encodingLength-1,Ze=Se.slice(0,ge.encodingLength);return Ze[0]&=248,Ze[Ne]&=127,Ze[Ne]|=64,Ze}),cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair$1.prototype.sign=function(ge){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(ge,this)},KeyPair$1.prototype.verify=function(ge,Se){return this.eddsa.verify(ge,Se,this)},KeyPair$1.prototype.getSecret=function(ge){return assert$2(this._secret,"KeyPair is public only"),utils$8.encode(this.secret(),ge)},KeyPair$1.prototype.getPublic=function(ge){return utils$8.encode(this.pubBytes(),ge)};var key=KeyPair$1,BN$3=bnExports$2,utils$7=utils$r,assert$1=utils$7.assert,cachedProperty=utils$7.cachedProperty,parseBytes$1=utils$7.parseBytes;function Signature$1(pe,ge){this.eddsa=pe,typeof ge!="object"&&(ge=parseBytes$1(ge)),Array.isArray(ge)&&(assert$1(ge.length===pe.encodingLength*2,"Signature has invalid size"),ge={R:ge.slice(0,pe.encodingLength),S:ge.slice(pe.encodingLength)}),assert$1(ge.R&&ge.S,"Signature without R or S"),pe.isPoint(ge.R)&&(this._R=ge.R),ge.S instanceof BN$3&&(this._S=ge.S),this._Rencoded=Array.isArray(ge.R)?ge.R:ge.Rencoded,this._Sencoded=Array.isArray(ge.S)?ge.S:ge.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature$1.prototype.toHex=function(){return utils$7.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash=hash$2,curves=curves$1,utils$6=utils$r,assert=utils$6.assert,parseBytes=utils$6.parseBytes,KeyPair=key,Signature=signature;function EDDSA(pe){if(assert(pe==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(pe);pe=curves[pe].curve,this.curve=pe,this.g=pe.g,this.g.precompute(pe.n.bitLength()+1),this.pointClass=pe.point().constructor,this.encodingLength=Math.ceil(pe.n.bitLength()/8),this.hash=hash.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(ge,Se){ge=parseBytes(ge);var Ne=this.keyFromSecret(Se),Ze=this.hashInt(Ne.messagePrefix(),ge),Je=this.g.mul(Ze),Xe=this.encodePoint(Je),vt=this.hashInt(Xe,Ne.pubBytes(),ge).mul(Ne.priv()),gt=Ze.add(vt).umod(this.curve.n);return this.makeSignature({R:Je,S:gt,Rencoded:Xe})},EDDSA.prototype.verify=function(ge,Se,Ne){if(ge=parseBytes(ge),Se=this.makeSignature(Se),Se.S().gte(Se.eddsa.curve.n)||Se.S().isNeg())return!1;var Ze=this.keyFromPublic(Ne),Je=this.hashInt(Se.Rencoded(),Ze.pubBytes(),ge),Xe=this.g.mul(Se.S()),vt=Se.R().add(Ze.pub().mul(Je));return vt.eq(Xe)},EDDSA.prototype.hashInt=function(){for(var ge=this.hash(),Se=0;Se<arguments.length;Se++)ge.update(arguments[Se]);return utils$6.intFromLE(ge.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(ge){return KeyPair.fromPublic(this,ge)},EDDSA.prototype.keyFromSecret=function(ge){return KeyPair.fromSecret(this,ge)},EDDSA.prototype.makeSignature=function(ge){return ge instanceof Signature?ge:new Signature(this,ge)},EDDSA.prototype.encodePoint=function(ge){var Se=ge.getY().toArray("le",this.encodingLength);return Se[this.encodingLength-1]|=ge.getX().isOdd()?128:0,Se},EDDSA.prototype.decodePoint=function(ge){ge=utils$6.parseBytes(ge);var Se=ge.length-1,Ne=ge.slice(0,Se).concat(ge[Se]&-129),Ze=(ge[Se]&128)!==0,Je=utils$6.intFromLE(Ne);return this.curve.pointFromY(Je,Ze)},EDDSA.prototype.encodeInt=function(ge){return ge.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(ge){return utils$6.intFromLE(ge)},EDDSA.prototype.isPoint=function(ge){return ge instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(pe){var ge=pe;ge.version=require$$0.version,ge.utils=utils$r,ge.rand=requireBrorand(),ge.curve=curve,ge.curves=curves$1,ge.ec=requireEc(),ge.eddsa=eddsa}(elliptic)),elliptic}var bn={exports:{}};bn.exports,function(pe){(function(ge,Se){function Ne(Vt,ht){if(!Vt)throw new Error(ht||"Assertion failed")}function Ze(Vt,ht){Vt.super_=ht;var Ct=function(){};Ct.prototype=ht.prototype,Vt.prototype=new Ct,Vt.prototype.constructor=Vt}function Je(Vt,ht,Ct){if(Je.isBN(Vt))return Vt;this.negative=0,this.words=null,this.length=0,this.red=null,Vt!==null&&((ht==="le"||ht==="be")&&(Ct=ht,ht=10),this._init(Vt||0,ht||10,Ct||"be"))}typeof ge=="object"?ge.exports=Je:Se.BN=Je,Je.BN=Je,Je.wordSize=26;var Xe;try{typeof window<"u"&&typeof window.Buffer<"u"?Xe=window.Buffer:Xe=require$$1$2.Buffer}catch{}Je.isBN=function(ht){return ht instanceof Je?!0:ht!==null&&typeof ht=="object"&&ht.constructor.wordSize===Je.wordSize&&Array.isArray(ht.words)},Je.max=function(ht,Ct){return ht.cmp(Ct)>0?ht:Ct},Je.min=function(ht,Ct){return ht.cmp(Ct)<0?ht:Ct},Je.prototype._init=function(ht,Ct,or){if(typeof ht=="number")return this._initNumber(ht,Ct,or);if(typeof ht=="object")return this._initArray(ht,Ct,or);Ct==="hex"&&(Ct=16),Ne(Ct===(Ct|0)&&Ct>=2&&Ct<=36),ht=ht.toString().replace(/\s+/g,"");var pr=0;ht[0]==="-"&&(pr++,this.negative=1),pr<ht.length&&(Ct===16?this._parseHex(ht,pr,or):(this._parseBase(ht,Ct,pr),or==="le"&&this._initArray(this.toArray(),Ct,or)))},Je.prototype._initNumber=function(ht,Ct,or){ht<0&&(this.negative=1,ht=-ht),ht<67108864?(this.words=[ht&67108863],this.length=1):ht<4503599627370496?(this.words=[ht&67108863,ht/67108864&67108863],this.length=2):(Ne(ht<9007199254740992),this.words=[ht&67108863,ht/67108864&67108863,1],this.length=3),or==="le"&&this._initArray(this.toArray(),Ct,or)},Je.prototype._initArray=function(ht,Ct,or){if(Ne(typeof ht.length=="number"),ht.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ht.length/3),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var lr,vr,tr=0;if(or==="be")for(pr=ht.length-1,lr=0;pr>=0;pr-=3)vr=ht[pr]|ht[pr-1]<<8|ht[pr-2]<<16,this.words[lr]|=vr<<tr&67108863,this.words[lr+1]=vr>>>26-tr&67108863,tr+=24,tr>=26&&(tr-=26,lr++);else if(or==="le")for(pr=0,lr=0;pr<ht.length;pr+=3)vr=ht[pr]|ht[pr+1]<<8|ht[pr+2]<<16,this.words[lr]|=vr<<tr&67108863,this.words[lr+1]=vr>>>26-tr&67108863,tr+=24,tr>=26&&(tr-=26,lr++);return this._strip()};function vt(Vt,ht){var Ct=Vt.charCodeAt(ht);if(Ct>=48&&Ct<=57)return Ct-48;if(Ct>=65&&Ct<=70)return Ct-55;if(Ct>=97&&Ct<=102)return Ct-87;Ne(!1,"Invalid character in "+Vt)}function gt(Vt,ht,Ct){var or=vt(Vt,Ct);return Ct-1>=ht&&(or|=vt(Vt,Ct-1)<<4),or}Je.prototype._parseHex=function(ht,Ct,or){this.length=Math.ceil((ht.length-Ct)/6),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var lr=0,vr=0,tr;if(or==="be")for(pr=ht.length-1;pr>=Ct;pr-=2)tr=gt(ht,Ct,pr)<<lr,this.words[vr]|=tr&67108863,lr>=18?(lr-=18,vr+=1,this.words[vr]|=tr>>>26):lr+=8;else{var ur=ht.length-Ct;for(pr=ur%2===0?Ct+1:Ct;pr<ht.length;pr+=2)tr=gt(ht,Ct,pr)<<lr,this.words[vr]|=tr&67108863,lr>=18?(lr-=18,vr+=1,this.words[vr]|=tr>>>26):lr+=8}this._strip()};function kt(Vt,ht,Ct,or){for(var pr=0,lr=0,vr=Math.min(Vt.length,Ct),tr=ht;tr<vr;tr++){var ur=Vt.charCodeAt(tr)-48;pr*=or,ur>=49?lr=ur-49+10:ur>=17?lr=ur-17+10:lr=ur,Ne(ur>=0&&lr<or,"Invalid character"),pr+=lr}return pr}Je.prototype._parseBase=function(ht,Ct,or){this.words=[0],this.length=1;for(var pr=0,lr=1;lr<=67108863;lr*=Ct)pr++;pr--,lr=lr/Ct|0;for(var vr=ht.length-or,tr=vr%pr,ur=Math.min(vr,vr-tr)+or,Ft=0,yr=or;yr<ur;yr+=pr)Ft=kt(ht,yr,yr+pr,Ct),this.imuln(lr),this.words[0]+Ft<67108864?this.words[0]+=Ft:this._iaddn(Ft);if(tr!==0){var Nr=1;for(Ft=kt(ht,yr,ht.length,Ct),yr=0;yr<tr;yr++)Nr*=Ct;this.imuln(Nr),this.words[0]+Ft<67108864?this.words[0]+=Ft:this._iaddn(Ft)}this._strip()},Je.prototype.copy=function(ht){ht.words=new Array(this.length);for(var Ct=0;Ct<this.length;Ct++)ht.words[Ct]=this.words[Ct];ht.length=this.length,ht.negative=this.negative,ht.red=this.red};function mt(Vt,ht){Vt.words=ht.words,Vt.length=ht.length,Vt.negative=ht.negative,Vt.red=ht.red}if(Je.prototype._move=function(ht){mt(ht,this)},Je.prototype.clone=function(){var ht=new Je(null);return this.copy(ht),ht},Je.prototype._expand=function(ht){for(;this.length<ht;)this.words[this.length++]=0;return this},Je.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Je.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Je.prototype[Symbol.for("nodejs.util.inspect.custom")]=xt}catch{Je.prototype.inspect=xt}else Je.prototype.inspect=xt;function xt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ar=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Je.prototype.toString=function(ht,Ct){ht=ht||10,Ct=Ct|0||1;var or;if(ht===16||ht==="hex"){or="";for(var pr=0,lr=0,vr=0;vr<this.length;vr++){var tr=this.words[vr],ur=((tr<<pr|lr)&16777215).toString(16);lr=tr>>>24-pr&16777215,pr+=2,pr>=26&&(pr-=26,vr--),lr!==0||vr!==this.length-1?or=fr[6-ur.length]+ur+or:or=ur+or}for(lr!==0&&(or=lr.toString(16)+or);or.length%Ct!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}if(ht===(ht|0)&&ht>=2&&ht<=36){var Ft=ar[ht],yr=gr[ht];or="";var Nr=this.clone();for(Nr.negative=0;!Nr.isZero();){var qr=Nr.modrn(yr).toString(ht);Nr=Nr.idivn(yr),Nr.isZero()?or=qr+or:or=fr[Ft-qr.length]+qr+or}for(this.isZero()&&(or="0"+or);or.length%Ct!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}Ne(!1,"Base should be between 2 and 36")},Je.prototype.toNumber=function(){var ht=this.words[0];return this.length===2?ht+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ht+=4503599627370496+this.words[1]*67108864:this.length>2&&Ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ht:ht},Je.prototype.toJSON=function(){return this.toString(16,2)},Xe&&(Je.prototype.toBuffer=function(ht,Ct){return this.toArrayLike(Xe,ht,Ct)}),Je.prototype.toArray=function(ht,Ct){return this.toArrayLike(Array,ht,Ct)};var wr=function(ht,Ct){return ht.allocUnsafe?ht.allocUnsafe(Ct):new ht(Ct)};Je.prototype.toArrayLike=function(ht,Ct,or){this._strip();var pr=this.byteLength(),lr=or||Math.max(1,pr);Ne(pr<=lr,"byte array longer than desired length"),Ne(lr>0,"Requested array length <= 0");var vr=wr(ht,lr),tr=Ct==="le"?"LE":"BE";return this["_toArrayLike"+tr](vr,pr),vr},Je.prototype._toArrayLikeLE=function(ht,Ct){for(var or=0,pr=0,lr=0,vr=0;lr<this.length;lr++){var tr=this.words[lr]<<vr|pr;ht[or++]=tr&255,or<ht.length&&(ht[or++]=tr>>8&255),or<ht.length&&(ht[or++]=tr>>16&255),vr===6?(or<ht.length&&(ht[or++]=tr>>24&255),pr=0,vr=0):(pr=tr>>>24,vr+=2)}if(or<ht.length)for(ht[or++]=pr;or<ht.length;)ht[or++]=0},Je.prototype._toArrayLikeBE=function(ht,Ct){for(var or=ht.length-1,pr=0,lr=0,vr=0;lr<this.length;lr++){var tr=this.words[lr]<<vr|pr;ht[or--]=tr&255,or>=0&&(ht[or--]=tr>>8&255),or>=0&&(ht[or--]=tr>>16&255),vr===6?(or>=0&&(ht[or--]=tr>>24&255),pr=0,vr=0):(pr=tr>>>24,vr+=2)}if(or>=0)for(ht[or--]=pr;or>=0;)ht[or--]=0},Math.clz32?Je.prototype._countBits=function(ht){return 32-Math.clz32(ht)}:Je.prototype._countBits=function(ht){var Ct=ht,or=0;return Ct>=4096&&(or+=13,Ct>>>=13),Ct>=64&&(or+=7,Ct>>>=7),Ct>=8&&(or+=4,Ct>>>=4),Ct>=2&&(or+=2,Ct>>>=2),or+Ct},Je.prototype._zeroBits=function(ht){if(ht===0)return 26;var Ct=ht,or=0;return Ct&8191||(or+=13,Ct>>>=13),Ct&127||(or+=7,Ct>>>=7),Ct&15||(or+=4,Ct>>>=4),Ct&3||(or+=2,Ct>>>=2),Ct&1||or++,or},Je.prototype.bitLength=function(){var ht=this.words[this.length-1],Ct=this._countBits(ht);return(this.length-1)*26+Ct};function Er(Vt){for(var ht=new Array(Vt.bitLength()),Ct=0;Ct<ht.length;Ct++){var or=Ct/26|0,pr=Ct%26;ht[Ct]=Vt.words[or]>>>pr&1}return ht}Je.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ht=0,Ct=0;Ct<this.length;Ct++){var or=this._zeroBits(this.words[Ct]);if(ht+=or,or!==26)break}return ht},Je.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Je.prototype.toTwos=function(ht){return this.negative!==0?this.abs().inotn(ht).iaddn(1):this.clone()},Je.prototype.fromTwos=function(ht){return this.testn(ht-1)?this.notn(ht).iaddn(1).ineg():this.clone()},Je.prototype.isNeg=function(){return this.negative!==0},Je.prototype.neg=function(){return this.clone().ineg()},Je.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Je.prototype.iuor=function(ht){for(;this.length<ht.length;)this.words[this.length++]=0;for(var Ct=0;Ct<ht.length;Ct++)this.words[Ct]=this.words[Ct]|ht.words[Ct];return this._strip()},Je.prototype.ior=function(ht){return Ne((this.negative|ht.negative)===0),this.iuor(ht)},Je.prototype.or=function(ht){return this.length>ht.length?this.clone().ior(ht):ht.clone().ior(this)},Je.prototype.uor=function(ht){return this.length>ht.length?this.clone().iuor(ht):ht.clone().iuor(this)},Je.prototype.iuand=function(ht){var Ct;this.length>ht.length?Ct=ht:Ct=this;for(var or=0;or<Ct.length;or++)this.words[or]=this.words[or]&ht.words[or];return this.length=Ct.length,this._strip()},Je.prototype.iand=function(ht){return Ne((this.negative|ht.negative)===0),this.iuand(ht)},Je.prototype.and=function(ht){return this.length>ht.length?this.clone().iand(ht):ht.clone().iand(this)},Je.prototype.uand=function(ht){return this.length>ht.length?this.clone().iuand(ht):ht.clone().iuand(this)},Je.prototype.iuxor=function(ht){var Ct,or;this.length>ht.length?(Ct=this,or=ht):(Ct=ht,or=this);for(var pr=0;pr<or.length;pr++)this.words[pr]=Ct.words[pr]^or.words[pr];if(this!==Ct)for(;pr<Ct.length;pr++)this.words[pr]=Ct.words[pr];return this.length=Ct.length,this._strip()},Je.prototype.ixor=function(ht){return Ne((this.negative|ht.negative)===0),this.iuxor(ht)},Je.prototype.xor=function(ht){return this.length>ht.length?this.clone().ixor(ht):ht.clone().ixor(this)},Je.prototype.uxor=function(ht){return this.length>ht.length?this.clone().iuxor(ht):ht.clone().iuxor(this)},Je.prototype.inotn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=Math.ceil(ht/26)|0,or=ht%26;this._expand(Ct),or>0&&Ct--;for(var pr=0;pr<Ct;pr++)this.words[pr]=~this.words[pr]&67108863;return or>0&&(this.words[pr]=~this.words[pr]&67108863>>26-or),this._strip()},Je.prototype.notn=function(ht){return this.clone().inotn(ht)},Je.prototype.setn=function(ht,Ct){Ne(typeof ht=="number"&&ht>=0);var or=ht/26|0,pr=ht%26;return this._expand(or+1),Ct?this.words[or]=this.words[or]|1<<pr:this.words[or]=this.words[or]&~(1<<pr),this._strip()},Je.prototype.iadd=function(ht){var Ct;if(this.negative!==0&&ht.negative===0)return this.negative=0,Ct=this.isub(ht),this.negative^=1,this._normSign();if(this.negative===0&&ht.negative!==0)return ht.negative=0,Ct=this.isub(ht),ht.negative=1,Ct._normSign();var or,pr;this.length>ht.length?(or=this,pr=ht):(or=ht,pr=this);for(var lr=0,vr=0;vr<pr.length;vr++)Ct=(or.words[vr]|0)+(pr.words[vr]|0)+lr,this.words[vr]=Ct&67108863,lr=Ct>>>26;for(;lr!==0&&vr<or.length;vr++)Ct=(or.words[vr]|0)+lr,this.words[vr]=Ct&67108863,lr=Ct>>>26;if(this.length=or.length,lr!==0)this.words[this.length]=lr,this.length++;else if(or!==this)for(;vr<or.length;vr++)this.words[vr]=or.words[vr];return this},Je.prototype.add=function(ht){var Ct;return ht.negative!==0&&this.negative===0?(ht.negative=0,Ct=this.sub(ht),ht.negative^=1,Ct):ht.negative===0&&this.negative!==0?(this.negative=0,Ct=ht.sub(this),this.negative=1,Ct):this.length>ht.length?this.clone().iadd(ht):ht.clone().iadd(this)},Je.prototype.isub=function(ht){if(ht.negative!==0){ht.negative=0;var Ct=this.iadd(ht);return ht.negative=1,Ct._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ht),this.negative=1,this._normSign();var or=this.cmp(ht);if(or===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pr,lr;or>0?(pr=this,lr=ht):(pr=ht,lr=this);for(var vr=0,tr=0;tr<lr.length;tr++)Ct=(pr.words[tr]|0)-(lr.words[tr]|0)+vr,vr=Ct>>26,this.words[tr]=Ct&67108863;for(;vr!==0&&tr<pr.length;tr++)Ct=(pr.words[tr]|0)+vr,vr=Ct>>26,this.words[tr]=Ct&67108863;if(vr===0&&tr<pr.length&&pr!==this)for(;tr<pr.length;tr++)this.words[tr]=pr.words[tr];return this.length=Math.max(this.length,tr),pr!==this&&(this.negative=1),this._strip()},Je.prototype.sub=function(ht){return this.clone().isub(ht)};function _r(Vt,ht,Ct){Ct.negative=ht.negative^Vt.negative;var or=Vt.length+ht.length|0;Ct.length=or,or=or-1|0;var pr=Vt.words[0]|0,lr=ht.words[0]|0,vr=pr*lr,tr=vr&67108863,ur=vr/67108864|0;Ct.words[0]=tr;for(var Ft=1;Ft<or;Ft++){for(var yr=ur>>>26,Nr=ur&67108863,qr=Math.min(Ft,ht.length-1),Rr=Math.max(0,Ft-Vt.length+1);Rr<=qr;Rr++){var Ar=Ft-Rr|0;pr=Vt.words[Ar]|0,lr=ht.words[Rr]|0,vr=pr*lr+Nr,yr+=vr/67108864|0,Nr=vr&67108863}Ct.words[Ft]=Nr|0,ur=yr|0}return ur!==0?Ct.words[Ft]=ur|0:Ct.length--,Ct._strip()}var Sr=function(ht,Ct,or){var pr=ht.words,lr=Ct.words,vr=or.words,tr=0,ur,Ft,yr,Nr=pr[0]|0,qr=Nr&8191,Rr=Nr>>>13,Ar=pr[1]|0,Tr=Ar&8191,Kr=Ar>>>13,Zr=pr[2]|0,Br=Zr&8191,Mr=Zr>>>13,Gr=pr[3]|0,en=Gr&8191,rn=Gr>>>13,an=pr[4]|0,nn=an&8191,un=an>>>13,tn=pr[5]|0,dn=tn&8191,cn=tn>>>13,Wr=pr[6]|0,on=Wr&8191,Hr=Wr>>>13,yn=pr[7]|0,gn=yn&8191,mn=yn>>>13,An=pr[8]|0,hn=An&8191,Cr=An>>>13,$r=pr[9]|0,xr=$r&8191,Lr=$r>>>13,Jr=lr[0]|0,Xr=Jr&8191,Fr=Jr>>>13,Qr=lr[1]|0,vn=Qr&8191,ln=Qr>>>13,pn=lr[2]|0,sn=pn&8191,_n=pn>>>13,jn=lr[3]|0,xn=jn&8191,$n=jn>>>13,Nn=lr[4]|0,Bn=Nn&8191,wn=Nn>>>13,Ln=lr[5]|0,On=Ln&8191,Sn=Ln>>>13,Dn=lr[6]|0,Tn=Dn&8191,En=Dn>>>13,Fn=lr[7]|0,Pn=Fn&8191,Mn=Fn>>>13,qn=lr[8]|0,Cn=qn&8191,In=qn>>>13,Un=lr[9]|0,Rn=Un&8191,kn=Un>>>13;or.negative=ht.negative^Ct.negative,or.length=19,ur=Math.imul(qr,Xr),Ft=Math.imul(qr,Fr),Ft=Ft+Math.imul(Rr,Xr)|0,yr=Math.imul(Rr,Fr);var Gn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,ur=Math.imul(Tr,Xr),Ft=Math.imul(Tr,Fr),Ft=Ft+Math.imul(Kr,Xr)|0,yr=Math.imul(Kr,Fr),ur=ur+Math.imul(qr,vn)|0,Ft=Ft+Math.imul(qr,ln)|0,Ft=Ft+Math.imul(Rr,vn)|0,yr=yr+Math.imul(Rr,ln)|0;var Kn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,ur=Math.imul(Br,Xr),Ft=Math.imul(Br,Fr),Ft=Ft+Math.imul(Mr,Xr)|0,yr=Math.imul(Mr,Fr),ur=ur+Math.imul(Tr,vn)|0,Ft=Ft+Math.imul(Tr,ln)|0,Ft=Ft+Math.imul(Kr,vn)|0,yr=yr+Math.imul(Kr,ln)|0,ur=ur+Math.imul(qr,sn)|0,Ft=Ft+Math.imul(qr,_n)|0,Ft=Ft+Math.imul(Rr,sn)|0,yr=yr+Math.imul(Rr,_n)|0;var Hn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,ur=Math.imul(en,Xr),Ft=Math.imul(en,Fr),Ft=Ft+Math.imul(rn,Xr)|0,yr=Math.imul(rn,Fr),ur=ur+Math.imul(Br,vn)|0,Ft=Ft+Math.imul(Br,ln)|0,Ft=Ft+Math.imul(Mr,vn)|0,yr=yr+Math.imul(Mr,ln)|0,ur=ur+Math.imul(Tr,sn)|0,Ft=Ft+Math.imul(Tr,_n)|0,Ft=Ft+Math.imul(Kr,sn)|0,yr=yr+Math.imul(Kr,_n)|0,ur=ur+Math.imul(qr,xn)|0,Ft=Ft+Math.imul(qr,$n)|0,Ft=Ft+Math.imul(Rr,xn)|0,yr=yr+Math.imul(Rr,$n)|0;var Wn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,ur=Math.imul(nn,Xr),Ft=Math.imul(nn,Fr),Ft=Ft+Math.imul(un,Xr)|0,yr=Math.imul(un,Fr),ur=ur+Math.imul(en,vn)|0,Ft=Ft+Math.imul(en,ln)|0,Ft=Ft+Math.imul(rn,vn)|0,yr=yr+Math.imul(rn,ln)|0,ur=ur+Math.imul(Br,sn)|0,Ft=Ft+Math.imul(Br,_n)|0,Ft=Ft+Math.imul(Mr,sn)|0,yr=yr+Math.imul(Mr,_n)|0,ur=ur+Math.imul(Tr,xn)|0,Ft=Ft+Math.imul(Tr,$n)|0,Ft=Ft+Math.imul(Kr,xn)|0,yr=yr+Math.imul(Kr,$n)|0,ur=ur+Math.imul(qr,Bn)|0,Ft=Ft+Math.imul(qr,wn)|0,Ft=Ft+Math.imul(Rr,Bn)|0,yr=yr+Math.imul(Rr,wn)|0;var zn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(zn>>>26)|0,zn&=67108863,ur=Math.imul(dn,Xr),Ft=Math.imul(dn,Fr),Ft=Ft+Math.imul(cn,Xr)|0,yr=Math.imul(cn,Fr),ur=ur+Math.imul(nn,vn)|0,Ft=Ft+Math.imul(nn,ln)|0,Ft=Ft+Math.imul(un,vn)|0,yr=yr+Math.imul(un,ln)|0,ur=ur+Math.imul(en,sn)|0,Ft=Ft+Math.imul(en,_n)|0,Ft=Ft+Math.imul(rn,sn)|0,yr=yr+Math.imul(rn,_n)|0,ur=ur+Math.imul(Br,xn)|0,Ft=Ft+Math.imul(Br,$n)|0,Ft=Ft+Math.imul(Mr,xn)|0,yr=yr+Math.imul(Mr,$n)|0,ur=ur+Math.imul(Tr,Bn)|0,Ft=Ft+Math.imul(Tr,wn)|0,Ft=Ft+Math.imul(Kr,Bn)|0,yr=yr+Math.imul(Kr,wn)|0,ur=ur+Math.imul(qr,On)|0,Ft=Ft+Math.imul(qr,Sn)|0,Ft=Ft+Math.imul(Rr,On)|0,yr=yr+Math.imul(Rr,Sn)|0;var Vn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,ur=Math.imul(on,Xr),Ft=Math.imul(on,Fr),Ft=Ft+Math.imul(Hr,Xr)|0,yr=Math.imul(Hr,Fr),ur=ur+Math.imul(dn,vn)|0,Ft=Ft+Math.imul(dn,ln)|0,Ft=Ft+Math.imul(cn,vn)|0,yr=yr+Math.imul(cn,ln)|0,ur=ur+Math.imul(nn,sn)|0,Ft=Ft+Math.imul(nn,_n)|0,Ft=Ft+Math.imul(un,sn)|0,yr=yr+Math.imul(un,_n)|0,ur=ur+Math.imul(en,xn)|0,Ft=Ft+Math.imul(en,$n)|0,Ft=Ft+Math.imul(rn,xn)|0,yr=yr+Math.imul(rn,$n)|0,ur=ur+Math.imul(Br,Bn)|0,Ft=Ft+Math.imul(Br,wn)|0,Ft=Ft+Math.imul(Mr,Bn)|0,yr=yr+Math.imul(Mr,wn)|0,ur=ur+Math.imul(Tr,On)|0,Ft=Ft+Math.imul(Tr,Sn)|0,Ft=Ft+Math.imul(Kr,On)|0,yr=yr+Math.imul(Kr,Sn)|0,ur=ur+Math.imul(qr,Tn)|0,Ft=Ft+Math.imul(qr,En)|0,Ft=Ft+Math.imul(Rr,Tn)|0,yr=yr+Math.imul(Rr,En)|0;var Jn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,ur=Math.imul(gn,Xr),Ft=Math.imul(gn,Fr),Ft=Ft+Math.imul(mn,Xr)|0,yr=Math.imul(mn,Fr),ur=ur+Math.imul(on,vn)|0,Ft=Ft+Math.imul(on,ln)|0,Ft=Ft+Math.imul(Hr,vn)|0,yr=yr+Math.imul(Hr,ln)|0,ur=ur+Math.imul(dn,sn)|0,Ft=Ft+Math.imul(dn,_n)|0,Ft=Ft+Math.imul(cn,sn)|0,yr=yr+Math.imul(cn,_n)|0,ur=ur+Math.imul(nn,xn)|0,Ft=Ft+Math.imul(nn,$n)|0,Ft=Ft+Math.imul(un,xn)|0,yr=yr+Math.imul(un,$n)|0,ur=ur+Math.imul(en,Bn)|0,Ft=Ft+Math.imul(en,wn)|0,Ft=Ft+Math.imul(rn,Bn)|0,yr=yr+Math.imul(rn,wn)|0,ur=ur+Math.imul(Br,On)|0,Ft=Ft+Math.imul(Br,Sn)|0,Ft=Ft+Math.imul(Mr,On)|0,yr=yr+Math.imul(Mr,Sn)|0,ur=ur+Math.imul(Tr,Tn)|0,Ft=Ft+Math.imul(Tr,En)|0,Ft=Ft+Math.imul(Kr,Tn)|0,yr=yr+Math.imul(Kr,En)|0,ur=ur+Math.imul(qr,Pn)|0,Ft=Ft+Math.imul(qr,Mn)|0,Ft=Ft+Math.imul(Rr,Pn)|0,yr=yr+Math.imul(Rr,Mn)|0;var Zn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,ur=Math.imul(hn,Xr),Ft=Math.imul(hn,Fr),Ft=Ft+Math.imul(Cr,Xr)|0,yr=Math.imul(Cr,Fr),ur=ur+Math.imul(gn,vn)|0,Ft=Ft+Math.imul(gn,ln)|0,Ft=Ft+Math.imul(mn,vn)|0,yr=yr+Math.imul(mn,ln)|0,ur=ur+Math.imul(on,sn)|0,Ft=Ft+Math.imul(on,_n)|0,Ft=Ft+Math.imul(Hr,sn)|0,yr=yr+Math.imul(Hr,_n)|0,ur=ur+Math.imul(dn,xn)|0,Ft=Ft+Math.imul(dn,$n)|0,Ft=Ft+Math.imul(cn,xn)|0,yr=yr+Math.imul(cn,$n)|0,ur=ur+Math.imul(nn,Bn)|0,Ft=Ft+Math.imul(nn,wn)|0,Ft=Ft+Math.imul(un,Bn)|0,yr=yr+Math.imul(un,wn)|0,ur=ur+Math.imul(en,On)|0,Ft=Ft+Math.imul(en,Sn)|0,Ft=Ft+Math.imul(rn,On)|0,yr=yr+Math.imul(rn,Sn)|0,ur=ur+Math.imul(Br,Tn)|0,Ft=Ft+Math.imul(Br,En)|0,Ft=Ft+Math.imul(Mr,Tn)|0,yr=yr+Math.imul(Mr,En)|0,ur=ur+Math.imul(Tr,Pn)|0,Ft=Ft+Math.imul(Tr,Mn)|0,Ft=Ft+Math.imul(Kr,Pn)|0,yr=yr+Math.imul(Kr,Mn)|0,ur=ur+Math.imul(qr,Cn)|0,Ft=Ft+Math.imul(qr,In)|0,Ft=Ft+Math.imul(Rr,Cn)|0,yr=yr+Math.imul(Rr,In)|0;var Yn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,ur=Math.imul(xr,Xr),Ft=Math.imul(xr,Fr),Ft=Ft+Math.imul(Lr,Xr)|0,yr=Math.imul(Lr,Fr),ur=ur+Math.imul(hn,vn)|0,Ft=Ft+Math.imul(hn,ln)|0,Ft=Ft+Math.imul(Cr,vn)|0,yr=yr+Math.imul(Cr,ln)|0,ur=ur+Math.imul(gn,sn)|0,Ft=Ft+Math.imul(gn,_n)|0,Ft=Ft+Math.imul(mn,sn)|0,yr=yr+Math.imul(mn,_n)|0,ur=ur+Math.imul(on,xn)|0,Ft=Ft+Math.imul(on,$n)|0,Ft=Ft+Math.imul(Hr,xn)|0,yr=yr+Math.imul(Hr,$n)|0,ur=ur+Math.imul(dn,Bn)|0,Ft=Ft+Math.imul(dn,wn)|0,Ft=Ft+Math.imul(cn,Bn)|0,yr=yr+Math.imul(cn,wn)|0,ur=ur+Math.imul(nn,On)|0,Ft=Ft+Math.imul(nn,Sn)|0,Ft=Ft+Math.imul(un,On)|0,yr=yr+Math.imul(un,Sn)|0,ur=ur+Math.imul(en,Tn)|0,Ft=Ft+Math.imul(en,En)|0,Ft=Ft+Math.imul(rn,Tn)|0,yr=yr+Math.imul(rn,En)|0,ur=ur+Math.imul(Br,Pn)|0,Ft=Ft+Math.imul(Br,Mn)|0,Ft=Ft+Math.imul(Mr,Pn)|0,yr=yr+Math.imul(Mr,Mn)|0,ur=ur+Math.imul(Tr,Cn)|0,Ft=Ft+Math.imul(Tr,In)|0,Ft=Ft+Math.imul(Kr,Cn)|0,yr=yr+Math.imul(Kr,In)|0,ur=ur+Math.imul(qr,Rn)|0,Ft=Ft+Math.imul(qr,kn)|0,Ft=Ft+Math.imul(Rr,Rn)|0,yr=yr+Math.imul(Rr,kn)|0;var Xn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,ur=Math.imul(xr,vn),Ft=Math.imul(xr,ln),Ft=Ft+Math.imul(Lr,vn)|0,yr=Math.imul(Lr,ln),ur=ur+Math.imul(hn,sn)|0,Ft=Ft+Math.imul(hn,_n)|0,Ft=Ft+Math.imul(Cr,sn)|0,yr=yr+Math.imul(Cr,_n)|0,ur=ur+Math.imul(gn,xn)|0,Ft=Ft+Math.imul(gn,$n)|0,Ft=Ft+Math.imul(mn,xn)|0,yr=yr+Math.imul(mn,$n)|0,ur=ur+Math.imul(on,Bn)|0,Ft=Ft+Math.imul(on,wn)|0,Ft=Ft+Math.imul(Hr,Bn)|0,yr=yr+Math.imul(Hr,wn)|0,ur=ur+Math.imul(dn,On)|0,Ft=Ft+Math.imul(dn,Sn)|0,Ft=Ft+Math.imul(cn,On)|0,yr=yr+Math.imul(cn,Sn)|0,ur=ur+Math.imul(nn,Tn)|0,Ft=Ft+Math.imul(nn,En)|0,Ft=Ft+Math.imul(un,Tn)|0,yr=yr+Math.imul(un,En)|0,ur=ur+Math.imul(en,Pn)|0,Ft=Ft+Math.imul(en,Mn)|0,Ft=Ft+Math.imul(rn,Pn)|0,yr=yr+Math.imul(rn,Mn)|0,ur=ur+Math.imul(Br,Cn)|0,Ft=Ft+Math.imul(Br,In)|0,Ft=Ft+Math.imul(Mr,Cn)|0,yr=yr+Math.imul(Mr,In)|0,ur=ur+Math.imul(Tr,Rn)|0,Ft=Ft+Math.imul(Tr,kn)|0,Ft=Ft+Math.imul(Kr,Rn)|0,yr=yr+Math.imul(Kr,kn)|0;var Qn=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,ur=Math.imul(xr,sn),Ft=Math.imul(xr,_n),Ft=Ft+Math.imul(Lr,sn)|0,yr=Math.imul(Lr,_n),ur=ur+Math.imul(hn,xn)|0,Ft=Ft+Math.imul(hn,$n)|0,Ft=Ft+Math.imul(Cr,xn)|0,yr=yr+Math.imul(Cr,$n)|0,ur=ur+Math.imul(gn,Bn)|0,Ft=Ft+Math.imul(gn,wn)|0,Ft=Ft+Math.imul(mn,Bn)|0,yr=yr+Math.imul(mn,wn)|0,ur=ur+Math.imul(on,On)|0,Ft=Ft+Math.imul(on,Sn)|0,Ft=Ft+Math.imul(Hr,On)|0,yr=yr+Math.imul(Hr,Sn)|0,ur=ur+Math.imul(dn,Tn)|0,Ft=Ft+Math.imul(dn,En)|0,Ft=Ft+Math.imul(cn,Tn)|0,yr=yr+Math.imul(cn,En)|0,ur=ur+Math.imul(nn,Pn)|0,Ft=Ft+Math.imul(nn,Mn)|0,Ft=Ft+Math.imul(un,Pn)|0,yr=yr+Math.imul(un,Mn)|0,ur=ur+Math.imul(en,Cn)|0,Ft=Ft+Math.imul(en,In)|0,Ft=Ft+Math.imul(rn,Cn)|0,yr=yr+Math.imul(rn,In)|0,ur=ur+Math.imul(Br,Rn)|0,Ft=Ft+Math.imul(Br,kn)|0,Ft=Ft+Math.imul(Mr,Rn)|0,yr=yr+Math.imul(Mr,kn)|0;var ei=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ei>>>26)|0,ei&=67108863,ur=Math.imul(xr,xn),Ft=Math.imul(xr,$n),Ft=Ft+Math.imul(Lr,xn)|0,yr=Math.imul(Lr,$n),ur=ur+Math.imul(hn,Bn)|0,Ft=Ft+Math.imul(hn,wn)|0,Ft=Ft+Math.imul(Cr,Bn)|0,yr=yr+Math.imul(Cr,wn)|0,ur=ur+Math.imul(gn,On)|0,Ft=Ft+Math.imul(gn,Sn)|0,Ft=Ft+Math.imul(mn,On)|0,yr=yr+Math.imul(mn,Sn)|0,ur=ur+Math.imul(on,Tn)|0,Ft=Ft+Math.imul(on,En)|0,Ft=Ft+Math.imul(Hr,Tn)|0,yr=yr+Math.imul(Hr,En)|0,ur=ur+Math.imul(dn,Pn)|0,Ft=Ft+Math.imul(dn,Mn)|0,Ft=Ft+Math.imul(cn,Pn)|0,yr=yr+Math.imul(cn,Mn)|0,ur=ur+Math.imul(nn,Cn)|0,Ft=Ft+Math.imul(nn,In)|0,Ft=Ft+Math.imul(un,Cn)|0,yr=yr+Math.imul(un,In)|0,ur=ur+Math.imul(en,Rn)|0,Ft=Ft+Math.imul(en,kn)|0,Ft=Ft+Math.imul(rn,Rn)|0,yr=yr+Math.imul(rn,kn)|0;var ti=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ti>>>26)|0,ti&=67108863,ur=Math.imul(xr,Bn),Ft=Math.imul(xr,wn),Ft=Ft+Math.imul(Lr,Bn)|0,yr=Math.imul(Lr,wn),ur=ur+Math.imul(hn,On)|0,Ft=Ft+Math.imul(hn,Sn)|0,Ft=Ft+Math.imul(Cr,On)|0,yr=yr+Math.imul(Cr,Sn)|0,ur=ur+Math.imul(gn,Tn)|0,Ft=Ft+Math.imul(gn,En)|0,Ft=Ft+Math.imul(mn,Tn)|0,yr=yr+Math.imul(mn,En)|0,ur=ur+Math.imul(on,Pn)|0,Ft=Ft+Math.imul(on,Mn)|0,Ft=Ft+Math.imul(Hr,Pn)|0,yr=yr+Math.imul(Hr,Mn)|0,ur=ur+Math.imul(dn,Cn)|0,Ft=Ft+Math.imul(dn,In)|0,Ft=Ft+Math.imul(cn,Cn)|0,yr=yr+Math.imul(cn,In)|0,ur=ur+Math.imul(nn,Rn)|0,Ft=Ft+Math.imul(nn,kn)|0,Ft=Ft+Math.imul(un,Rn)|0,yr=yr+Math.imul(un,kn)|0;var ri=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ri>>>26)|0,ri&=67108863,ur=Math.imul(xr,On),Ft=Math.imul(xr,Sn),Ft=Ft+Math.imul(Lr,On)|0,yr=Math.imul(Lr,Sn),ur=ur+Math.imul(hn,Tn)|0,Ft=Ft+Math.imul(hn,En)|0,Ft=Ft+Math.imul(Cr,Tn)|0,yr=yr+Math.imul(Cr,En)|0,ur=ur+Math.imul(gn,Pn)|0,Ft=Ft+Math.imul(gn,Mn)|0,Ft=Ft+Math.imul(mn,Pn)|0,yr=yr+Math.imul(mn,Mn)|0,ur=ur+Math.imul(on,Cn)|0,Ft=Ft+Math.imul(on,In)|0,Ft=Ft+Math.imul(Hr,Cn)|0,yr=yr+Math.imul(Hr,In)|0,ur=ur+Math.imul(dn,Rn)|0,Ft=Ft+Math.imul(dn,kn)|0,Ft=Ft+Math.imul(cn,Rn)|0,yr=yr+Math.imul(cn,kn)|0;var ni=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ni>>>26)|0,ni&=67108863,ur=Math.imul(xr,Tn),Ft=Math.imul(xr,En),Ft=Ft+Math.imul(Lr,Tn)|0,yr=Math.imul(Lr,En),ur=ur+Math.imul(hn,Pn)|0,Ft=Ft+Math.imul(hn,Mn)|0,Ft=Ft+Math.imul(Cr,Pn)|0,yr=yr+Math.imul(Cr,Mn)|0,ur=ur+Math.imul(gn,Cn)|0,Ft=Ft+Math.imul(gn,In)|0,Ft=Ft+Math.imul(mn,Cn)|0,yr=yr+Math.imul(mn,In)|0,ur=ur+Math.imul(on,Rn)|0,Ft=Ft+Math.imul(on,kn)|0,Ft=Ft+Math.imul(Hr,Rn)|0,yr=yr+Math.imul(Hr,kn)|0;var ii=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ii>>>26)|0,ii&=67108863,ur=Math.imul(xr,Pn),Ft=Math.imul(xr,Mn),Ft=Ft+Math.imul(Lr,Pn)|0,yr=Math.imul(Lr,Mn),ur=ur+Math.imul(hn,Cn)|0,Ft=Ft+Math.imul(hn,In)|0,Ft=Ft+Math.imul(Cr,Cn)|0,yr=yr+Math.imul(Cr,In)|0,ur=ur+Math.imul(gn,Rn)|0,Ft=Ft+Math.imul(gn,kn)|0,Ft=Ft+Math.imul(mn,Rn)|0,yr=yr+Math.imul(mn,kn)|0;var oi=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(oi>>>26)|0,oi&=67108863,ur=Math.imul(xr,Cn),Ft=Math.imul(xr,In),Ft=Ft+Math.imul(Lr,Cn)|0,yr=Math.imul(Lr,In),ur=ur+Math.imul(hn,Rn)|0,Ft=Ft+Math.imul(hn,kn)|0,Ft=Ft+Math.imul(Cr,Rn)|0,yr=yr+Math.imul(Cr,kn)|0;var ai=(tr+ur|0)+((Ft&8191)<<13)|0;tr=(yr+(Ft>>>13)|0)+(ai>>>26)|0,ai&=67108863,ur=Math.imul(xr,Rn),Ft=Math.imul(xr,kn),Ft=Ft+Math.imul(Lr,Rn)|0,yr=Math.imul(Lr,kn);var si=(tr+ur|0)+((Ft&8191)<<13)|0;return tr=(yr+(Ft>>>13)|0)+(si>>>26)|0,si&=67108863,vr[0]=Gn,vr[1]=Kn,vr[2]=Hn,vr[3]=Wn,vr[4]=zn,vr[5]=Vn,vr[6]=Jn,vr[7]=Zn,vr[8]=Yn,vr[9]=Xn,vr[10]=Qn,vr[11]=ei,vr[12]=ti,vr[13]=ri,vr[14]=ni,vr[15]=ii,vr[16]=oi,vr[17]=ai,vr[18]=si,tr!==0&&(vr[19]=tr,or.length++),or};Math.imul||(Sr=_r);function Or(Vt,ht,Ct){Ct.negative=ht.negative^Vt.negative,Ct.length=Vt.length+ht.length;for(var or=0,pr=0,lr=0;lr<Ct.length-1;lr++){var vr=pr;pr=0;for(var tr=or&67108863,ur=Math.min(lr,ht.length-1),Ft=Math.max(0,lr-Vt.length+1);Ft<=ur;Ft++){var yr=lr-Ft,Nr=Vt.words[yr]|0,qr=ht.words[Ft]|0,Rr=Nr*qr,Ar=Rr&67108863;vr=vr+(Rr/67108864|0)|0,Ar=Ar+tr|0,tr=Ar&67108863,vr=vr+(Ar>>>26)|0,pr+=vr>>>26,vr&=67108863}Ct.words[lr]=tr,or=vr,vr=pr}return or!==0?Ct.words[lr]=or:Ct.length--,Ct._strip()}function Pr(Vt,ht,Ct){return Or(Vt,ht,Ct)}Je.prototype.mulTo=function(ht,Ct){var or,pr=this.length+ht.length;return this.length===10&&ht.length===10?or=Sr(this,ht,Ct):pr<63?or=_r(this,ht,Ct):pr<1024?or=Or(this,ht,Ct):or=Pr(this,ht,Ct),or},Je.prototype.mul=function(ht){var Ct=new Je(null);return Ct.words=new Array(this.length+ht.length),this.mulTo(ht,Ct)},Je.prototype.mulf=function(ht){var Ct=new Je(null);return Ct.words=new Array(this.length+ht.length),Pr(this,ht,Ct)},Je.prototype.imul=function(ht){return this.clone().mulTo(ht,this)},Je.prototype.imuln=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(typeof ht=="number"),Ne(ht<67108864);for(var or=0,pr=0;pr<this.length;pr++){var lr=(this.words[pr]|0)*ht,vr=(lr&67108863)+(or&67108863);or>>=26,or+=lr/67108864|0,or+=vr>>>26,this.words[pr]=vr&67108863}return or!==0&&(this.words[pr]=or,this.length++),this.length=ht===0?1:this.length,Ct?this.ineg():this},Je.prototype.muln=function(ht){return this.clone().imuln(ht)},Je.prototype.sqr=function(){return this.mul(this)},Je.prototype.isqr=function(){return this.imul(this.clone())},Je.prototype.pow=function(ht){var Ct=Er(ht);if(Ct.length===0)return new Je(1);for(var or=this,pr=0;pr<Ct.length&&Ct[pr]===0;pr++,or=or.sqr());if(++pr<Ct.length)for(var lr=or.sqr();pr<Ct.length;pr++,lr=lr.sqr())Ct[pr]!==0&&(or=or.mul(lr));return or},Je.prototype.iushln=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26,pr=67108863>>>26-Ct<<26-Ct,lr;if(Ct!==0){var vr=0;for(lr=0;lr<this.length;lr++){var tr=this.words[lr]&pr,ur=(this.words[lr]|0)-tr<<Ct;this.words[lr]=ur|vr,vr=tr>>>26-Ct}vr&&(this.words[lr]=vr,this.length++)}if(or!==0){for(lr=this.length-1;lr>=0;lr--)this.words[lr+or]=this.words[lr];for(lr=0;lr<or;lr++)this.words[lr]=0;this.length+=or}return this._strip()},Je.prototype.ishln=function(ht){return Ne(this.negative===0),this.iushln(ht)},Je.prototype.iushrn=function(ht,Ct,or){Ne(typeof ht=="number"&&ht>=0);var pr;Ct?pr=(Ct-Ct%26)/26:pr=0;var lr=ht%26,vr=Math.min((ht-lr)/26,this.length),tr=67108863^67108863>>>lr<<lr,ur=or;if(pr-=vr,pr=Math.max(0,pr),ur){for(var Ft=0;Ft<vr;Ft++)ur.words[Ft]=this.words[Ft];ur.length=vr}if(vr!==0)if(this.length>vr)for(this.length-=vr,Ft=0;Ft<this.length;Ft++)this.words[Ft]=this.words[Ft+vr];else this.words[0]=0,this.length=1;var yr=0;for(Ft=this.length-1;Ft>=0&&(yr!==0||Ft>=pr);Ft--){var Nr=this.words[Ft]|0;this.words[Ft]=yr<<26-lr|Nr>>>lr,yr=Nr&tr}return ur&&yr!==0&&(ur.words[ur.length++]=yr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Je.prototype.ishrn=function(ht,Ct,or){return Ne(this.negative===0),this.iushrn(ht,Ct,or)},Je.prototype.shln=function(ht){return this.clone().ishln(ht)},Je.prototype.ushln=function(ht){return this.clone().iushln(ht)},Je.prototype.shrn=function(ht){return this.clone().ishrn(ht)},Je.prototype.ushrn=function(ht){return this.clone().iushrn(ht)},Je.prototype.testn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26,pr=1<<Ct;if(this.length<=or)return!1;var lr=this.words[or];return!!(lr&pr)},Je.prototype.imaskn=function(ht){Ne(typeof ht=="number"&&ht>=0);var Ct=ht%26,or=(ht-Ct)/26;if(Ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=or)return this;if(Ct!==0&&or++,this.length=Math.min(or,this.length),Ct!==0){var pr=67108863^67108863>>>Ct<<Ct;this.words[this.length-1]&=pr}return this._strip()},Je.prototype.maskn=function(ht){return this.clone().imaskn(ht)},Je.prototype.iaddn=function(ht){return Ne(typeof ht=="number"),Ne(ht<67108864),ht<0?this.isubn(-ht):this.negative!==0?this.length===1&&(this.words[0]|0)<=ht?(this.words[0]=ht-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ht),this.negative=1,this):this._iaddn(ht)},Je.prototype._iaddn=function(ht){this.words[0]+=ht;for(var Ct=0;Ct<this.length&&this.words[Ct]>=67108864;Ct++)this.words[Ct]-=67108864,Ct===this.length-1?this.words[Ct+1]=1:this.words[Ct+1]++;return this.length=Math.max(this.length,Ct+1),this},Je.prototype.isubn=function(ht){if(Ne(typeof ht=="number"),Ne(ht<67108864),ht<0)return this.iaddn(-ht);if(this.negative!==0)return this.negative=0,this.iaddn(ht),this.negative=1,this;if(this.words[0]-=ht,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ct=0;Ct<this.length&&this.words[Ct]<0;Ct++)this.words[Ct]+=67108864,this.words[Ct+1]-=1;return this._strip()},Je.prototype.addn=function(ht){return this.clone().iaddn(ht)},Je.prototype.subn=function(ht){return this.clone().isubn(ht)},Je.prototype.iabs=function(){return this.negative=0,this},Je.prototype.abs=function(){return this.clone().iabs()},Je.prototype._ishlnsubmul=function(ht,Ct,or){var pr=ht.length+or,lr;this._expand(pr);var vr,tr=0;for(lr=0;lr<ht.length;lr++){vr=(this.words[lr+or]|0)+tr;var ur=(ht.words[lr]|0)*Ct;vr-=ur&67108863,tr=(vr>>26)-(ur/67108864|0),this.words[lr+or]=vr&67108863}for(;lr<this.length-or;lr++)vr=(this.words[lr+or]|0)+tr,tr=vr>>26,this.words[lr+or]=vr&67108863;if(tr===0)return this._strip();for(Ne(tr===-1),tr=0,lr=0;lr<this.length;lr++)vr=-(this.words[lr]|0)+tr,tr=vr>>26,this.words[lr]=vr&67108863;return this.negative=1,this._strip()},Je.prototype._wordDiv=function(ht,Ct){var or=this.length-ht.length,pr=this.clone(),lr=ht,vr=lr.words[lr.length-1]|0,tr=this._countBits(vr);or=26-tr,or!==0&&(lr=lr.ushln(or),pr.iushln(or),vr=lr.words[lr.length-1]|0);var ur=pr.length-lr.length,Ft;if(Ct!=="mod"){Ft=new Je(null),Ft.length=ur+1,Ft.words=new Array(Ft.length);for(var yr=0;yr<Ft.length;yr++)Ft.words[yr]=0}var Nr=pr.clone()._ishlnsubmul(lr,1,ur);Nr.negative===0&&(pr=Nr,Ft&&(Ft.words[ur]=1));for(var qr=ur-1;qr>=0;qr--){var Rr=(pr.words[lr.length+qr]|0)*67108864+(pr.words[lr.length+qr-1]|0);for(Rr=Math.min(Rr/vr|0,67108863),pr._ishlnsubmul(lr,Rr,qr);pr.negative!==0;)Rr--,pr.negative=0,pr._ishlnsubmul(lr,1,qr),pr.isZero()||(pr.negative^=1);Ft&&(Ft.words[qr]=Rr)}return Ft&&Ft._strip(),pr._strip(),Ct!=="div"&&or!==0&&pr.iushrn(or),{div:Ft||null,mod:pr}},Je.prototype.divmod=function(ht,Ct,or){if(Ne(!ht.isZero()),this.isZero())return{div:new Je(0),mod:new Je(0)};var pr,lr,vr;return this.negative!==0&&ht.negative===0?(vr=this.neg().divmod(ht,Ct),Ct!=="mod"&&(pr=vr.div.neg()),Ct!=="div"&&(lr=vr.mod.neg(),or&&lr.negative!==0&&lr.iadd(ht)),{div:pr,mod:lr}):this.negative===0&&ht.negative!==0?(vr=this.divmod(ht.neg(),Ct),Ct!=="mod"&&(pr=vr.div.neg()),{div:pr,mod:vr.mod}):this.negative&ht.negative?(vr=this.neg().divmod(ht.neg(),Ct),Ct!=="div"&&(lr=vr.mod.neg(),or&&lr.negative!==0&&lr.isub(ht)),{div:vr.div,mod:lr}):ht.length>this.length||this.cmp(ht)<0?{div:new Je(0),mod:this}:ht.length===1?Ct==="div"?{div:this.divn(ht.words[0]),mod:null}:Ct==="mod"?{div:null,mod:new Je(this.modrn(ht.words[0]))}:{div:this.divn(ht.words[0]),mod:new Je(this.modrn(ht.words[0]))}:this._wordDiv(ht,Ct)},Je.prototype.div=function(ht){return this.divmod(ht,"div",!1).div},Je.prototype.mod=function(ht){return this.divmod(ht,"mod",!1).mod},Je.prototype.umod=function(ht){return this.divmod(ht,"mod",!0).mod},Je.prototype.divRound=function(ht){var Ct=this.divmod(ht);if(Ct.mod.isZero())return Ct.div;var or=Ct.div.negative!==0?Ct.mod.isub(ht):Ct.mod,pr=ht.ushrn(1),lr=ht.andln(1),vr=or.cmp(pr);return vr<0||lr===1&&vr===0?Ct.div:Ct.div.negative!==0?Ct.div.isubn(1):Ct.div.iaddn(1)},Je.prototype.modrn=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(ht<=67108863);for(var or=(1<<26)%ht,pr=0,lr=this.length-1;lr>=0;lr--)pr=(or*pr+(this.words[lr]|0))%ht;return Ct?-pr:pr},Je.prototype.modn=function(ht){return this.modrn(ht)},Je.prototype.idivn=function(ht){var Ct=ht<0;Ct&&(ht=-ht),Ne(ht<=67108863);for(var or=0,pr=this.length-1;pr>=0;pr--){var lr=(this.words[pr]|0)+or*67108864;this.words[pr]=lr/ht|0,or=lr%ht}return this._strip(),Ct?this.ineg():this},Je.prototype.divn=function(ht){return this.clone().idivn(ht)},Je.prototype.egcd=function(ht){Ne(ht.negative===0),Ne(!ht.isZero());var Ct=this,or=ht.clone();Ct.negative!==0?Ct=Ct.umod(ht):Ct=Ct.clone();for(var pr=new Je(1),lr=new Je(0),vr=new Je(0),tr=new Je(1),ur=0;Ct.isEven()&&or.isEven();)Ct.iushrn(1),or.iushrn(1),++ur;for(var Ft=or.clone(),yr=Ct.clone();!Ct.isZero();){for(var Nr=0,qr=1;!(Ct.words[0]&qr)&&Nr<26;++Nr,qr<<=1);if(Nr>0)for(Ct.iushrn(Nr);Nr-- >0;)(pr.isOdd()||lr.isOdd())&&(pr.iadd(Ft),lr.isub(yr)),pr.iushrn(1),lr.iushrn(1);for(var Rr=0,Ar=1;!(or.words[0]&Ar)&&Rr<26;++Rr,Ar<<=1);if(Rr>0)for(or.iushrn(Rr);Rr-- >0;)(vr.isOdd()||tr.isOdd())&&(vr.iadd(Ft),tr.isub(yr)),vr.iushrn(1),tr.iushrn(1);Ct.cmp(or)>=0?(Ct.isub(or),pr.isub(vr),lr.isub(tr)):(or.isub(Ct),vr.isub(pr),tr.isub(lr))}return{a:vr,b:tr,gcd:or.iushln(ur)}},Je.prototype._invmp=function(ht){Ne(ht.negative===0),Ne(!ht.isZero());var Ct=this,or=ht.clone();Ct.negative!==0?Ct=Ct.umod(ht):Ct=Ct.clone();for(var pr=new Je(1),lr=new Je(0),vr=or.clone();Ct.cmpn(1)>0&&or.cmpn(1)>0;){for(var tr=0,ur=1;!(Ct.words[0]&ur)&&tr<26;++tr,ur<<=1);if(tr>0)for(Ct.iushrn(tr);tr-- >0;)pr.isOdd()&&pr.iadd(vr),pr.iushrn(1);for(var Ft=0,yr=1;!(or.words[0]&yr)&&Ft<26;++Ft,yr<<=1);if(Ft>0)for(or.iushrn(Ft);Ft-- >0;)lr.isOdd()&&lr.iadd(vr),lr.iushrn(1);Ct.cmp(or)>=0?(Ct.isub(or),pr.isub(lr)):(or.isub(Ct),lr.isub(pr))}var Nr;return Ct.cmpn(1)===0?Nr=pr:Nr=lr,Nr.cmpn(0)<0&&Nr.iadd(ht),Nr},Je.prototype.gcd=function(ht){if(this.isZero())return ht.abs();if(ht.isZero())return this.abs();var Ct=this.clone(),or=ht.clone();Ct.negative=0,or.negative=0;for(var pr=0;Ct.isEven()&&or.isEven();pr++)Ct.iushrn(1),or.iushrn(1);do{for(;Ct.isEven();)Ct.iushrn(1);for(;or.isEven();)or.iushrn(1);var lr=Ct.cmp(or);if(lr<0){var vr=Ct;Ct=or,or=vr}else if(lr===0||or.cmpn(1)===0)break;Ct.isub(or)}while(!0);return or.iushln(pr)},Je.prototype.invm=function(ht){return this.egcd(ht).a.umod(ht)},Je.prototype.isEven=function(){return(this.words[0]&1)===0},Je.prototype.isOdd=function(){return(this.words[0]&1)===1},Je.prototype.andln=function(ht){return this.words[0]&ht},Je.prototype.bincn=function(ht){Ne(typeof ht=="number");var Ct=ht%26,or=(ht-Ct)/26,pr=1<<Ct;if(this.length<=or)return this._expand(or+1),this.words[or]|=pr,this;for(var lr=pr,vr=or;lr!==0&&vr<this.length;vr++){var tr=this.words[vr]|0;tr+=lr,lr=tr>>>26,tr&=67108863,this.words[vr]=tr}return lr!==0&&(this.words[vr]=lr,this.length++),this},Je.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Je.prototype.cmpn=function(ht){var Ct=ht<0;if(this.negative!==0&&!Ct)return-1;if(this.negative===0&&Ct)return 1;this._strip();var or;if(this.length>1)or=1;else{Ct&&(ht=-ht),Ne(ht<=67108863,"Number is too big");var pr=this.words[0]|0;or=pr===ht?0:pr<ht?-1:1}return this.negative!==0?-or|0:or},Je.prototype.cmp=function(ht){if(this.negative!==0&&ht.negative===0)return-1;if(this.negative===0&&ht.negative!==0)return 1;var Ct=this.ucmp(ht);return this.negative!==0?-Ct|0:Ct},Je.prototype.ucmp=function(ht){if(this.length>ht.length)return 1;if(this.length<ht.length)return-1;for(var Ct=0,or=this.length-1;or>=0;or--){var pr=this.words[or]|0,lr=ht.words[or]|0;if(pr!==lr){pr<lr?Ct=-1:pr>lr&&(Ct=1);break}}return Ct},Je.prototype.gtn=function(ht){return this.cmpn(ht)===1},Je.prototype.gt=function(ht){return this.cmp(ht)===1},Je.prototype.gten=function(ht){return this.cmpn(ht)>=0},Je.prototype.gte=function(ht){return this.cmp(ht)>=0},Je.prototype.ltn=function(ht){return this.cmpn(ht)===-1},Je.prototype.lt=function(ht){return this.cmp(ht)===-1},Je.prototype.lten=function(ht){return this.cmpn(ht)<=0},Je.prototype.lte=function(ht){return this.cmp(ht)<=0},Je.prototype.eqn=function(ht){return this.cmpn(ht)===0},Je.prototype.eq=function(ht){return this.cmp(ht)===0},Je.red=function(ht){return new Ir(ht)},Je.prototype.toRed=function(ht){return Ne(!this.red,"Already a number in reduction context"),Ne(this.negative===0,"red works only with positives"),ht.convertTo(this)._forceRed(ht)},Je.prototype.fromRed=function(){return Ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Je.prototype._forceRed=function(ht){return this.red=ht,this},Je.prototype.forceRed=function(ht){return Ne(!this.red,"Already a number in reduction context"),this._forceRed(ht)},Je.prototype.redAdd=function(ht){return Ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ht)},Je.prototype.redIAdd=function(ht){return Ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ht)},Je.prototype.redSub=function(ht){return Ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ht)},Je.prototype.redISub=function(ht){return Ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ht)},Je.prototype.redShl=function(ht){return Ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ht)},Je.prototype.redMul=function(ht){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ht),this.red.mul(this,ht)},Je.prototype.redIMul=function(ht){return Ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ht),this.red.imul(this,ht)},Je.prototype.redSqr=function(){return Ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Je.prototype.redISqr=function(){return Ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Je.prototype.redSqrt=function(){return Ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Je.prototype.redInvm=function(){return Ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Je.prototype.redNeg=function(){return Ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Je.prototype.redPow=function(ht){return Ne(this.red&&!ht.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ht)};var kr={k256:null,p224:null,p192:null,p25519:null};function Ur(Vt,ht){this.name=Vt,this.p=new Je(ht,16),this.n=this.p.bitLength(),this.k=new Je(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ur.prototype._tmp=function(){var ht=new Je(null);return ht.words=new Array(Math.ceil(this.n/13)),ht},Ur.prototype.ireduce=function(ht){var Ct=ht,or;do this.split(Ct,this.tmp),Ct=this.imulK(Ct),Ct=Ct.iadd(this.tmp),or=Ct.bitLength();while(or>this.n);var pr=or<this.n?-1:Ct.ucmp(this.p);return pr===0?(Ct.words[0]=0,Ct.length=1):pr>0?Ct.isub(this.p):Ct.strip!==void 0?Ct.strip():Ct._strip(),Ct},Ur.prototype.split=function(ht,Ct){ht.iushrn(this.n,0,Ct)},Ur.prototype.imulK=function(ht){return ht.imul(this.k)};function Yr(){Ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ze(Yr,Ur),Yr.prototype.split=function(ht,Ct){for(var or=4194303,pr=Math.min(ht.length,9),lr=0;lr<pr;lr++)Ct.words[lr]=ht.words[lr];if(Ct.length=pr,ht.length<=9){ht.words[0]=0,ht.length=1;return}var vr=ht.words[9];for(Ct.words[Ct.length++]=vr&or,lr=10;lr<ht.length;lr++){var tr=ht.words[lr]|0;ht.words[lr-10]=(tr&or)<<4|vr>>>22,vr=tr}vr>>>=22,ht.words[lr-10]=vr,vr===0&&ht.length>10?ht.length-=10:ht.length-=9},Yr.prototype.imulK=function(ht){ht.words[ht.length]=0,ht.words[ht.length+1]=0,ht.length+=2;for(var Ct=0,or=0;or<ht.length;or++){var pr=ht.words[or]|0;Ct+=pr*977,ht.words[or]=Ct&67108863,Ct=pr*64+(Ct/67108864|0)}return ht.words[ht.length-1]===0&&(ht.length--,ht.words[ht.length-1]===0&&ht.length--),ht};function jr(){Ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ze(jr,Ur);function Dr(){Ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ze(Dr,Ur);function Vr(){Ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ze(Vr,Ur),Vr.prototype.imulK=function(ht){for(var Ct=0,or=0;or<ht.length;or++){var pr=(ht.words[or]|0)*19+Ct,lr=pr&67108863;pr>>>=26,ht.words[or]=lr,Ct=pr}return Ct!==0&&(ht.words[ht.length++]=Ct),ht},Je._prime=function(ht){if(kr[ht])return kr[ht];var Ct;if(ht==="k256")Ct=new Yr;else if(ht==="p224")Ct=new jr;else if(ht==="p192")Ct=new Dr;else if(ht==="p25519")Ct=new Vr;else throw new Error("Unknown prime "+ht);return kr[ht]=Ct,Ct};function Ir(Vt){if(typeof Vt=="string"){var ht=Je._prime(Vt);this.m=ht.p,this.prime=ht}else Ne(Vt.gtn(1),"modulus must be greater than 1"),this.m=Vt,this.prime=null}Ir.prototype._verify1=function(ht){Ne(ht.negative===0,"red works only with positives"),Ne(ht.red,"red works only with red numbers")},Ir.prototype._verify2=function(ht,Ct){Ne((ht.negative|Ct.negative)===0,"red works only with positives"),Ne(ht.red&&ht.red===Ct.red,"red works only with red numbers")},Ir.prototype.imod=function(ht){return this.prime?this.prime.ireduce(ht)._forceRed(this):(mt(ht,ht.umod(this.m)._forceRed(this)),ht)},Ir.prototype.neg=function(ht){return ht.isZero()?ht.clone():this.m.sub(ht)._forceRed(this)},Ir.prototype.add=function(ht,Ct){this._verify2(ht,Ct);var or=ht.add(Ct);return or.cmp(this.m)>=0&&or.isub(this.m),or._forceRed(this)},Ir.prototype.iadd=function(ht,Ct){this._verify2(ht,Ct);var or=ht.iadd(Ct);return or.cmp(this.m)>=0&&or.isub(this.m),or},Ir.prototype.sub=function(ht,Ct){this._verify2(ht,Ct);var or=ht.sub(Ct);return or.cmpn(0)<0&&or.iadd(this.m),or._forceRed(this)},Ir.prototype.isub=function(ht,Ct){this._verify2(ht,Ct);var or=ht.isub(Ct);return or.cmpn(0)<0&&or.iadd(this.m),or},Ir.prototype.shl=function(ht,Ct){return this._verify1(ht),this.imod(ht.ushln(Ct))},Ir.prototype.imul=function(ht,Ct){return this._verify2(ht,Ct),this.imod(ht.imul(Ct))},Ir.prototype.mul=function(ht,Ct){return this._verify2(ht,Ct),this.imod(ht.mul(Ct))},Ir.prototype.isqr=function(ht){return this.imul(ht,ht.clone())},Ir.prototype.sqr=function(ht){return this.mul(ht,ht)},Ir.prototype.sqrt=function(ht){if(ht.isZero())return ht.clone();var Ct=this.m.andln(3);if(Ne(Ct%2===1),Ct===3){var or=this.m.add(new Je(1)).iushrn(2);return this.pow(ht,or)}for(var pr=this.m.subn(1),lr=0;!pr.isZero()&&pr.andln(1)===0;)lr++,pr.iushrn(1);Ne(!pr.isZero());var vr=new Je(1).toRed(this),tr=vr.redNeg(),ur=this.m.subn(1).iushrn(1),Ft=this.m.bitLength();for(Ft=new Je(2*Ft*Ft).toRed(this);this.pow(Ft,ur).cmp(tr)!==0;)Ft.redIAdd(tr);for(var yr=this.pow(Ft,pr),Nr=this.pow(ht,pr.addn(1).iushrn(1)),qr=this.pow(ht,pr),Rr=lr;qr.cmp(vr)!==0;){for(var Ar=qr,Tr=0;Ar.cmp(vr)!==0;Tr++)Ar=Ar.redSqr();Ne(Tr<Rr);var Kr=this.pow(yr,new Je(1).iushln(Rr-Tr-1));Nr=Nr.redMul(Kr),yr=Kr.redSqr(),qr=qr.redMul(yr),Rr=Tr}return Nr},Ir.prototype.invm=function(ht){var Ct=ht._invmp(this.m);return Ct.negative!==0?(Ct.negative=0,this.imod(Ct).redNeg()):this.imod(Ct)},Ir.prototype.pow=function(ht,Ct){if(Ct.isZero())return new Je(1).toRed(this);if(Ct.cmpn(1)===0)return ht.clone();var or=4,pr=new Array(1<<or);pr[0]=new Je(1).toRed(this),pr[1]=ht;for(var lr=2;lr<pr.length;lr++)pr[lr]=this.mul(pr[lr-1],ht);var vr=pr[0],tr=0,ur=0,Ft=Ct.bitLength()%26;for(Ft===0&&(Ft=26),lr=Ct.length-1;lr>=0;lr--){for(var yr=Ct.words[lr],Nr=Ft-1;Nr>=0;Nr--){var qr=yr>>Nr&1;if(vr!==pr[0]&&(vr=this.sqr(vr)),qr===0&&tr===0){ur=0;continue}tr<<=1,tr|=qr,ur++,!(ur!==or&&(lr!==0||Nr!==0))&&(vr=this.mul(vr,pr[tr]),ur=0,tr=0)}Ft=26}return vr},Ir.prototype.convertTo=function(ht){var Ct=ht.umod(this.m);return Ct===ht?Ct.clone():Ct},Ir.prototype.convertFrom=function(ht){var Ct=ht.clone();return Ct.red=null,Ct},Je.mont=function(ht){return new br(ht)};function br(Vt){Ir.call(this,Vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Je(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ze(br,Ir),br.prototype.convertTo=function(ht){return this.imod(ht.ushln(this.shift))},br.prototype.convertFrom=function(ht){var Ct=this.imod(ht.mul(this.rinv));return Ct.red=null,Ct},br.prototype.imul=function(ht,Ct){if(ht.isZero()||Ct.isZero())return ht.words[0]=0,ht.length=1,ht;var or=ht.imul(Ct),pr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=or.isub(pr).iushrn(this.shift),vr=lr;return lr.cmp(this.m)>=0?vr=lr.isub(this.m):lr.cmpn(0)<0&&(vr=lr.iadd(this.m)),vr._forceRed(this)},br.prototype.mul=function(ht,Ct){if(ht.isZero()||Ct.isZero())return new Je(0)._forceRed(this);var or=ht.mul(Ct),pr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=or.isub(pr).iushrn(this.shift),vr=lr;return lr.cmp(this.m)>=0?vr=lr.isub(this.m):lr.cmpn(0)<0&&(vr=lr.iadd(this.m)),vr._forceRed(this)},br.prototype.invm=function(ht){var Ct=this.imod(ht._invmp(this.m).mul(this.r2));return Ct._forceRed(this)}})(pe,commonjsGlobal$1)}(bn);var bnExports=bn.exports,asn1$3={},asn1$2={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(pe,ge){if(pe.indexOf)return pe.indexOf(ge);for(var Se=0;Se<pe.length;Se++)if(pe[Se]===ge)return Se;return-1},Object_keys=function(pe){if(Object.keys)return Object.keys(pe);var ge=[];for(var Se in pe)ge.push(Se);return ge},forEach=function(pe,ge){if(pe.forEach)return pe.forEach(ge);for(var Se=0;Se<pe.length;Se++)ge(pe[Se],Se,pe)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(pe,ge,Se){Object.defineProperty(pe,ge,{writable:!0,enumerable:!1,configurable:!0,value:Se})}}catch{return function(ge,Se,Ne){ge[Se]=Ne}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(ge){if(!(this instanceof Script))return new Script(ge);this.code=ge};Script.prototype.runInContext=function(pe){if(!(pe instanceof Context))throw new TypeError("needs a 'context' argument.");var ge=document.createElement("iframe");ge.style||(ge.style={}),ge.style.display="none",document.body.appendChild(ge);var Se=ge.contentWindow,Ne=Se.eval,Ze=Se.execScript;!Ne&&Ze&&(Ze.call(Se,"null"),Ne=Se.eval),forEach(Object_keys(pe),function(vt){Se[vt]=pe[vt]}),forEach(globals,function(vt){pe[vt]&&(Se[vt]=pe[vt])});var Je=Object_keys(Se),Xe=Ne.call(Se,this.code);return forEach(Object_keys(Se),function(vt){(vt in pe||indexOf(Je,vt)===-1)&&(pe[vt]=Se[vt])}),forEach(globals,function(vt){vt in pe||defineProp(pe,vt,Se[vt])}),document.body.removeChild(ge),Xe},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(pe){var ge=Script.createContext(pe),Se=this.runInContext(ge);return pe&&forEach(Object_keys(ge),function(Ne){pe[Ne]=ge[Ne]}),Se},forEach(Object_keys(Script.prototype),function(pe){exports[pe]=Script[pe]=function(ge){var Se=Script(ge);return Se[pe].apply(Se,[].slice.call(arguments,1))}}),exports.isContext=function(pe){return pe instanceof Context},exports.createScript=function(pe){return exports.Script(pe)},exports.createContext=Script.createContext=function(pe){var ge=new Context;return typeof pe=="object"&&forEach(Object_keys(pe),function(Se){ge[Se]=pe[Se]}),ge}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(pe){var ge=requireAsn1(),Se=inherits_browserExports,Ne=pe;Ne.define=function(Xe,vt){return new Ze(Xe,vt)};function Ze(Je,Xe){this.name=Je,this.body=Xe,this.decoders={},this.encoders={}}Ze.prototype._createNamed=function(Xe){var vt;try{vt=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{vt=function(kt){this._initNamed(kt)}}return Se(vt,Xe),vt.prototype._initNamed=function(kt){Xe.call(this,kt)},new vt(this)},Ze.prototype._getDecoder=function(Xe){return Xe=Xe||"der",this.decoders.hasOwnProperty(Xe)||(this.decoders[Xe]=this._createNamed(ge.decoders[Xe])),this.decoders[Xe]},Ze.prototype.decode=function(Xe,vt,gt){return this._getDecoder(vt).decode(Xe,gt)},Ze.prototype._getEncoder=function(Xe){return Xe=Xe||"der",this.encoders.hasOwnProperty(Xe)||(this.encoders[Xe]=this._createNamed(ge.encoders[Xe])),this.encoders[Xe]},Ze.prototype.encode=function(Xe,vt,gt){return this._getEncoder(vt).encode(Xe,gt)}}(api)),api}var base={},reporter={},inherits=inherits_browserExports;function Reporter(pe){this._reporterState={obj:null,path:[],options:pe||{},errors:[]}}reporter.Reporter=Reporter,Reporter.prototype.isError=function pe(ge){return ge instanceof ReporterError},Reporter.prototype.save=function pe(){var ge=this._reporterState;return{obj:ge.obj,pathLen:ge.path.length}},Reporter.prototype.restore=function pe(ge){var Se=this._reporterState;Se.obj=ge.obj,Se.path=Se.path.slice(0,ge.pathLen)},Reporter.prototype.enterKey=function pe(ge){return this._reporterState.path.push(ge)},Reporter.prototype.exitKey=function pe(ge){var Se=this._reporterState;Se.path=Se.path.slice(0,ge-1)},Reporter.prototype.leaveKey=function pe(ge,Se,Ne){var Ze=this._reporterState;this.exitKey(ge),Ze.obj!==null&&(Ze.obj[Se]=Ne)},Reporter.prototype.path=function pe(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function pe(){var ge=this._reporterState,Se=ge.obj;return ge.obj={},Se},Reporter.prototype.leaveObject=function pe(ge){var Se=this._reporterState,Ne=Se.obj;return Se.obj=ge,Ne},Reporter.prototype.error=function pe(ge){var Se,Ne=this._reporterState,Ze=ge instanceof ReporterError;if(Ze?Se=ge:Se=new ReporterError(Ne.path.map(function(Je){return"["+JSON.stringify(Je)+"]"}).join(""),ge.message||ge,ge.stack),!Ne.options.partial)throw Se;return Ze||Ne.errors.push(Se),Se},Reporter.prototype.wrapResult=function pe(ge){var Se=this._reporterState;return Se.options.partial?{result:this.isError(ge)?null:ge,errors:Se.errors}:ge};function ReporterError(pe,ge){this.path=pe,this.rethrow(ge)}inherits(ReporterError,Error),ReporterError.prototype.rethrow=function pe(ge){if(this.message=ge+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(Se){this.stack=Se.stack}return this};var buffer$1={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer$1;hasRequiredBuffer=1;var pe=inherits_browserExports,ge=requireBase().Reporter,Se=require$$1$2.Buffer;function Ne(Je,Xe){if(ge.call(this,Xe),!Se.isBuffer(Je)){this.error("Input not Buffer");return}this.base=Je,this.offset=0,this.length=Je.length}pe(Ne,ge),buffer$1.DecoderBuffer=Ne,Ne.prototype.save=function(){return{offset:this.offset,reporter:ge.prototype.save.call(this)}},Ne.prototype.restore=function(Xe){var vt=new Ne(this.base);return vt.offset=Xe.offset,vt.length=this.offset,this.offset=Xe.offset,ge.prototype.restore.call(this,Xe.reporter),vt},Ne.prototype.isEmpty=function(){return this.offset===this.length},Ne.prototype.readUInt8=function(Xe){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Xe||"DecoderBuffer overrun")},Ne.prototype.skip=function(Xe,vt){if(!(this.offset+Xe<=this.length))return this.error(vt||"DecoderBuffer overrun");var gt=new Ne(this.base);return gt._reporterState=this._reporterState,gt.offset=this.offset,gt.length=this.offset+Xe,this.offset+=Xe,gt},Ne.prototype.raw=function(Xe){return this.base.slice(Xe?Xe.offset:this.offset,this.length)};function Ze(Je,Xe){if(Array.isArray(Je))this.length=0,this.value=Je.map(function(vt){return vt instanceof Ze||(vt=new Ze(vt,Xe)),this.length+=vt.length,vt},this);else if(typeof Je=="number"){if(!(0<=Je&&Je<=255))return Xe.error("non-byte EncoderBuffer value");this.value=Je,this.length=1}else if(typeof Je=="string")this.value=Je,this.length=Se.byteLength(Je);else if(Se.isBuffer(Je))this.value=Je,this.length=Je.length;else return Xe.error("Unsupported type: "+typeof Je)}return buffer$1.EncoderBuffer=Ze,Ze.prototype.join=function(Xe,vt){return Xe||(Xe=new Se(this.length)),vt||(vt=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(gt){gt.join(Xe,vt),vt+=gt.length}):(typeof this.value=="number"?Xe[vt]=this.value:typeof this.value=="string"?Xe.write(this.value,vt):Se.isBuffer(this.value)&&this.value.copy(Xe,vt),vt+=this.length)),Xe},buffer$1}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var pe=requireBase().Reporter,ge=requireBase().EncoderBuffer,Se=requireBase().DecoderBuffer,Ne=minimalisticAssert,Ze=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Je=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Ze),Xe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function vt(kt,mt){var xt={};this._baseState=xt,xt.enc=kt,xt.parent=mt||null,xt.children=null,xt.tag=null,xt.args=null,xt.reverseArgs=null,xt.choice=null,xt.optional=!1,xt.any=!1,xt.obj=!1,xt.use=null,xt.useDecoder=null,xt.key=null,xt.default=null,xt.explicit=null,xt.implicit=null,xt.contains=null,xt.parent||(xt.children=[],this._wrap())}node$1=vt;var gt=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return vt.prototype.clone=function(){var mt=this._baseState,xt={};gt.forEach(function(ar){xt[ar]=mt[ar]});var fr=new this.constructor(xt.parent);return fr._baseState=xt,fr},vt.prototype._wrap=function(){var mt=this._baseState;Je.forEach(function(xt){this[xt]=function(){var ar=new this.constructor(this);return mt.children.push(ar),ar[xt].apply(ar,arguments)}},this)},vt.prototype._init=function(mt){var xt=this._baseState;Ne(xt.parent===null),mt.call(this),xt.children=xt.children.filter(function(fr){return fr._baseState.parent===this},this),Ne.equal(xt.children.length,1,"Root node can have only one child")},vt.prototype._useArgs=function(mt){var xt=this._baseState,fr=mt.filter(function(ar){return ar instanceof this.constructor},this);mt=mt.filter(function(ar){return!(ar instanceof this.constructor)},this),fr.length!==0&&(Ne(xt.children===null),xt.children=fr,fr.forEach(function(ar){ar._baseState.parent=this},this)),mt.length!==0&&(Ne(xt.args===null),xt.args=mt,xt.reverseArgs=mt.map(function(ar){if(typeof ar!="object"||ar.constructor!==Object)return ar;var gr={};return Object.keys(ar).forEach(function(wr){wr==(wr|0)&&(wr|=0);var Er=ar[wr];gr[Er]=wr}),gr}))},Xe.forEach(function(kt){vt.prototype[kt]=function(){var xt=this._baseState;throw new Error(kt+" not implemented for encoding: "+xt.enc)}}),Ze.forEach(function(kt){vt.prototype[kt]=function(){var xt=this._baseState,fr=Array.prototype.slice.call(arguments);return Ne(xt.tag===null),xt.tag=kt,this._useArgs(fr),this}}),vt.prototype.use=function(mt){Ne(mt);var xt=this._baseState;return Ne(xt.use===null),xt.use=mt,this},vt.prototype.optional=function(){var mt=this._baseState;return mt.optional=!0,this},vt.prototype.def=function(mt){var xt=this._baseState;return Ne(xt.default===null),xt.default=mt,xt.optional=!0,this},vt.prototype.explicit=function(mt){var xt=this._baseState;return Ne(xt.explicit===null&&xt.implicit===null),xt.explicit=mt,this},vt.prototype.implicit=function(mt){var xt=this._baseState;return Ne(xt.explicit===null&&xt.implicit===null),xt.implicit=mt,this},vt.prototype.obj=function(){var mt=this._baseState,xt=Array.prototype.slice.call(arguments);return mt.obj=!0,xt.length!==0&&this._useArgs(xt),this},vt.prototype.key=function(mt){var xt=this._baseState;return Ne(xt.key===null),xt.key=mt,this},vt.prototype.any=function(){var mt=this._baseState;return mt.any=!0,this},vt.prototype.choice=function(mt){var xt=this._baseState;return Ne(xt.choice===null),xt.choice=mt,this._useArgs(Object.keys(mt).map(function(fr){return mt[fr]})),this},vt.prototype.contains=function(mt){var xt=this._baseState;return Ne(xt.use===null),xt.contains=mt,this},vt.prototype._decode=function(mt,xt){var fr=this._baseState;if(fr.parent===null)return mt.wrapResult(fr.children[0]._decode(mt,xt));var ar=fr.default,gr=!0,wr=null;if(fr.key!==null&&(wr=mt.enterKey(fr.key)),fr.optional){var Er=null;if(fr.explicit!==null?Er=fr.explicit:fr.implicit!==null?Er=fr.implicit:fr.tag!==null&&(Er=fr.tag),Er===null&&!fr.any){var _r=mt.save();try{fr.choice===null?this._decodeGeneric(fr.tag,mt,xt):this._decodeChoice(mt,xt),gr=!0}catch{gr=!1}mt.restore(_r)}else if(gr=this._peekTag(mt,Er,fr.any),mt.isError(gr))return gr}var Sr;if(fr.obj&&gr&&(Sr=mt.enterObject()),gr){if(fr.explicit!==null){var Or=this._decodeTag(mt,fr.explicit);if(mt.isError(Or))return Or;mt=Or}var Pr=mt.offset;if(fr.use===null&&fr.choice===null){if(fr.any)var _r=mt.save();var kr=this._decodeTag(mt,fr.implicit!==null?fr.implicit:fr.tag,fr.any);if(mt.isError(kr))return kr;fr.any?ar=mt.raw(_r):mt=kr}if(xt&&xt.track&&fr.tag!==null&&xt.track(mt.path(),Pr,mt.length,"tagged"),xt&&xt.track&&fr.tag!==null&&xt.track(mt.path(),mt.offset,mt.length,"content"),fr.any?ar=ar:fr.choice===null?ar=this._decodeGeneric(fr.tag,mt,xt):ar=this._decodeChoice(mt,xt),mt.isError(ar))return ar;if(!fr.any&&fr.choice===null&&fr.children!==null&&fr.children.forEach(function(jr){jr._decode(mt,xt)}),fr.contains&&(fr.tag==="octstr"||fr.tag==="bitstr")){var Ur=new Se(ar);ar=this._getUse(fr.contains,mt._reporterState.obj)._decode(Ur,xt)}}return fr.obj&&gr&&(ar=mt.leaveObject(Sr)),fr.key!==null&&(ar!==null||gr===!0)?mt.leaveKey(wr,fr.key,ar):wr!==null&&mt.exitKey(wr),ar},vt.prototype._decodeGeneric=function(mt,xt,fr){var ar=this._baseState;return mt==="seq"||mt==="set"?null:mt==="seqof"||mt==="setof"?this._decodeList(xt,mt,ar.args[0],fr):/str$/.test(mt)?this._decodeStr(xt,mt,fr):mt==="objid"&&ar.args?this._decodeObjid(xt,ar.args[0],ar.args[1],fr):mt==="objid"?this._decodeObjid(xt,null,null,fr):mt==="gentime"||mt==="utctime"?this._decodeTime(xt,mt,fr):mt==="null_"?this._decodeNull(xt,fr):mt==="bool"?this._decodeBool(xt,fr):mt==="objDesc"?this._decodeStr(xt,mt,fr):mt==="int"||mt==="enum"?this._decodeInt(xt,ar.args&&ar.args[0],fr):ar.use!==null?this._getUse(ar.use,xt._reporterState.obj)._decode(xt,fr):xt.error("unknown tag: "+mt)},vt.prototype._getUse=function(mt,xt){var fr=this._baseState;return fr.useDecoder=this._use(mt,xt),Ne(fr.useDecoder._baseState.parent===null),fr.useDecoder=fr.useDecoder._baseState.children[0],fr.implicit!==fr.useDecoder._baseState.implicit&&(fr.useDecoder=fr.useDecoder.clone(),fr.useDecoder._baseState.implicit=fr.implicit),fr.useDecoder},vt.prototype._decodeChoice=function(mt,xt){var fr=this._baseState,ar=null,gr=!1;return Object.keys(fr.choice).some(function(wr){var Er=mt.save(),_r=fr.choice[wr];try{var Sr=_r._decode(mt,xt);if(mt.isError(Sr))return!1;ar={type:wr,value:Sr},gr=!0}catch{return mt.restore(Er),!1}return!0},this),gr?ar:mt.error("Choice not matched")},vt.prototype._createEncoderBuffer=function(mt){return new ge(mt,this.reporter)},vt.prototype._encode=function(mt,xt,fr){var ar=this._baseState;if(!(ar.default!==null&&ar.default===mt)){var gr=this._encodeValue(mt,xt,fr);if(gr!==void 0&&!this._skipDefault(gr,xt,fr))return gr}},vt.prototype._encodeValue=function(mt,xt,fr){var ar=this._baseState;if(ar.parent===null)return ar.children[0]._encode(mt,xt||new pe);var _r=null;if(this.reporter=xt,ar.optional&&mt===void 0)if(ar.default!==null)mt=ar.default;else return;var gr=null,wr=!1;if(ar.any)_r=this._createEncoderBuffer(mt);else if(ar.choice)_r=this._encodeChoice(mt,xt);else if(ar.contains)gr=this._getUse(ar.contains,fr)._encode(mt,xt),wr=!0;else if(ar.children)gr=ar.children.map(function(Pr){if(Pr._baseState.tag==="null_")return Pr._encode(null,xt,mt);if(Pr._baseState.key===null)return xt.error("Child should have a key");var kr=xt.enterKey(Pr._baseState.key);if(typeof mt!="object")return xt.error("Child expected, but input is not object");var Ur=Pr._encode(mt[Pr._baseState.key],xt,mt);return xt.leaveKey(kr),Ur},this).filter(function(Pr){return Pr}),gr=this._createEncoderBuffer(gr);else if(ar.tag==="seqof"||ar.tag==="setof"){if(!(ar.args&&ar.args.length===1))return xt.error("Too many args for : "+ar.tag);if(!Array.isArray(mt))return xt.error("seqof/setof, but data is not Array");var Er=this.clone();Er._baseState.implicit=null,gr=this._createEncoderBuffer(mt.map(function(Pr){var kr=this._baseState;return this._getUse(kr.args[0],mt)._encode(Pr,xt)},Er))}else ar.use!==null?_r=this._getUse(ar.use,fr)._encode(mt,xt):(gr=this._encodePrimitive(ar.tag,mt),wr=!0);var _r;if(!ar.any&&ar.choice===null){var Sr=ar.implicit!==null?ar.implicit:ar.tag,Or=ar.implicit===null?"universal":"context";Sr===null?ar.use===null&&xt.error("Tag could be omitted only for .use()"):ar.use===null&&(_r=this._encodeComposite(Sr,wr,Or,gr))}return ar.explicit!==null&&(_r=this._encodeComposite(ar.explicit,!1,"context",_r)),_r},vt.prototype._encodeChoice=function(mt,xt){var fr=this._baseState,ar=fr.choice[mt.type];return ar||Ne(!1,mt.type+" not found in "+JSON.stringify(Object.keys(fr.choice))),ar._encode(mt.value,xt)},vt.prototype._encodePrimitive=function(mt,xt){var fr=this._baseState;if(/str$/.test(mt))return this._encodeStr(xt,mt);if(mt==="objid"&&fr.args)return this._encodeObjid(xt,fr.reverseArgs[0],fr.args[1]);if(mt==="objid")return this._encodeObjid(xt,null,null);if(mt==="gentime"||mt==="utctime")return this._encodeTime(xt,mt);if(mt==="null_")return this._encodeNull();if(mt==="int"||mt==="enum")return this._encodeInt(xt,fr.args&&fr.reverseArgs[0]);if(mt==="bool")return this._encodeBool(xt);if(mt==="objDesc")return this._encodeStr(xt,mt);throw new Error("Unsupported tag: "+mt)},vt.prototype._isNumstr=function(mt){return/^[0-9 ]*$/.test(mt)},vt.prototype._isPrintstr=function(mt){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(mt)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(pe){var ge=pe;ge.Reporter=reporter.Reporter,ge.DecoderBuffer=requireBuffer().DecoderBuffer,ge.EncoderBuffer=requireBuffer().EncoderBuffer,ge.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(pe){var ge=requireConstants();pe.tagClass={0:"universal",1:"application",2:"context",3:"private"},pe.tagClassByName=ge._reverse(pe.tagClass),pe.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},pe.tagByName=ge._reverse(pe.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(pe){var ge=pe;ge._reverse=function(Ne){var Ze={};return Object.keys(Ne).forEach(function(Je){(Je|0)==Je&&(Je=Je|0);var Xe=Ne[Je];Ze[Xe]=Je}),Ze},ge.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var pe=inherits_browserExports,ge=requireAsn1(),Se=ge.base,Ne=ge.bignum,Ze=ge.constants.der;function Je(kt){this.enc="der",this.name=kt.name,this.entity=kt,this.tree=new Xe,this.tree._init(kt.body)}der_1$1=Je,Je.prototype.decode=function(mt,xt){return mt instanceof Se.DecoderBuffer||(mt=new Se.DecoderBuffer(mt,xt)),this.tree._decode(mt,xt)};function Xe(kt){Se.Node.call(this,"der",kt)}pe(Xe,Se.Node),Xe.prototype._peekTag=function(mt,xt,fr){if(mt.isEmpty())return!1;var ar=mt.save(),gr=vt(mt,'Failed to peek tag: "'+xt+'"');return mt.isError(gr)?gr:(mt.restore(ar),gr.tag===xt||gr.tagStr===xt||gr.tagStr+"of"===xt||fr)},Xe.prototype._decodeTag=function(mt,xt,fr){var ar=vt(mt,'Failed to decode tag of "'+xt+'"');if(mt.isError(ar))return ar;var gr=gt(mt,ar.primitive,'Failed to get length of "'+xt+'"');if(mt.isError(gr))return gr;if(!fr&&ar.tag!==xt&&ar.tagStr!==xt&&ar.tagStr+"of"!==xt)return mt.error('Failed to match tag: "'+xt+'"');if(ar.primitive||gr!==null)return mt.skip(gr,'Failed to match body of: "'+xt+'"');var wr=mt.save(),Er=this._skipUntilEnd(mt,'Failed to skip indefinite length body: "'+this.tag+'"');return mt.isError(Er)?Er:(gr=mt.offset-wr.offset,mt.restore(wr),mt.skip(gr,'Failed to match body of: "'+xt+'"'))},Xe.prototype._skipUntilEnd=function(mt,xt){for(;;){var fr=vt(mt,xt);if(mt.isError(fr))return fr;var ar=gt(mt,fr.primitive,xt);if(mt.isError(ar))return ar;var gr;if(fr.primitive||ar!==null?gr=mt.skip(ar):gr=this._skipUntilEnd(mt,xt),mt.isError(gr))return gr;if(fr.tagStr==="end")break}},Xe.prototype._decodeList=function(mt,xt,fr,ar){for(var gr=[];!mt.isEmpty();){var wr=this._peekTag(mt,"end");if(mt.isError(wr))return wr;var Er=fr.decode(mt,"der",ar);if(mt.isError(Er)&&wr)break;gr.push(Er)}return gr},Xe.prototype._decodeStr=function(mt,xt){if(xt==="bitstr"){var fr=mt.readUInt8();return mt.isError(fr)?fr:{unused:fr,data:mt.raw()}}else if(xt==="bmpstr"){var ar=mt.raw();if(ar.length%2===1)return mt.error("Decoding of string type: bmpstr length mismatch");for(var gr="",wr=0;wr<ar.length/2;wr++)gr+=String.fromCharCode(ar.readUInt16BE(wr*2));return gr}else if(xt==="numstr"){var Er=mt.raw().toString("ascii");return this._isNumstr(Er)?Er:mt.error("Decoding of string type: numstr unsupported characters")}else{if(xt==="octstr")return mt.raw();if(xt==="objDesc")return mt.raw();if(xt==="printstr"){var _r=mt.raw().toString("ascii");return this._isPrintstr(_r)?_r:mt.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(xt)?mt.raw().toString():mt.error("Decoding of string type: "+xt+" unsupported")}},Xe.prototype._decodeObjid=function(mt,xt,fr){for(var ar,gr=[],wr=0;!mt.isEmpty();){var Er=mt.readUInt8();wr<<=7,wr|=Er&127,Er&128||(gr.push(wr),wr=0)}Er&128&&gr.push(wr);var _r=gr[0]/40|0,Sr=gr[0]%40;if(fr?ar=gr:ar=[_r,Sr].concat(gr.slice(1)),xt){var Or=xt[ar.join(" ")];Or===void 0&&(Or=xt[ar.join(".")]),Or!==void 0&&(ar=Or)}return ar},Xe.prototype._decodeTime=function(mt,xt){var fr=mt.raw().toString();if(xt==="gentime")var ar=fr.slice(0,4)|0,gr=fr.slice(4,6)|0,wr=fr.slice(6,8)|0,Er=fr.slice(8,10)|0,_r=fr.slice(10,12)|0,Sr=fr.slice(12,14)|0;else if(xt==="utctime"){var ar=fr.slice(0,2)|0,gr=fr.slice(2,4)|0,wr=fr.slice(4,6)|0,Er=fr.slice(6,8)|0,_r=fr.slice(8,10)|0,Sr=fr.slice(10,12)|0;ar<70?ar=2e3+ar:ar=1900+ar}else return mt.error("Decoding "+xt+" time is not supported yet");return Date.UTC(ar,gr-1,wr,Er,_r,Sr,0)},Xe.prototype._decodeNull=function(mt){return null},Xe.prototype._decodeBool=function(mt){var xt=mt.readUInt8();return mt.isError(xt)?xt:xt!==0},Xe.prototype._decodeInt=function(mt,xt){var fr=mt.raw(),ar=new Ne(fr);return xt&&(ar=xt[ar.toString(10)]||ar),ar},Xe.prototype._use=function(mt,xt){return typeof mt=="function"&&(mt=mt(xt)),mt._getDecoder("der").tree};function vt(kt,mt){var xt=kt.readUInt8(mt);if(kt.isError(xt))return xt;var fr=Ze.tagClass[xt>>6],ar=(xt&32)===0;if((xt&31)===31){var gr=xt;for(xt=0;(gr&128)===128;){if(gr=kt.readUInt8(mt),kt.isError(gr))return gr;xt<<=7,xt|=gr&127}}else xt&=31;var wr=Ze.tag[xt];return{cls:fr,primitive:ar,tag:xt,tagStr:wr}}function gt(kt,mt,xt){var fr=kt.readUInt8(xt);if(kt.isError(fr))return fr;if(!mt&&fr===128)return null;if(!(fr&128))return fr;var ar=fr&127;if(ar>4)return kt.error("length octect is too long");fr=0;for(var gr=0;gr<ar;gr++){fr<<=8;var wr=kt.readUInt8(xt);if(kt.isError(wr))return wr;fr|=wr}return fr}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var pe=inherits_browserExports,ge=require$$1$2.Buffer,Se=requireDer$1();function Ne(Ze){Se.call(this,Ze),this.enc="pem"}return pe(Ne,Se),pem$1=Ne,Ne.prototype.decode=function(Je,Xe){for(var vt=Je.toString().split(/[\r\n]+/g),gt=Xe.label.toUpperCase(),kt=/^-----(BEGIN|END) ([^-]+)-----$/,mt=-1,xt=-1,fr=0;fr<vt.length;fr++){var ar=vt[fr].match(kt);if(ar!==null&&ar[2]===gt)if(mt===-1){if(ar[1]!=="BEGIN")break;mt=fr}else{if(ar[1]!=="END")break;xt=fr;break}}if(mt===-1||xt===-1)throw new Error("PEM section not found for: "+gt);var gr=vt.slice(mt+1,xt).join("");gr.replace(/[^a-z0-9\+\/=]+/gi,"");var wr=new ge(gr,"base64");return Se.prototype.decode.call(this,wr,Xe)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(pe){var ge=pe;ge.der=requireDer$1(),ge.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var pe=inherits_browserExports,ge=require$$1$2.Buffer,Se=requireAsn1(),Ne=Se.base,Ze=Se.constants.der;function Je(kt){this.enc="der",this.name=kt.name,this.entity=kt,this.tree=new Xe,this.tree._init(kt.body)}der_1=Je,Je.prototype.encode=function(mt,xt){return this.tree._encode(mt,xt).join()};function Xe(kt){Ne.Node.call(this,"der",kt)}pe(Xe,Ne.Node),Xe.prototype._encodeComposite=function(mt,xt,fr,ar){var gr=gt(mt,xt,fr,this.reporter);if(ar.length<128){var _r=new ge(2);return _r[0]=gr,_r[1]=ar.length,this._createEncoderBuffer([_r,ar])}for(var wr=1,Er=ar.length;Er>=256;Er>>=8)wr++;var _r=new ge(2+wr);_r[0]=gr,_r[1]=128|wr;for(var Er=1+wr,Sr=ar.length;Sr>0;Er--,Sr>>=8)_r[Er]=Sr&255;return this._createEncoderBuffer([_r,ar])},Xe.prototype._encodeStr=function(mt,xt){if(xt==="bitstr")return this._createEncoderBuffer([mt.unused|0,mt.data]);if(xt==="bmpstr"){for(var fr=new ge(mt.length*2),ar=0;ar<mt.length;ar++)fr.writeUInt16BE(mt.charCodeAt(ar),ar*2);return this._createEncoderBuffer(fr)}else return xt==="numstr"?this._isNumstr(mt)?this._createEncoderBuffer(mt):this.reporter.error("Encoding of string type: numstr supports only digits and space"):xt==="printstr"?this._isPrintstr(mt)?this._createEncoderBuffer(mt):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(xt)?this._createEncoderBuffer(mt):xt==="objDesc"?this._createEncoderBuffer(mt):this.reporter.error("Encoding of string type: "+xt+" unsupported")},Xe.prototype._encodeObjid=function(mt,xt,fr){if(typeof mt=="string"){if(!xt)return this.reporter.error("string objid given, but no values map found");if(!xt.hasOwnProperty(mt))return this.reporter.error("objid not found in values map");mt=xt[mt].split(/[\s\.]+/g);for(var ar=0;ar<mt.length;ar++)mt[ar]|=0}else if(Array.isArray(mt)){mt=mt.slice();for(var ar=0;ar<mt.length;ar++)mt[ar]|=0}if(!Array.isArray(mt))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(mt));if(!fr){if(mt[1]>=40)return this.reporter.error("Second objid identifier OOB");mt.splice(0,2,mt[0]*40+mt[1])}for(var gr=0,ar=0;ar<mt.length;ar++){var wr=mt[ar];for(gr++;wr>=128;wr>>=7)gr++}for(var Er=new ge(gr),_r=Er.length-1,ar=mt.length-1;ar>=0;ar--){var wr=mt[ar];for(Er[_r--]=wr&127;(wr>>=7)>0;)Er[_r--]=128|wr&127}return this._createEncoderBuffer(Er)};function vt(kt){return kt<10?"0"+kt:kt}Xe.prototype._encodeTime=function(mt,xt){var fr,ar=new Date(mt);return xt==="gentime"?fr=[vt(ar.getFullYear()),vt(ar.getUTCMonth()+1),vt(ar.getUTCDate()),vt(ar.getUTCHours()),vt(ar.getUTCMinutes()),vt(ar.getUTCSeconds()),"Z"].join(""):xt==="utctime"?fr=[vt(ar.getFullYear()%100),vt(ar.getUTCMonth()+1),vt(ar.getUTCDate()),vt(ar.getUTCHours()),vt(ar.getUTCMinutes()),vt(ar.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+xt+" time is not supported yet"),this._encodeStr(fr,"octstr")},Xe.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Xe.prototype._encodeInt=function(mt,xt){if(typeof mt=="string"){if(!xt)return this.reporter.error("String int or enum given, but no values map");if(!xt.hasOwnProperty(mt))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(mt));mt=xt[mt]}if(typeof mt!="number"&&!ge.isBuffer(mt)){var fr=mt.toArray();!mt.sign&&fr[0]&128&&fr.unshift(0),mt=new ge(fr)}if(ge.isBuffer(mt)){var ar=mt.length;mt.length===0&&ar++;var wr=new ge(ar);return mt.copy(wr),mt.length===0&&(wr[0]=0),this._createEncoderBuffer(wr)}if(mt<128)return this._createEncoderBuffer(mt);if(mt<256)return this._createEncoderBuffer([0,mt]);for(var ar=1,gr=mt;gr>=256;gr>>=8)ar++;for(var wr=new Array(ar),gr=wr.length-1;gr>=0;gr--)wr[gr]=mt&255,mt>>=8;return wr[0]&128&&wr.unshift(0),this._createEncoderBuffer(new ge(wr))},Xe.prototype._encodeBool=function(mt){return this._createEncoderBuffer(mt?255:0)},Xe.prototype._use=function(mt,xt){return typeof mt=="function"&&(mt=mt(xt)),mt._getEncoder("der").tree},Xe.prototype._skipDefault=function(mt,xt,fr){var ar=this._baseState,gr;if(ar.default===null)return!1;var wr=mt.join();if(ar.defaultBuffer===void 0&&(ar.defaultBuffer=this._encodeValue(ar.default,xt,fr).join()),wr.length!==ar.defaultBuffer.length)return!1;for(gr=0;gr<wr.length;gr++)if(wr[gr]!==ar.defaultBuffer[gr])return!1;return!0};function gt(kt,mt,xt,fr){var ar;if(kt==="seqof"?kt="seq":kt==="setof"&&(kt="set"),Ze.tagByName.hasOwnProperty(kt))ar=Ze.tagByName[kt];else if(typeof kt=="number"&&(kt|0)===kt)ar=kt;else return fr.error("Unknown tag: "+kt);return ar>=31?fr.error("Multi-octet tag encoding unsupported"):(mt||(ar|=32),ar|=Ze.tagClassByName[xt||"universal"]<<6,ar)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var pe=inherits_browserExports,ge=requireDer();function Se(Ne){ge.call(this,Ne),this.enc="pem"}return pe(Se,ge),pem=Se,Se.prototype.encode=function(Ze,Je){for(var Xe=ge.prototype.encode.call(this,Ze),vt=Xe.toString("base64"),gt=["-----BEGIN "+Je.label+"-----"],kt=0;kt<vt.length;kt+=64)gt.push(vt.slice(kt,kt+64));return gt.push("-----END "+Je.label+"-----"),gt.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(pe){var ge=pe;ge.der=requireDer(),ge.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1;function requireAsn1(){return hasRequiredAsn1||(hasRequiredAsn1=1,function(pe){var ge=pe;ge.bignum=bnExports$2,ge.define=requireApi().define,ge.base=requireBase(),ge.constants=requireConstants(),ge.decoders=requireDecoders(),ge.encoders=requireEncoders()}(asn1$2)),asn1$2}var asn=requireAsn1(),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier$1=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier$1),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier$1),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier$1),this.key("signatureValue").bitstr())}),certificate=X509Certificate,asn1$1=requireAsn1();asn1$3.certificate=certificate;var RSAPrivateKey=asn1$1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$3.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1$1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$3.RSAPublicKey=RSAPublicKey;var AlgorithmIdentifier=asn1$1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PublicKey=asn1$1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});asn1$3.PublicKey=PublicKey;var PrivateKeyInfo=asn1$1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});asn1$3.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1$1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$3.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1$1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$3.DSAPrivateKey=DSAPrivateKey,asn1$3.DSAparam=asn1$1.define("DSAparam",function(){this.int()});var ECParameters=asn1$1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey=asn1$1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});asn1$3.ECPrivateKey=ECPrivateKey,asn1$3.signature=asn1$1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=evp_bytestokey,ciphers$1=browser$6,Buffer$6=safeBufferExports$1.Buffer,fixProc$1=function(pe,ge){var Se=pe.toString(),Ne=Se.match(findProc),Ze;if(Ne){var Xe="aes"+Ne[1],vt=Buffer$6.from(Ne[2],"hex"),gt=Buffer$6.from(Ne[3].replace(/[\r\n]/g,""),"base64"),kt=evp(ge,vt.slice(0,8),parseInt(Ne[1],10)).key,mt=[],xt=ciphers$1.createDecipheriv(Xe,kt,vt);mt.push(xt.update(gt)),mt.push(xt.final()),Ze=Buffer$6.concat(mt)}else{var Je=Se.match(fullRegex);Ze=Buffer$6.from(Je[2].replace(/[\r\n]/g,""),"base64")}var fr=Se.match(startRegex)[1];return{tag:fr,data:Ze}},asn1=asn1$3,aesid=require$$1,fixProc=fixProc$1,ciphers=browser$6,compat=browser$8,Buffer$5=safeBufferExports$1.Buffer;function decrypt(pe,ge){var Se=pe.algorithm.decrypt.kde.kdeparams.salt,Ne=parseInt(pe.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Ze=aesid[pe.algorithm.decrypt.cipher.algo.join(".")],Je=pe.algorithm.decrypt.cipher.iv,Xe=pe.subjectPrivateKey,vt=parseInt(Ze.split("-")[1],10)/8,gt=compat.pbkdf2Sync(ge,Se,Ne,vt,"sha1"),kt=ciphers.createDecipheriv(Ze,gt,Je),mt=[];return mt.push(kt.update(Xe)),mt.push(kt.final()),Buffer$5.concat(mt)}function parseKeys$2(pe){var ge;typeof pe=="object"&&!Buffer$5.isBuffer(pe)&&(ge=pe.passphrase,pe=pe.key),typeof pe=="string"&&(pe=Buffer$5.from(pe));var Se=fixProc(pe,ge),Ne=Se.tag,Ze=Se.data,Je,Xe;switch(Ne){case"CERTIFICATE":Xe=asn1.certificate.decode(Ze,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Xe||(Xe=asn1.PublicKey.decode(Ze,"der")),Je=Xe.algorithm.algorithm.join("."),Je){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(Xe.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Xe.subjectPrivateKey=Xe.subjectPublicKey,{type:"ec",data:Xe};case"1.2.840.10040.4.1":return Xe.algorithm.params.pub_key=asn1.DSAparam.decode(Xe.subjectPublicKey.data,"der"),{type:"dsa",data:Xe.algorithm.params};default:throw new Error("unknown key id "+Je)}case"ENCRYPTED PRIVATE KEY":Ze=asn1.EncryptedPrivateKey.decode(Ze,"der"),Ze=decrypt(Ze,ge);case"PRIVATE KEY":switch(Xe=asn1.PrivateKey.decode(Ze,"der"),Je=Xe.algorithm.algorithm.join("."),Je){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(Xe.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Xe.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(Xe.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Xe.algorithm.params.priv_key=asn1.DSAparam.decode(Xe.subjectPrivateKey,"der"),{type:"dsa",params:Xe.algorithm.params};default:throw new Error("unknown key id "+Je)}case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(Ze,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(Ze,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(Ze,"der")};case"EC PRIVATE KEY":return Ze=asn1.ECPrivateKey.decode(Ze,"der"),{curve:Ze.parameters.value,privateKey:Ze.privateKey};default:throw new Error("unknown key type "+Ne)}}parseKeys$2.signature=asn1.signature;var parseAsn1=parseKeys$2;const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var pe=safeBufferExports$1.Buffer,ge=browser$9,Se=browserifyRsa,Ne=requireElliptic().ec,Ze=bnExports,Je=parseAsn1,Xe=require$$4,vt=1;function gt(_r,Sr,Or,Pr,kr){var Ur=Je(Sr);if(Ur.curve){if(Pr!=="ecdsa"&&Pr!=="ecdsa/rsa")throw new Error("wrong private key type");return kt(_r,Ur)}else if(Ur.type==="dsa"){if(Pr!=="dsa")throw new Error("wrong private key type");return mt(_r,Ur,Or)}if(Pr!=="rsa"&&Pr!=="ecdsa/rsa")throw new Error("wrong private key type");if(Sr.padding!==void 0&&Sr.padding!==vt)throw new Error("illegal or unsupported padding mode");_r=pe.concat([kr,_r]);for(var Yr=Ur.modulus.byteLength(),jr=[0,1];_r.length+jr.length+1<Yr;)jr.push(255);jr.push(0);for(var Dr=-1;++Dr<_r.length;)jr.push(_r[Dr]);var Vr=Se(jr,Ur);return Vr}function kt(_r,Sr){var Or=Xe[Sr.curve.join(".")];if(!Or)throw new Error("unknown curve "+Sr.curve.join("."));var Pr=new Ne(Or),kr=Pr.keyFromPrivate(Sr.privateKey),Ur=kr.sign(_r);return pe.from(Ur.toDER())}function mt(_r,Sr,Or){for(var Pr=Sr.params.priv_key,kr=Sr.params.p,Ur=Sr.params.q,Yr=Sr.params.g,jr=new Ze(0),Dr,Vr=ar(_r,Ur).mod(Ur),Ir=!1,br=fr(Pr,Ur,_r,Or);Ir===!1;)Dr=wr(Ur,br,Or),jr=Er(Yr,Dr,kr,Ur),Ir=Dr.invm(Ur).imul(Vr.add(Pr.mul(jr))).mod(Ur),Ir.cmpn(0)===0&&(Ir=!1,jr=new Ze(0));return xt(jr,Ir)}function xt(_r,Sr){_r=_r.toArray(),Sr=Sr.toArray(),_r[0]&128&&(_r=[0].concat(_r)),Sr[0]&128&&(Sr=[0].concat(Sr));var Or=_r.length+Sr.length+4,Pr=[48,Or,2,_r.length];return Pr=Pr.concat(_r,[2,Sr.length],Sr),pe.from(Pr)}function fr(_r,Sr,Or,Pr){if(_r=pe.from(_r.toArray()),_r.length<Sr.byteLength()){var kr=pe.alloc(Sr.byteLength()-_r.length);_r=pe.concat([kr,_r])}var Ur=Or.length,Yr=gr(Or,Sr),jr=pe.alloc(Ur);jr.fill(1);var Dr=pe.alloc(Ur);return Dr=ge(Pr,Dr).update(jr).update(pe.from([0])).update(_r).update(Yr).digest(),jr=ge(Pr,Dr).update(jr).digest(),Dr=ge(Pr,Dr).update(jr).update(pe.from([1])).update(_r).update(Yr).digest(),jr=ge(Pr,Dr).update(jr).digest(),{k:Dr,v:jr}}function ar(_r,Sr){var Or=new Ze(_r),Pr=(_r.length<<3)-Sr.bitLength();return Pr>0&&Or.ishrn(Pr),Or}function gr(_r,Sr){_r=ar(_r,Sr),_r=_r.mod(Sr);var Or=pe.from(_r.toArray());if(Or.length<Sr.byteLength()){var Pr=pe.alloc(Sr.byteLength()-Or.length);Or=pe.concat([Pr,Or])}return Or}function wr(_r,Sr,Or){var Pr,kr;do{for(Pr=pe.alloc(0);Pr.length*8<_r.bitLength();)Sr.v=ge(Or,Sr.k).update(Sr.v).digest(),Pr=pe.concat([Pr,Sr.v]);kr=ar(Pr,_r),Sr.k=ge(Or,Sr.k).update(Sr.v).update(pe.from([0])).digest(),Sr.v=ge(Or,Sr.k).update(Sr.v).digest()}while(kr.cmp(_r)!==-1);return kr}function Er(_r,Sr,Or,Pr){return _r.toRed(Ze.mont(Or)).redPow(Sr).fromRed().mod(Pr)}return sign.exports=gt,sign.exports.getKey=fr,sign.exports.makeKey=wr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var pe=safeBufferExports$1.Buffer,ge=bnExports,Se=requireElliptic().ec,Ne=parseAsn1,Ze=require$$4;function Je(kt,mt,xt,fr,ar){var gr=Ne(xt);if(gr.type==="ec"){if(fr!=="ecdsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");return Xe(kt,mt,gr)}else if(gr.type==="dsa"){if(fr!=="dsa")throw new Error("wrong public key type");return vt(kt,mt,gr)}if(fr!=="rsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");mt=pe.concat([ar,mt]);for(var wr=gr.modulus.byteLength(),Er=[1],_r=0;mt.length+Er.length+2<wr;)Er.push(255),_r+=1;Er.push(0);for(var Sr=-1;++Sr<mt.length;)Er.push(mt[Sr]);Er=pe.from(Er);var Or=ge.mont(gr.modulus);kt=new ge(kt).toRed(Or),kt=kt.redPow(new ge(gr.publicExponent)),kt=pe.from(kt.fromRed().toArray());var Pr=_r<8?1:0;for(wr=Math.min(kt.length,Er.length),kt.length!==Er.length&&(Pr=1),Sr=-1;++Sr<wr;)Pr|=kt[Sr]^Er[Sr];return Pr===0}function Xe(kt,mt,xt){var fr=Ze[xt.data.algorithm.curve.join(".")];if(!fr)throw new Error("unknown curve "+xt.data.algorithm.curve.join("."));var ar=new Se(fr),gr=xt.data.subjectPrivateKey.data;return ar.verify(mt,kt,gr)}function vt(kt,mt,xt){var fr=xt.data.p,ar=xt.data.q,gr=xt.data.g,wr=xt.data.pub_key,Er=Ne.signature.decode(kt,"der"),_r=Er.s,Sr=Er.r;gt(_r,ar),gt(Sr,ar);var Or=ge.mont(fr),Pr=_r.invm(ar),kr=gr.toRed(Or).redPow(new ge(mt).mul(Pr).mod(ar)).fromRed().mul(wr.toRed(Or).redPow(Sr.mul(Pr).mod(ar)).fromRed()).mod(fr).mod(ar);return kr.cmp(Sr)===0}function gt(kt,mt){if(kt.cmpn(0)<=0)throw new Error("invalid sig");if(kt.cmp(mt)>=0)throw new Error("invalid sig")}return verify_1=Je,verify_1}var browser$4,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$4;hasRequiredBrowser$1=1;var pe=safeBufferExports$1.Buffer,ge=browser$a,Se=readableBrowserExports,Ne=inherits_browserExports,Ze=requireSign(),Je=requireVerify(),Xe=require$$6;Object.keys(Xe).forEach(function(xt){Xe[xt].id=pe.from(Xe[xt].id,"hex"),Xe[xt.toLowerCase()]=Xe[xt]});function vt(xt){Se.Writable.call(this);var fr=Xe[xt];if(!fr)throw new Error("Unknown message digest");this._hashType=fr.hash,this._hash=ge(fr.hash),this._tag=fr.id,this._signType=fr.sign}Ne(vt,Se.Writable),vt.prototype._write=function(fr,ar,gr){this._hash.update(fr),gr()},vt.prototype.update=function(fr,ar){return this._hash.update(typeof fr=="string"?pe.from(fr,ar):fr),this},vt.prototype.sign=function(fr,ar){this.end();var gr=this._hash.digest(),wr=Ze(gr,fr,this._hashType,this._signType,this._tag);return ar?wr.toString(ar):wr};function gt(xt){Se.Writable.call(this);var fr=Xe[xt];if(!fr)throw new Error("Unknown message digest");this._hash=ge(fr.hash),this._tag=fr.id,this._signType=fr.sign}Ne(gt,Se.Writable),gt.prototype._write=function(fr,ar,gr){this._hash.update(fr),gr()},gt.prototype.update=function(fr,ar){return this._hash.update(typeof fr=="string"?pe.from(fr,ar):fr),this},gt.prototype.verify=function(fr,ar,gr){var wr=typeof ar=="string"?pe.from(ar,gr):ar;this.end();var Er=this._hash.digest();return Je(wr,Er,fr,this._signType,this._tag)};function kt(xt){return new vt(xt)}function mt(xt){return new gt(xt)}return browser$4={Sign:kt,Verify:mt,createSign:kt,createVerify:mt},browser$4}var browser$3,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$3;hasRequiredBrowser=1;var pe=requireElliptic(),ge=bnExports$2;browser$3=function(Xe){return new Ne(Xe)};var Se={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Se.p224=Se.secp224r1,Se.p256=Se.secp256r1=Se.prime256v1,Se.p192=Se.secp192r1=Se.prime192v1,Se.p384=Se.secp384r1,Se.p521=Se.secp521r1;function Ne(Je){this.curveType=Se[Je],this.curveType||(this.curveType={name:Je}),this.curve=new pe.ec(this.curveType.name),this.keys=void 0}Ne.prototype.generateKeys=function(Je,Xe){return this.keys=this.curve.genKeyPair(),this.getPublicKey(Je,Xe)},Ne.prototype.computeSecret=function(Je,Xe,vt){Xe=Xe||"utf8",Buffer$F.isBuffer(Je)||(Je=new Buffer$F(Je,Xe));var gt=this.curve.keyFromPublic(Je).getPublic(),kt=gt.mul(this.keys.getPrivate()).getX();return Ze(kt,vt,this.curveType.byteLength)},Ne.prototype.getPublicKey=function(Je,Xe){var vt=this.keys.getPublic(Xe==="compressed",!0);return Xe==="hybrid"&&(vt[vt.length-1]%2?vt[0]=7:vt[0]=6),Ze(vt,Je)},Ne.prototype.getPrivateKey=function(Je){return Ze(this.keys.getPrivate(),Je)},Ne.prototype.setPublicKey=function(Je,Xe){return Xe=Xe||"utf8",Buffer$F.isBuffer(Je)||(Je=new Buffer$F(Je,Xe)),this.keys._importPublic(Je),this},Ne.prototype.setPrivateKey=function(Je,Xe){Xe=Xe||"utf8",Buffer$F.isBuffer(Je)||(Je=new Buffer$F(Je,Xe));var vt=new ge(Je);return vt=vt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(vt),this};function Ze(Je,Xe,vt){Array.isArray(Je)||(Je=Je.toArray());var gt=new Buffer$F(Je);if(vt&&gt.length<vt){var kt=new Buffer$F(vt-gt.length);kt.fill(0),gt=Buffer$F.concat([kt,gt])}return Xe?gt.toString(Xe):gt}return browser$3}var browser$2={},createHash$2=browser$a,Buffer$4=safeBufferExports$1.Buffer,mgf$2=function(pe,ge){for(var Se=Buffer$4.alloc(0),Ne=0,Ze;Se.length<ge;)Ze=i2ops(Ne++),Se=Buffer$4.concat([Se,createHash$2("sha1").update(pe).update(Ze).digest()]);return Se.slice(0,ge)};function i2ops(pe){var ge=Buffer$4.allocUnsafe(4);return ge.writeUInt32BE(pe,0),ge}var xor$2=function pe(ge,Se){for(var Ne=ge.length,Ze=-1;++Ze<Ne;)ge[Ze]^=Se[Ze];return ge},BN$2=bnExports$2,Buffer$3=safeBufferExports$1.Buffer;function withPublic$2(pe,ge){return Buffer$3.from(pe.toRed(BN$2.mont(ge.modulus)).redPow(new BN$2(ge.publicExponent)).fromRed().toArray())}var withPublic_1=withPublic$2,parseKeys$1=parseAsn1,randomBytes=browserExports,createHash$1=browser$a,mgf$1=mgf$2,xor$1=xor$2,BN$1=bnExports$2,withPublic$1=withPublic_1,crt$1=browserifyRsa,Buffer$2=safeBufferExports$1.Buffer,publicEncrypt=function pe(ge,Se,Ne){var Ze;ge.padding?Ze=ge.padding:Ne?Ze=1:Ze=4;var Je=parseKeys$1(ge),Xe;if(Ze===4)Xe=oaep$1(Je,Se);else if(Ze===1)Xe=pkcs1$1(Je,Se,Ne);else if(Ze===3){if(Xe=new BN$1(Se),Xe.cmp(Je.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Ne?crt$1(Xe,Je):withPublic$1(Xe,Je)};function oaep$1(pe,ge){var Se=pe.modulus.byteLength(),Ne=ge.length,Ze=createHash$1("sha1").update(Buffer$2.alloc(0)).digest(),Je=Ze.length,Xe=2*Je;if(Ne>Se-Xe-2)throw new Error("message too long");var vt=Buffer$2.alloc(Se-Ne-Xe-2),gt=Se-Je-1,kt=randomBytes(Je),mt=xor$1(Buffer$2.concat([Ze,vt,Buffer$2.alloc(1,1),ge],gt),mgf$1(kt,gt)),xt=xor$1(kt,mgf$1(mt,Je));return new BN$1(Buffer$2.concat([Buffer$2.alloc(1),xt,mt],Se))}function pkcs1$1(pe,ge,Se){var Ne=ge.length,Ze=pe.modulus.byteLength();if(Ne>Ze-11)throw new Error("message too long");var Je;return Se?Je=Buffer$2.alloc(Ze-Ne-3,255):Je=nonZero(Ze-Ne-3),new BN$1(Buffer$2.concat([Buffer$2.from([0,Se?1:2]),Je,Buffer$2.alloc(1),ge],Ze))}function nonZero(pe){for(var ge=Buffer$2.allocUnsafe(pe),Se=0,Ne=randomBytes(pe*2),Ze=0,Je;Se<pe;)Ze===Ne.length&&(Ne=randomBytes(pe*2),Ze=0),Je=Ne[Ze++],Je&&(ge[Se++]=Je);return ge}var parseKeys=parseAsn1,mgf=mgf$2,xor=xor$2,BN=bnExports$2,crt=browserifyRsa,createHash=browser$a,withPublic=withPublic_1,Buffer$1=safeBufferExports$1.Buffer,privateDecrypt=function pe(ge,Se,Ne){var Ze;ge.padding?Ze=ge.padding:Ne?Ze=1:Ze=4;var Je=parseKeys(ge),Xe=Je.modulus.byteLength();if(Se.length>Xe||new BN(Se).cmp(Je.modulus)>=0)throw new Error("decryption error");var vt;Ne?vt=withPublic(new BN(Se),Je):vt=crt(Se,Je);var gt=Buffer$1.alloc(Xe-vt.length);if(vt=Buffer$1.concat([gt,vt],Xe),Ze===4)return oaep(Je,vt);if(Ze===1)return pkcs1(Je,vt,Ne);if(Ze===3)return vt;throw new Error("unknown padding")};function oaep(pe,ge){var Se=pe.modulus.byteLength(),Ne=createHash("sha1").update(Buffer$1.alloc(0)).digest(),Ze=Ne.length;if(ge[0]!==0)throw new Error("decryption error");var Je=ge.slice(1,Ze+1),Xe=ge.slice(Ze+1),vt=xor(Je,mgf(Xe,Ze)),gt=xor(Xe,mgf(vt,Se-Ze-1));if(compare(Ne,gt.slice(0,Ze)))throw new Error("decryption error");for(var kt=Ze;gt[kt]===0;)kt++;if(gt[kt++]!==1)throw new Error("decryption error");return gt.slice(kt)}function pkcs1(pe,ge,Se){for(var Ne=ge.slice(0,2),Ze=2,Je=0;ge[Ze++]!==0;)if(Ze>=ge.length){Je++;break}var Xe=ge.slice(2,Ze-1);if((Ne.toString("hex")!=="0002"&&!Se||Ne.toString("hex")!=="0001"&&Se)&&Je++,Xe.length<8&&Je++,Je)throw new Error("decryption error");return ge.slice(Ze)}function compare(pe,ge){pe=Buffer$1.from(pe),ge=Buffer$1.from(ge);var Se=0,Ne=pe.length;pe.length!==ge.length&&(Se++,Ne=Math.min(pe.length,ge.length));for(var Ze=-1;++Ze<Ne;)Se+=pe[Ze]^ge[Ze];return Se}(function(pe){pe.publicEncrypt=publicEncrypt,pe.privateDecrypt=privateDecrypt,pe.privateEncrypt=function(Se,Ne){return pe.publicEncrypt(Se,Ne,!0)},pe.publicDecrypt=function(Se,Ne){return pe.privateDecrypt(Se,Ne,!0)}})(browser$2);var browser$1={};function oldBrowser(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var safeBuffer=safeBufferExports$1,randombytes=browserExports,Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto$1=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(pe,ge){if(typeof pe!="number"||pe!==pe)throw new TypeError("offset must be a number");if(pe>kMaxUint32||pe<0)throw new TypeError("offset must be a uint32");if(pe>kBufferMaxLength||pe>ge)throw new RangeError("offset out of range")}function assertSize(pe,ge,Se){if(typeof pe!="number"||pe!==pe)throw new TypeError("size must be a number");if(pe>kMaxUint32||pe<0)throw new TypeError("size must be a uint32");if(pe+ge>Se||pe>kBufferMaxLength)throw new RangeError("buffer too small")}crypto$1&&crypto$1.getRandomValues||!process$1$1.browser?(browser$1.randomFill=randomFill,browser$1.randomFillSync=randomFillSync):(browser$1.randomFill=oldBrowser,browser$1.randomFillSync=oldBrowser);function randomFill(pe,ge,Se,Ne){if(!Buffer.isBuffer(pe)&&!(pe instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ge=="function")Ne=ge,ge=0,Se=pe.length;else if(typeof Se=="function")Ne=Se,Se=pe.length-ge;else if(typeof Ne!="function")throw new TypeError('"cb" argument must be a function');return assertOffset(ge,pe.length),assertSize(Se,ge,pe.length),actualFill(pe,ge,Se,Ne)}function actualFill(pe,ge,Se,Ne){if(process$1$1.browser){var Ze=pe.buffer,Je=new Uint8Array(Ze,ge,Se);if(crypto$1.getRandomValues(Je),Ne){process$1$1.nextTick(function(){Ne(null,pe)});return}return pe}if(Ne){randombytes(Se,function(vt,gt){if(vt)return Ne(vt);gt.copy(pe,ge),Ne(null,pe)});return}var Xe=randombytes(Se);return Xe.copy(pe,ge),pe}function randomFillSync(pe,ge,Se){if(typeof ge>"u"&&(ge=0),!Buffer.isBuffer(pe)&&!(pe instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(ge,pe.length),Se===void 0&&(Se=pe.length-ge),assertSize(Se,ge,pe.length),actualFill(pe,ge,Se)}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=browserExports,cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$a,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$9;var pe=algos,ge=Object.keys(pe),Se=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(ge);cryptoBrowserify.getHashes=function(){return Se};var Ne=browser$8;cryptoBrowserify.pbkdf2=Ne.pbkdf2,cryptoBrowserify.pbkdf2Sync=Ne.pbkdf2Sync;var Ze=browser$7;cryptoBrowserify.Cipher=Ze.Cipher,cryptoBrowserify.createCipher=Ze.createCipher,cryptoBrowserify.Cipheriv=Ze.Cipheriv,cryptoBrowserify.createCipheriv=Ze.createCipheriv,cryptoBrowserify.Decipher=Ze.Decipher,cryptoBrowserify.createDecipher=Ze.createDecipher,cryptoBrowserify.Decipheriv=Ze.Decipheriv,cryptoBrowserify.createDecipheriv=Ze.createDecipheriv,cryptoBrowserify.getCiphers=Ze.getCiphers,cryptoBrowserify.listCiphers=Ze.listCiphers;var Je=requireBrowser$2();cryptoBrowserify.DiffieHellmanGroup=Je.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=Je.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=Je.getDiffieHellman,cryptoBrowserify.createDiffieHellman=Je.createDiffieHellman,cryptoBrowserify.DiffieHellman=Je.DiffieHellman;var Xe=requireBrowser$1();cryptoBrowserify.createSign=Xe.createSign,cryptoBrowserify.Sign=Xe.Sign,cryptoBrowserify.createVerify=Xe.createVerify,cryptoBrowserify.Verify=Xe.Verify,cryptoBrowserify.createECDH=requireBrowser();var vt=browser$2;cryptoBrowserify.publicEncrypt=vt.publicEncrypt,cryptoBrowserify.privateEncrypt=vt.privateEncrypt,cryptoBrowserify.publicDecrypt=vt.publicDecrypt,cryptoBrowserify.privateDecrypt=vt.privateDecrypt;var gt=browser$1;return cryptoBrowserify.randomFill=gt.randomFill,cryptoBrowserify.randomFillSync=gt.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var __awaiter$5=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})},__rest$1=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(pe,ge){var Se={};for(var Ne in pe)Object.prototype.hasOwnProperty.call(pe,Ne)&&ge.indexOf(Ne)<0&&(Se[Ne]=pe[Ne]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ze=0,Ne=Object.getOwnPropertySymbols(pe);Ze<Ne.length;Ze++)ge.indexOf(Ne[Ze])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ne[Ze])&&(Se[Ne[Ze]]=pe[Ne[Ze]]);return Se};Object.defineProperty(runtime,"__esModule",{value:!0}),runtime.Runtime=void 0;const crypto_1$1=requireCryptoBrowserify(),notImplemented=pe=>()=>{throw new Error("method not implemented: "+pe)},prohibitedInView=pe=>()=>{throw new Error("method not available for view calls: "+pe)};class Runtime{constructor(ge){var{contractCode:Se}=ge,Ne=__rest$1(ge,["contractCode"]);this.context=Ne,this.wasm=this.prepareWASM(Buffer$F.from(Se,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer$F.from([])}readUTF16CStr(ge){const Se=[],Ne=new Uint16Array(this.memory.buffer);let Ze=Number(ge)/2;for(;Ne[Ze]!=0;)Se.push(Ne[Ze]),Ze++;return Buffer$F.from(Uint16Array.from(Se).buffer).toString("ucs2")}readUTF8CStr(ge,Se){const Ne=[],Ze=new Uint8Array(this.memory.buffer);let Je=Number(Se);for(let Xe=0;Xe<ge&&Ze[Je]!=0;Xe++)Ne.push(Ze[Je]),Je++;return Buffer$F.from(Ne).toString("utf8")}storageRead(ge,Se){const Ne=Buffer$F.from(new Uint8Array(this.memory.buffer,Number(Se),Number(ge))),Ze=this.context.contractState.filter(Je=>Buffer$F.compare(Je.key,Ne)===0).map(Je=>Je.value);return Ze.length===0?null:Ze.length>1?Ze:Ze[0]}prepareWASM(ge){const Se=[];if(ge.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const Ze=ge.readUInt32LE(4);if(Ze!=1)throw new Error("Invalid version: "+Ze);let Je=8;Se.push(ge.subarray(0,Je));function Xe(){let xt=0,fr=0,ar;do ar=ge[Je++],xt|=(ar&127)<<fr,fr+=7;while(ar&128);return xt}function vt(){const fr=ge[Je++]&1,ar=Xe(),gr=fr?Xe():null;return{initial:ar,max:gr}}function gt(){const xt=Xe(),fr=ge.subarray(Je,Je+xt);return Je+=xt,fr.toString("utf8")}function kt(xt){const fr=[];do{let ar=xt&127;xt>>=7,xt!==0&&(ar|=128),fr.push(ar)}while(xt!==0);return Buffer$F.from(fr)}function mt(xt){const fr=Buffer$F.from(xt,"utf8");return Buffer$F.concat([kt(fr.length),fr])}do{const xt=Je,fr=ge.readUInt8(Je);Je++;const ar=Xe(),gr=Je+ar;if(fr==5)Se.push(Buffer$F.from([5,1,0]));else if(fr==2){const wr=[],Er=Xe();for(let Or=0;Or<Er;Or++){const Pr=Je;gt(),gt();const kr=ge.readUInt8(Je);Je++;let Ur=!1;switch(kr){case 0:Xe();break;case 1:Je++,vt();break;case 2:vt(),Ur=!0;break;case 3:Je++,Je++;break;default:throw new Error("Invalid import kind: "+kr)}Ur||wr.push(ge.subarray(Pr,Je))}const _r=Buffer$F.concat([mt("env"),mt("memory"),Buffer$F.from([2]),Buffer$F.from([0]),kt(1)]);wr.push(_r);const Sr=Buffer$F.concat([kt(wr.length),...wr]);Se.push(Buffer$F.concat([Buffer$F.from([2]),kt(Sr.length),Sr]))}else if(fr==7){const wr=[],Er=Xe();for(let Sr=0;Sr<Er;Sr++){const Or=Je;gt();const Pr=ge.readUInt8(Je);Je++,Xe(),Pr!==2&&wr.push(ge.subarray(Or,Je))}const _r=Buffer$F.concat([kt(wr.length),...wr]);Se.push(Buffer$F.concat([Buffer$F.from([7]),kt(_r.length),_r]))}else Se.push(ge.subarray(xt,gr));Je=gr}while(Je<ge.length);return Buffer$F.concat(Se)}getRegisterLength(ge){return BigInt(this.registers[ge.toString()]?this.registers[ge.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(ge,Se){new Uint8Array(this.memory.buffer).set(this.registers[ge.toString()]||Buffer$F.from([]),Number(Se))}getCurrentAccountId(ge){this.registers[ge.toString()]=Buffer$F.from(this.context.contractId)}inputMethodArgs(ge){this.registers[ge.toString()]=Buffer$F.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(ge,Se,Ne){const Ze=new Uint8Array(this.memory.buffer,Number(Se),Number(ge)),Je=(0,crypto_1$1.createHash)("sha256");Je.update(Ze),this.registers[Ne.toString()]=Je.digest()}returnValue(ge,Se){this.result=Buffer$F.from(new Uint8Array(this.memory.buffer,Number(Se),Number(ge)))}panic(ge){throw new Error("panic: "+ge)}abort(ge,Se,Ne,Ze){const Je=this.readUTF16CStr(ge),Xe=this.readUTF16CStr(Se),vt=`${Je} ${Xe}:${Ne}:${Ze}`;throw!Je||!Xe?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+vt)}appendToLog(ge,Se){this.logs.push(this.readUTF8CStr(ge,Se))}readStorage(ge,Se,Ne){const Ze=this.storageRead(ge,Se);return Ze==null?BigInt(0):(this.registers[Ne]=Ze,BigInt(1))}hasStorageKey(ge,Se){return this.storageRead(ge,Se)==null?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(ge,Se)=>this.panic(this.readUTF8CStr(ge,Se)),epoch_height:notImplemented("epoch_height"),storage_usage:notImplemented("storage_usage"),account_balance:notImplemented("account_balance"),account_locked_balance:notImplemented("account_locked_balance"),random_seed:notImplemented("random_seed"),ripemd160:notImplemented("ripemd160"),keccak256:notImplemented("keccak256"),keccak512:notImplemented("keccak512"),ecrecover:notImplemented("ecrecover"),validator_stake:notImplemented("validator_stake"),validator_total_stake:notImplemented("validator_total_stake"),write_register:prohibitedInView("write_register"),signer_account_id:prohibitedInView("signer_account_id"),signer_account_pk:prohibitedInView("signer_account_pk"),predecessor_account_id:prohibitedInView("predecessor_account_id"),attached_deposit:prohibitedInView("attached_deposit"),prepaid_gas:prohibitedInView("prepaid_gas"),used_gas:prohibitedInView("used_gas"),promise_create:prohibitedInView("promise_create"),promise_then:prohibitedInView("promise_then"),promise_and:prohibitedInView("promise_and"),promise_batch_create:prohibitedInView("promise_batch_create"),promise_batch_then:prohibitedInView("promise_batch_then"),promise_batch_action_create_account:prohibitedInView("promise_batch_action_create_account"),promise_batch_action_deploy_contract:prohibitedInView("promise_batch_action_deploy_contract"),promise_batch_action_function_call:prohibitedInView("promise_batch_action_function_call"),promise_batch_action_function_call_weight:prohibitedInView("promise_batch_action_function_call_weight"),promise_batch_action_transfer:prohibitedInView("promise_batch_action_transfer"),promise_batch_action_stake:prohibitedInView("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:prohibitedInView("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:prohibitedInView("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:prohibitedInView("promise_batch_action_delete_key"),promise_batch_action_delete_account:prohibitedInView("promise_batch_action_delete_account"),promise_results_count:prohibitedInView("promise_results_count"),promise_result:prohibitedInView("promise_result"),promise_return:prohibitedInView("promise_return"),storage_write:prohibitedInView("storage_write"),storage_remove:prohibitedInView("storage_remove")}}execute(ge){return __awaiter$5(this,void 0,void 0,function*(){const Se=yield WebAssembly.compile(this.wasm),Ze=(yield WebAssembly.instantiate(Se,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})})).exports[ge];if(Ze==null)throw new Error(`Contract method '${ge}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return Ze(),{result:this.result,logs:this.logs}})}}runtime.Runtime=Runtime;var __awaiter$4=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})},__rest=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(pe,ge){var Se={};for(var Ne in pe)Object.prototype.hasOwnProperty.call(pe,Ne)&&ge.indexOf(Ne)<0&&(Se[Ne]=pe[Ne]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ze=0,Ne=Object.getOwnPropertySymbols(pe);Ze<Ne.length;Ze++)ge.indexOf(Ne[Ze])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ne[Ze])&&(Se[Ne[Ze]]=pe[Ne[Ze]]);return Se};Object.defineProperty(localViewExecution,"__esModule",{value:!0}),localViewExecution.LocalViewExecution=void 0;const utils_1$2=lib$9,storage_1=storage,runtime_1=runtime,utils_2$1=utils$v;class LocalViewExecution{constructor(ge){this.connection=ge.getConnection(),this.storage=new storage_1.Storage}fetchContractCode(ge,Se){return __awaiter$4(this,void 0,void 0,function*(){return(yield this.connection.provider.query(Object.assign({request_type:"view_code",account_id:ge},Se))).code_base64})}fetchContractState(ge,Se){return __awaiter$4(this,void 0,void 0,function*(){return(0,utils_2$1.viewState)(this.connection,ge,"",Se)})}fetch(ge,Se){return __awaiter$4(this,void 0,void 0,function*(){const Ne=yield this.connection.provider.block(Se),Ze=Ne.header.hash,Je=Ne.header.height,Xe=Ne.header.timestamp,vt=yield this.fetchContractCode(ge,Se),gt=yield this.fetchContractState(ge,Se);return{blockHash:Ze,blockHeight:Je,blockTimestamp:Xe,contractCode:vt,contractState:gt}})}loadOrFetch(ge,Se){return __awaiter$4(this,void 0,void 0,function*(){const Ne=this.storage.load(Se);if(Ne)return Ne;const Ze=yield this.fetch(ge,Se),{blockHash:Je}=Ze,Xe=__rest(Ze,["blockHash"]);return this.storage.save(Je,Xe),Xe})}viewFunction(ge){var{contractId:Se,methodName:Ne,args:Ze={},blockQuery:Je={finality:"optimistic"}}=ge;return __rest(ge,["contractId","methodName","args","blockQuery"]),__awaiter$4(this,void 0,void 0,function*(){const Xe=JSON.stringify(Ze),{contractCode:vt,contractState:gt,blockHeight:kt,blockTimestamp:mt}=yield this.loadOrFetch(Se,Je),xt=new runtime_1.Runtime({contractId:Se,contractCode:vt,contractState:gt,blockHeight:kt,blockTimestamp:mt,methodArgs:Xe}),{result:fr,logs:ar}=yield xt.execute(Ne);return ar&&(0,utils_1$2.printTxOutcomeLogs)({contractId:Se,logs:ar}),JSON.parse(Buffer$F.from(fr).toString())})}}localViewExecution.LocalViewExecution=LocalViewExecution;var isMyJsonValid={exports:{}};function isProperty$2(pe){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(pe)}var isProperty_1=isProperty$2,isProperty$1=isProperty_1,gen=function(pe,ge){return isProperty$1(ge)?pe+"."+ge:pe+"["+JSON.stringify(ge)+"]"};gen.valid=isProperty$1,gen.property=function(pe){return isProperty$1(pe)?pe:JSON.stringify(pe)};for(var generateObjectProperty=gen,util=util$4,isProperty=isProperty_1,INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/,RESERVED=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],RESERVED_MAP={},i$4=0;i$4<RESERVED.length;i$4++)RESERVED_MAP[RESERVED[i$4]]=!0;var isVariable=function(pe){return isProperty(pe)&&!RESERVED_MAP.hasOwnProperty(pe)},formats$1={s:function(pe){return""+pe},d:function(pe){return""+Number(pe)},o:function(pe){return JSON.stringify(pe)}},genfun=function(){var pe=[],ge=0,Se={},Ne=function(Xe){for(var vt="";vt.length<ge*2;)vt+="  ";pe.push(vt+Xe)},Ze=function(Xe){if(INDENT_END.test(Xe.trim()[0])&&INDENT_START.test(Xe[Xe.length-1])){ge--,Ne(Xe),ge++;return}if(INDENT_START.test(Xe[Xe.length-1])){Ne(Xe),ge++;return}if(INDENT_END.test(Xe.trim()[0])){ge--,Ne(Xe);return}Ne(Xe)},Je=function(Xe){if(!Xe)return Je;if(arguments.length===1&&Xe.indexOf(`
`)>-1)for(var vt=Xe.trim().split(`
`),gt=0;gt<vt.length;gt++)Ze(vt[gt].trim());else Ze(util.format.apply(util,arguments));return Je};return Je.scope={},Je.formats=formats$1,Je.sym=function(Xe){return(!Xe||!isVariable(Xe))&&(Xe="tmp"),Se[Xe]||(Se[Xe]=0),Xe+(Se[Xe]++||"")},Je.property=function(Xe,vt){return arguments.length===1&&(vt=Xe,Xe=""),vt=vt+"",isProperty(vt)?Xe?Xe+"."+vt:vt:Xe?Xe+"["+JSON.stringify(vt)+"]":JSON.stringify(vt)},Je.toString=function(){return pe.join(`
`)},Je.toFunction=function(Xe){Xe||(Xe={});var vt="return ("+Je.toString()+")";Object.keys(Je.scope).forEach(function(mt){Xe[mt]||(Xe[mt]=Je.scope[mt])});var gt=Object.keys(Xe).map(function(mt){return mt}),kt=gt.map(function(mt){return Xe[mt]});return Function.apply(null,gt.concat(vt)).apply(null,kt)},arguments.length&&Je.apply(null,arguments),Je};genfun.formats=formats$1;var generateFunction=genfun,jsonpointer={},hasExcape=/~/,escapeMatcher=/~[01]/g;function escapeReplacer(pe){switch(pe){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+pe)}function untilde(pe){return hasExcape.test(pe)?pe.replace(escapeMatcher,escapeReplacer):pe}function setter(pe,ge,Se){for(var Ne,Ze,Je=1,Xe=ge.length;Je<Xe;){if(ge[Je]==="constructor"||ge[Je]==="prototype"||ge[Je]==="__proto__")return pe;if(Ne=untilde(ge[Je++]),Ze=Xe>Je,typeof pe[Ne]>"u"&&(Array.isArray(pe)&&Ne==="-"&&(Ne=pe.length),Ze&&(ge[Je]!==""&&ge[Je]<1/0||ge[Je]==="-"?pe[Ne]=[]:pe[Ne]={})),!Ze)break;pe=pe[Ne]}var vt=pe[Ne];return Se===void 0?delete pe[Ne]:pe[Ne]=Se,vt}function compilePointer(pe){if(typeof pe=="string"){if(pe=pe.split("/"),pe[0]==="")return pe;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(pe)){for(const ge of pe)if(typeof ge!="string"&&typeof ge!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return pe}throw new Error("Invalid JSON pointer.")}function get$1(pe,ge){if(typeof pe!="object")throw new Error("Invalid input object.");ge=compilePointer(ge);var Se=ge.length;if(Se===1)return pe;for(var Ne=1;Ne<Se;){if(pe=pe[untilde(ge[Ne++])],Se===Ne)return pe;if(typeof pe!="object"||pe===null)return}}function set$2(pe,ge,Se){if(typeof pe!="object")throw new Error("Invalid input object.");if(ge=compilePointer(ge),ge.length===0)throw new Error("Invalid JSON pointer for set.");return setter(pe,ge,Se)}function compile(pe){var ge=compilePointer(pe);return{get:function(Se){return get$1(Se,ge)},set:function(Se,Ne){return set$2(Se,ge,Ne)}}}jsonpointer.get=get$1,jsonpointer.set=set$2,jsonpointer.compile=compile;var formats={},isMyIpValid={exports:{}};(function(pe){var ge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Se=/\/\d{1,3}(?=%|$)/,Ne=/\//,Ze=/%.*$/,Je=/([^0-9a-f:/%])/i,Xe=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function vt(mt){if(!ge.test(mt))return!1;var xt=mt.split(".");if(xt.length!==4||xt[0][0]==="0"&&xt[0].length>1||xt[1][0]==="0"&&xt[1].length>1||xt[2][0]==="0"&&xt[2].length>1||xt[3][0]==="0"&&xt[3].length>1)return!1;var fr=Number(xt[0]),ar=Number(xt[1]),gr=Number(xt[2]),wr=Number(xt[3]);return fr>=0&&fr<256&&ar>=0&&ar<256&&gr>=0&&gr<256&&wr>=0&&wr<256}function gt(mt){var xt=mt.replace(Se,""),fr=mt.length!==xt.length;if(fr||!fr&&Ne.test(mt))return!1;var ar=xt.replace(Ze,""),gr=ar.lastIndexOf(":");if(gr===-1)return!1;var wr=ar.substring(gr+1),Er=vt(wr),_r=Er?ar.substring(0,gr+1)+"1234:5678":ar;if(Je.test(_r)||Xe.test(_r))return!1;var Sr=_r.split("::");if(Sr.length>2)return!1;if(Sr.length===2){var Or=Sr[0]===""?[]:Sr[0].split(":"),Pr=Sr[1]===""?[]:Sr[1].split(":"),kr=8-(Or.length+Pr.length);if(kr<=0)return!1}else if(_r.split(":").length!==8)return!1;return!0}function kt(mt){return vt(mt)||gt(mt)}pe.exports=function(xt){if(xt||(xt={}),xt.version===4)return vt;if(xt.version===6)return gt;if(xt.version==null)return kt;throw new Error("Unknown version: "+xt.version)},pe.exports.__all_regexes__=[ge,Se,Ne,Ze,Je,Xe]})(isMyIpValid);var isMyIpValidExports=isMyIpValid.exports;(function(pe){var ge=isMyIpValidExports,Se=/\s/,Ne=/^[a-zA-Z0-9.-]+$/,Ze=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,Je=/^\+[0-9][0-9 ]{5,27}[0-9]$/,Xe=/ {2}/,vt=/ /g;pe["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,pe.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,pe.time=/^\d{2}:\d{2}:\d{2}$/,pe.email=function(gt){return gt.indexOf("@")!==-1&&!Se.test(gt)},pe["ip-address"]=pe.ipv4=ge({version:4}),pe.ipv6=ge({version:6}),pe.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,pe.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,pe.hostname=function(gt){if(!Ne.test(gt))return!1;for(var kt=gt.split("."),mt=0;mt<kt.length;mt++)if(!Ze.test(kt[mt]))return!1;return!0},pe.alpha=/^[a-zA-Z]+$/,pe.alphanumeric=/^[a-zA-Z0-9]+$/,pe.style=/.:\s*[^;]/g,pe.phone=function(gt){if(!Je.test(gt)||Xe.test(gt))return!1;var kt=gt.substring(1).replace(vt,"").length;return kt>=7&&kt<=15},pe["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(formats),isMyJsonValid.exports,function(pe){var ge=generateObjectProperty,Se=generateFunction,Ne=jsonpointer,Ze=immutable,Je=formats,Xe=function(fr,ar,gr){var wr=function(kr){return kr&&kr.id===gr?kr:typeof kr!="object"||!kr?null:Object.keys(kr).reduce(function(Ur,Yr){return Ur||wr(kr[Yr])},null)},Er=wr(fr);if(Er)return Er;gr=gr.replace(/^#/,""),gr=gr.replace(/\/$/,"");try{return Ne.get(fr,decodeURI(gr))}catch{var _r=gr.indexOf("#"),Sr;if(_r!==0)if(_r===-1)Sr=ar[gr];else{var Or=gr.slice(0,_r);Sr=ar[Or];var Pr=gr.slice(_r).replace(/^#/,"");try{return Ne.get(Sr,Pr)}catch{}}else Sr=ar[gr];return Sr||null}},vt={};vt.any=function(){return"true"},vt.null=function(fr){return fr+" === null"},vt.boolean=function(fr){return"typeof "+fr+' === "boolean"'},vt.array=function(fr){return"Array.isArray("+fr+")"},vt.object=function(fr){return"typeof "+fr+' === "object" && '+fr+" && !Array.isArray("+fr+")"},vt.number=function(fr){return"typeof "+fr+' === "number" && isFinite('+fr+")"},vt.integer=function(fr){return"typeof "+fr+' === "number" && (Math.floor('+fr+") === "+fr+" || "+fr+" > 9007199254740992 || "+fr+" < -9007199254740992)"},vt.string=function(fr){return"typeof "+fr+' === "string"'};var gt=function(fr,ar){ar=Math.min(ar===-1?fr.length:ar,fr.length);for(var gr=[],wr=0;wr<ar;wr++)gr.push(typeof fr[wr]=="object"?JSON.stringify(fr[wr]):fr[wr]);for(var wr=1;wr<gr.length;wr++)if(gr.indexOf(gr[wr])!==wr)return!1;return!0},kt=function(fr,ar){var gr,wr=(ar|0)!==ar?Math.pow(10,ar.toString().split(".").pop().length):1;if(wr>1){var Er=(fr|0)!==fr?Math.pow(10,fr.toString().split(".").pop().length):1;Er>wr?gr=!0:gr=Math.round(wr*fr)%(wr*ar)}else gr=fr%ar;return!gr},mt=function(fr,ar,gr){return gr>-1&&ar.length>gr?!0:fr.test(ar)},xt=function(fr,ar,gr,wr,Er){var _r=Er?Ze(Je,Er.formats):Je,Sr={unique:gt,formats:_r,isMultipleOf:kt,testLimitedRegex:mt},Or=Er?!!Er.verbose:!1,Pr=Er&&Er.greedy!==void 0?Er.greedy:!1,kr={},Ur=[],Yr=function(Ct){var or=Ct+(kr[Ct]=(kr[Ct]||0)+1);return Ur.push(or),or},jr=function(Ct){var or=JSON.stringify(Ct);try{for(var pr=/\[([^\[\]"]+)\]/;pr.test(or);)or=or.replace(pr,lr);return or}catch{return JSON.stringify(Ct)}function lr(vr,tr){if(Ur.indexOf(tr)===-1)throw new Error("Unreplaceable");return'." + '+tr+' + "'}},Dr={},Vr=function(Ct){if(Dr[Ct])return Dr[Ct];var or=Yr("pattern");return Sr[or]=new RegExp(Ct),Dr[Ct]=or,or},Ir=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],br=function(){var Ct=Ir.shift();return Ir.push(Ct+Ct[0]),Ur.push(Ct),Ct},Vt=function(Ct,or,pr,lr,vr){var tr=or.properties,ur=or.type,Ft=!1;Array.isArray(or.items)&&(tr={},or.items.forEach(function(dn,cn){tr[cn]=dn}),ur="array",Ft=!0);var yr=0,Nr=function(dn,cn,Wr){ht("errors++"),pr===!0&&(ht("if (validate.errors === null) validate.errors = []"),Or?ht("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",jr(cn||Ct),JSON.stringify(dn),Wr||Ct,JSON.stringify(ur),JSON.stringify(vr)):ht("validate.errors.push({field:%s,message:%s})",jr(cn||Ct),JSON.stringify(dn)))};or.required===!0?(yr++,ht("if (%s === undefined) {",Ct),Nr("is required"),ht("} else {")):(yr++,ht("if (%s !== undefined) {",Ct));var qr=[].concat(ur).map(function(dn){if(dn&&!vt.hasOwnProperty(dn))throw new Error("Unknown type: "+dn);return vt[dn||"any"](Ct)}).join(" || ")||"true";if(qr!=="true"&&(yr++,ht("if (!(%s)) {",qr),Nr("is the wrong type"),ht("} else {")),Ft){if(or.additionalItems===!1)ht("if (%s.length > %d) {",Ct,or.items.length),Nr("has additional items"),ht("}");else if(or.additionalItems){var Rr=br();ht("for (var %s = %d; %s < %s.length; %s++) {",Rr,or.items.length,Rr,Ct,Rr),Vt(Ct+"["+Rr+"]",or.additionalItems,pr,lr,vr.concat("additionalItems")),ht("}")}}if(or.format&&_r[or.format]){ur!=="string"&&Je[or.format]&&ht("if (%s) {",vt.string(Ct));var Ar=Yr("format");Sr[Ar]=_r[or.format],typeof Sr[Ar]=="function"?ht("if (!%s(%s)) {",Ar,Ct):ht("if (!testLimitedRegex(%s, %s, %d)) {",Ar,Ct,typeof or.maxLength>"u"?-1:or.maxLength),Nr("must be "+or.format+" format"),ht("}"),ur!=="string"&&Je[or.format]&&ht("}")}if(Array.isArray(or.required)){var Ar=Yr("missing");ht("var %s = 0",Ar);var Tr=function(cn){var Wr=ge(Ct,cn);ht("if (%s === undefined) {",Wr),Nr("is required",Wr),ht("%s++",Ar),ht("}")};ht("if ((%s)) {",ur!=="object"?vt.object(Ct):"true"),or.required.map(Tr),ht("}"),Pr||(ht("if (%s === 0) {",Ar),yr++)}if(or.uniqueItems&&(ur!=="array"&&ht("if (%s) {",vt.array(Ct)),ht("if (!(unique(%s, %d))) {",Ct,or.maxItems||-1),Nr("must be unique"),ht("}"),ur!=="array"&&ht("}")),or.enum){var Kr=or.enum.some(function(dn){return typeof dn=="object"}),Zr=Kr?function(dn){return"JSON.stringify("+Ct+") !== JSON.stringify("+JSON.stringify(dn)+")"}:function(dn){return Ct+" !== "+JSON.stringify(dn)};ht("if (%s) {",or.enum.map(Zr).join(" && ")||"false"),Nr("must be an enum value"),ht("}")}if(or.dependencies&&(ur!=="object"&&ht("if (%s) {",vt.object(Ct)),Object.keys(or.dependencies).forEach(function(dn){var cn=or.dependencies[dn];typeof cn=="string"&&(cn=[cn]);var Wr=function(on){return ge(Ct,on)+" !== undefined"};Array.isArray(cn)&&(ht("if (%s !== undefined && !(%s)) {",ge(Ct,dn),cn.map(Wr).join(" && ")||"true"),Nr("dependencies not set"),ht("}")),typeof cn=="object"&&(ht("if (%s !== undefined) {",ge(Ct,dn)),Vt(Ct,cn,pr,lr,vr.concat(["dependencies",dn])),ht("}"))}),ur!=="object"&&ht("}")),or.additionalProperties||or.additionalProperties===!1){ur!=="object"&&ht("if (%s) {",vt.object(Ct));var Rr=br(),Br=Yr("keys"),Mr=function(cn){return Br+"["+Rr+"] !== "+JSON.stringify(cn)},Gr=function(cn){return"!"+Vr(cn)+".test("+Br+"["+Rr+"])"},en=Object.keys(tr||{}).map(Mr).concat(Object.keys(or.patternProperties||{}).map(Gr)).join(" && ")||"true";ht("var %s = Object.keys(%s)",Br,Ct)("for (var %s = 0; %s < %s.length; %s++) {",Rr,Rr,Br,Rr)("if (%s) {",en),or.additionalProperties===!1?(lr&&ht("delete %s",Ct+"["+Br+"["+Rr+"]]"),Nr("has additional properties",null,JSON.stringify(Ct+".")+" + "+Br+"["+Rr+"]")):Vt(Ct+"["+Br+"["+Rr+"]]",or.additionalProperties,pr,lr,vr.concat(["additionalProperties"])),ht("}")("}"),ur!=="object"&&ht("}")}if(or.$ref){var rn=Xe(gr,Er&&Er.schemas||{},or.$ref);if(rn){var an=ar[or.$ref];an||(ar[or.$ref]=function(Wr){return an(Wr)},an=xt(rn,ar,gr,!1,Er));var Ar=Yr("ref");Sr[Ar]=an,ht("if (!(%s(%s))) {",Ar,Ct),Nr("referenced schema does not match"),ht("}")}}if(or.not){var nn=Yr("prev");ht("var %s = errors",nn),Vt(Ct,or.not,!1,lr,vr.concat("not")),ht("if (%s === errors) {",nn),Nr("negative schema matches"),ht("} else {")("errors = %s",nn)("}")}if(or.items&&!Ft){ur!=="array"&&ht("if (%s) {",vt.array(Ct));var Rr=br();ht("for (var %s = 0; %s < %s.length; %s++) {",Rr,Rr,Ct,Rr),Vt(Ct+"["+Rr+"]",or.items,pr,lr,vr.concat("items")),ht("}"),ur!=="array"&&ht("}")}if(or.patternProperties){ur!=="object"&&ht("if (%s) {",vt.object(Ct));var Br=Yr("keys"),Rr=br();ht("var %s = Object.keys(%s)",Br,Ct)("for (var %s = 0; %s < %s.length; %s++) {",Rr,Rr,Br,Rr),Object.keys(or.patternProperties).forEach(function(Wr){var on=Vr(Wr);ht("if (%s.test(%s)) {",on,Br+"["+Rr+"]"),Vt(Ct+"["+Br+"["+Rr+"]]",or.patternProperties[Wr],pr,lr,vr.concat(["patternProperties",Wr])),ht("}")}),ht("}"),ur!=="object"&&ht("}")}if(or.pattern){var un=Vr(or.pattern);ur!=="string"&&ht("if (%s) {",vt.string(Ct)),ht("if (!(testLimitedRegex(%s, %s, %d))) {",un,Ct,typeof or.maxLength>"u"?-1:or.maxLength),Nr("pattern mismatch"),ht("}"),ur!=="string"&&ht("}")}if(or.allOf&&or.allOf.forEach(function(dn,cn){Vt(Ct,dn,pr,lr,vr.concat(["allOf",cn]))}),or.anyOf&&or.anyOf.length){var nn=Yr("prev");or.anyOf.forEach(function(cn,Wr){Wr===0?ht("var %s = errors",nn):ht("if (errors !== %s) {",nn)("errors = %s",nn),Vt(Ct,cn,!1,!1,vr)}),or.anyOf.forEach(function(cn,Wr){Wr&&ht("}")}),ht("if (%s !== errors) {",nn),Nr("no schemas match"),ht("}")}if(or.oneOf&&or.oneOf.length){var nn=Yr("prev"),tn=Yr("passes");ht("var %s = errors",nn)("var %s = 0",tn),or.oneOf.forEach(function(cn,Wr){Vt(Ct,cn,!1,!1,vr),ht("if (%s === errors) {",nn)("%s++",tn)("} else {")("errors = %s",nn)("}")}),ht("if (%s !== 1) {",tn),Nr("no (or more than one) schemas match"),ht("}")}for(or.multipleOf!==void 0&&(ur!=="number"&&ur!=="integer"&&ht("if (%s) {",vt.number(Ct)),ht("if (!isMultipleOf(%s, %d)) {",Ct,or.multipleOf),Nr("has a remainder"),ht("}"),ur!=="number"&&ur!=="integer"&&ht("}")),or.maxProperties!==void 0&&(ur!=="object"&&ht("if (%s) {",vt.object(Ct)),ht("if (Object.keys(%s).length > %d) {",Ct,or.maxProperties),Nr("has more properties than allowed"),ht("}"),ur!=="object"&&ht("}")),or.minProperties!==void 0&&(ur!=="object"&&ht("if (%s) {",vt.object(Ct)),ht("if (Object.keys(%s).length < %d) {",Ct,or.minProperties),Nr("has less properties than allowed"),ht("}"),ur!=="object"&&ht("}")),or.maxItems!==void 0&&(ur!=="array"&&ht("if (%s) {",vt.array(Ct)),ht("if (%s.length > %d) {",Ct,or.maxItems),Nr("has more items than allowed"),ht("}"),ur!=="array"&&ht("}")),or.minItems!==void 0&&(ur!=="array"&&ht("if (%s) {",vt.array(Ct)),ht("if (%s.length < %d) {",Ct,or.minItems),Nr("has less items than allowed"),ht("}"),ur!=="array"&&ht("}")),or.maxLength!==void 0&&(ur!=="string"&&ht("if (%s) {",vt.string(Ct)),ht("if (%s.length > %d) {",Ct,or.maxLength),Nr("has longer length than allowed"),ht("}"),ur!=="string"&&ht("}")),or.minLength!==void 0&&(ur!=="string"&&ht("if (%s) {",vt.string(Ct)),ht("if (%s.length < %d) {",Ct,or.minLength),Nr("has less length than allowed"),ht("}"),ur!=="string"&&ht("}")),or.minimum!==void 0&&(ur!=="number"&&ur!=="integer"&&ht("if (%s) {",vt.number(Ct)),ht("if (%s %s %d) {",Ct,or.exclusiveMinimum?"<=":"<",or.minimum),Nr("is less than minimum"),ht("}"),ur!=="number"&&ur!=="integer"&&ht("}")),or.maximum!==void 0&&(ur!=="number"&&ur!=="integer"&&ht("if (%s) {",vt.number(Ct)),ht("if (%s %s %d) {",Ct,or.exclusiveMaximum?">=":">",or.maximum),Nr("is more than maximum"),ht("}"),ur!=="number"&&ur!=="integer"&&ht("}")),tr&&Object.keys(tr).forEach(function(dn){Array.isArray(ur)&&ur.indexOf("null")!==-1&&ht("if (%s !== null) {",Ct),Vt(ge(Ct,dn),tr[dn],pr,lr,vr.concat(Ft?dn:["properties",dn])),Array.isArray(ur)&&ur.indexOf("null")!==-1&&ht("}")});yr--;)ht("}")},ht=Se("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return Vt("data",fr,wr,Er&&Er.filter,[]),ht("return errors === 0")("}"),ht=ht.toFunction(Sr),ht.errors=null,Object.defineProperty&&Object.defineProperty(ht,"error",{get:function(){return ht.errors?ht.errors.map(function(Ct){return Ct.field+" "+Ct.message}).join(`
`):""}}),ht.toJSON=function(){return fr},ht};pe.exports=function(fr,ar){return typeof fr=="string"&&(fr=JSON.parse(fr)),xt(fr,{},fr,!0,ar)},pe.exports.filter=function(fr,ar){var gr=pe.exports(fr,Ze(ar,{filter:!0}));return function(wr){return gr(wr),wr}}}(isMyJsonValid);var isMyJsonValidExports=isMyJsonValid.exports,lib$1={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.AbiSerializationType=pe.AbiFunctionModifier=pe.AbiFunctionKind=pe.SCHEMA_VERSION=void 0,pe.SCHEMA_VERSION="0.3.0",function(ge){ge.View="view",ge.Call="call"}(pe.AbiFunctionKind||(pe.AbiFunctionKind={})),function(ge){ge.Init="init",ge.Private="private",ge.Payable="payable"}(pe.AbiFunctionModifier||(pe.AbiFunctionModifier={})),function(ge){ge.Json="json",ge.Borsh="borsh"}(pe.AbiSerializationType||(pe.AbiSerializationType={}))})(lib$1);var errors={};Object.defineProperty(errors,"__esModule",{value:!0}),errors.ConflictingOptions=errors.ArgumentSchemaError=errors.UnknownArgumentError=errors.UnsupportedSerializationError=void 0;class UnsupportedSerializationError extends Error{constructor(ge,Se){super(`Contract method '${ge}' is using an unsupported serialization type ${Se}`)}}errors.UnsupportedSerializationError=UnsupportedSerializationError;class UnknownArgumentError extends Error{constructor(ge,Se){super(`Unrecognized argument '${ge}', expected '${JSON.stringify(Se)}'`)}}errors.UnknownArgumentError=UnknownArgumentError;class ArgumentSchemaError extends Error{constructor(ge,Se){super(`Argument '${ge}' does not conform to the specified ABI schema: '${JSON.stringify(Se)}'`)}}errors.ArgumentSchemaError=ArgumentSchemaError;class ConflictingOptions extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}errors.ConflictingOptions=ConflictingOptions;var __awaiter$3=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}};Object.defineProperty(contract$1,"__esModule",{value:!0}),contract$1.Contract=void 0;const utils_1$1=lib$9,types_1=lib$8,local_view_execution_1=localViewExecution,is_my_json_valid_1=__importDefault(isMyJsonValidExports),depd_1=__importDefault(browser$g),near_abi_1=lib$1,account_1=account$1,errors_1=errors,utils_2=utils$v;function nameFunction(pe,ge){return{[pe](...Se){return ge(...Se)}}[pe]}function validateArguments(pe,ge,Se){var Ne;if(!isObject$9(pe))return;if(ge.params&&ge.params.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(ge.name,ge.params.serialization_type);if(ge.result&&ge.result.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(ge.name,ge.result.serialization_type);const Ze=((Ne=ge.params)===null||Ne===void 0?void 0:Ne.args)||[];for(const Je of Ze){const Xe=pe[Je.name],vt=Je.type_schema;vt.definitions=Se.body.root_schema.definitions;const gt=(0,is_my_json_valid_1.default)(vt);if(!gt(Xe))throw new errors_1.ArgumentSchemaError(Je.name,gt.errors)}for(const Je of Object.keys(pe))if(!Ze.find(vt=>vt.name===Je))throw new errors_1.UnknownArgumentError(Je,Ze.map(vt=>vt.name))}const isUint8Array=pe=>pe&&pe.byteLength!==void 0&&pe.byteLength===pe.length,isObject$9=pe=>Object.prototype.toString.call(pe)==="[object Object]";class Contract{constructor(ge,Se,Ne){this.connection=ge.getConnection(),ge instanceof account_1.Account&&((0,depd_1.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=ge),this.contractId=Se,this.lve=new local_view_execution_1.LocalViewExecution(ge);const{viewMethods:Ze=[],changeMethods:Je=[],abi:Xe,useLocalViewExecution:vt}=Ne;let gt=Ze.map(mt=>({name:mt,abi:null})),kt=Je.map(mt=>({name:mt,abi:null}));if(Xe){if(gt.length>0||kt.length>0)throw new errors_1.ConflictingOptions;gt=Xe.body.functions.filter(mt=>mt.kind===near_abi_1.AbiFunctionKind.View).map(mt=>({name:mt.name,abi:mt})),kt=Xe.body.functions.filter(mt=>mt.kind===near_abi_1.AbiFunctionKind.Call).map(mt=>({name:mt.name,abi:mt}))}gt.forEach(({name:mt,abi:xt})=>{Object.defineProperty(this,mt,{writable:!1,enumerable:!0,value:nameFunction(mt,(fr={},ar={},...gr)=>__awaiter$3(this,void 0,void 0,function*(){if(gr.length||!(isObject$9(fr)||isUint8Array(fr))||!isObject$9(ar))throw new types_1.PositionalArgsError;if(xt&&validateArguments(fr,xt,Xe),vt)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:mt,args:fr},ar))}catch(wr){utils_1$1.Logger.warn(`Local view execution failed with: "${wr.message}"`),utils_1$1.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:mt,args:fr},ar)):(0,utils_2.viewFunction)(this.connection,Object.assign({contractId:this.contractId,methodName:mt,args:fr},ar))}))})}),kt.forEach(({name:mt,abi:xt})=>{Object.defineProperty(this,mt,{writable:!1,enumerable:!0,value:nameFunction(mt,(...fr)=>__awaiter$3(this,void 0,void 0,function*(){if(fr.length&&(fr.length>3||!(isObject$9(fr[0])||isUint8Array(fr[0]))))throw new types_1.PositionalArgsError;return(fr.length>1||!(fr[0]&&fr[0].args))&&((0,depd_1.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),fr[0]={args:fr[0],gas:fr[1],amount:fr[2]}),xt&&validateArguments(fr[0].args,xt,Xe),this._changeMethod(Object.assign({methodName:mt},fr[0]))}))})})}_changeMethod({signerAccount:ge,args:Se,methodName:Ne,gas:Ze,amount:Je,meta:Xe,callbackUrl:vt}){return __awaiter$3(this,void 0,void 0,function*(){validateBNLike({gas:Ze,amount:Je});const gt=this.account||ge;if(!gt)throw new Error("signerAccount must be specified");const kt=yield gt.functionCall({contractId:this.contractId,methodName:Ne,args:Se,gas:Ze,attachedDeposit:Je,walletMeta:Xe,walletCallbackUrl:vt});return(0,utils_1$1.getTransactionLastResult)(kt)})}}contract$1.Contract=Contract;function validateBNLike(pe){const ge="number, decimal string or BigInt";for(const Se of Object.keys(pe)){const Ne=pe[Se];if(Ne&&typeof Ne!="bigint"&&isNaN(Ne))throw new types_1.ArgumentTypeError(Se,ge,Ne)}}(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MultisigStateStatus=pe.MultisigDeleteRequestRejectionError=pe.UnsupportedSerializationError=pe.UnknownArgumentError=pe.ConflictingOptions=pe.ArgumentSchemaError=pe.Contract=pe.MULTISIG_CONFIRM_METHODS=pe.MULTISIG_CHANGE_METHODS=pe.MULTISIG_DEPOSIT=pe.MULTISIG_GAS=pe.MULTISIG_ALLOWANCE=pe.MULTISIG_STORAGE_KEY=pe.Connection=pe.AccountMultisig=pe.UrlAccountCreator=pe.LocalAccountCreator=pe.AccountCreator=pe.Account2FA=pe.Account=void 0;var ge=account$1;Object.defineProperty(pe,"Account",{enumerable:!0,get:function(){return ge.Account}});var Se=account_2fa;Object.defineProperty(pe,"Account2FA",{enumerable:!0,get:function(){return Se.Account2FA}});var Ne=account_creator$1;Object.defineProperty(pe,"AccountCreator",{enumerable:!0,get:function(){return Ne.AccountCreator}}),Object.defineProperty(pe,"LocalAccountCreator",{enumerable:!0,get:function(){return Ne.LocalAccountCreator}}),Object.defineProperty(pe,"UrlAccountCreator",{enumerable:!0,get:function(){return Ne.UrlAccountCreator}});var Ze=account_multisig$1;Object.defineProperty(pe,"AccountMultisig",{enumerable:!0,get:function(){return Ze.AccountMultisig}});var Je=connection$1;Object.defineProperty(pe,"Connection",{enumerable:!0,get:function(){return Je.Connection}});var Xe=constants$1;Object.defineProperty(pe,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return Xe.MULTISIG_STORAGE_KEY}}),Object.defineProperty(pe,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return Xe.MULTISIG_ALLOWANCE}}),Object.defineProperty(pe,"MULTISIG_GAS",{enumerable:!0,get:function(){return Xe.MULTISIG_GAS}}),Object.defineProperty(pe,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return Xe.MULTISIG_DEPOSIT}}),Object.defineProperty(pe,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return Xe.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(pe,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return Xe.MULTISIG_CONFIRM_METHODS}});var vt=contract$1;Object.defineProperty(pe,"Contract",{enumerable:!0,get:function(){return vt.Contract}});var gt=errors;Object.defineProperty(pe,"ArgumentSchemaError",{enumerable:!0,get:function(){return gt.ArgumentSchemaError}}),Object.defineProperty(pe,"ConflictingOptions",{enumerable:!0,get:function(){return gt.ConflictingOptions}}),Object.defineProperty(pe,"UnknownArgumentError",{enumerable:!0,get:function(){return gt.UnknownArgumentError}}),Object.defineProperty(pe,"UnsupportedSerializationError",{enumerable:!0,get:function(){return gt.UnsupportedSerializationError}});var kt=types$1;Object.defineProperty(pe,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return kt.MultisigDeleteRequestRejectionError}}),Object.defineProperty(pe,"MultisigStateStatus",{enumerable:!0,get:function(){return kt.MultisigStateStatus}})})(lib$3),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.logWarning=pe.TypedError=pe.PositionalArgsError=pe.ErrorContext=pe.ArgumentTypeError=pe.UnsupportedSerializationError=pe.UnknownArgumentError=pe.ConflictingOptions=pe.ArgumentSchemaError=void 0;var ge=lib$3;Object.defineProperty(pe,"ArgumentSchemaError",{enumerable:!0,get:function(){return ge.ArgumentSchemaError}}),Object.defineProperty(pe,"ConflictingOptions",{enumerable:!0,get:function(){return ge.ConflictingOptions}}),Object.defineProperty(pe,"UnknownArgumentError",{enumerable:!0,get:function(){return ge.UnknownArgumentError}}),Object.defineProperty(pe,"UnsupportedSerializationError",{enumerable:!0,get:function(){return ge.UnsupportedSerializationError}});var Se=lib$8;Object.defineProperty(pe,"ArgumentTypeError",{enumerable:!0,get:function(){return Se.ArgumentTypeError}}),Object.defineProperty(pe,"ErrorContext",{enumerable:!0,get:function(){return Se.ErrorContext}}),Object.defineProperty(pe,"PositionalArgsError",{enumerable:!0,get:function(){return Se.PositionalArgsError}}),Object.defineProperty(pe,"TypedError",{enumerable:!0,get:function(){return Se.TypedError}});var Ne=lib$9;Object.defineProperty(pe,"logWarning",{enumerable:!0,get:function(){return Ne.logWarning}})}(errors$1);var logger={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Logger=void 0;var ge=lib$9;Object.defineProperty(pe,"Logger",{enumerable:!0,get:function(){return ge.Logger}})})(logger),function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ar,gr,wr,Er){Er===void 0&&(Er=wr);var _r=Object.getOwnPropertyDescriptor(gr,wr);(!_r||("get"in _r?!gr.__esModule:_r.writable||_r.configurable))&&(_r={enumerable:!0,get:function(){return gr[wr]}}),Object.defineProperty(ar,Er,_r)}:function(ar,gr,wr,Er){Er===void 0&&(Er=wr),ar[Er]=gr[wr]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(ar,gr){Object.defineProperty(ar,"default",{enumerable:!0,value:gr})}:function(ar,gr){ar.default=gr}),Ne=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(ar){if(ar&&ar.__esModule)return ar;var gr={};if(ar!=null)for(var wr in ar)wr!=="default"&&Object.prototype.hasOwnProperty.call(ar,wr)&&ge(gr,ar,wr);return Se(gr,ar),gr};Object.defineProperty(pe,"__esModule",{value:!0}),pe.Logger=pe.logWarning=pe.rpc_errors=pe.KeyPairEd25519=pe.KeyPair=pe.PublicKey=pe.format=pe.enums=pe.web=pe.serialize=pe.key_pair=void 0;const Ze=Ne(key_pair);pe.key_pair=Ze;const Je=Ne(serialize$4);pe.serialize=Je;const Xe=Ne(web);pe.web=Xe;const vt=Ne(enums);pe.enums=vt;const gt=Ne(format);pe.format=gt;const kt=Ne(rpc_errors);pe.rpc_errors=kt;const mt=key_pair;Object.defineProperty(pe,"PublicKey",{enumerable:!0,get:function(){return mt.PublicKey}}),Object.defineProperty(pe,"KeyPair",{enumerable:!0,get:function(){return mt.KeyPair}}),Object.defineProperty(pe,"KeyPairEd25519",{enumerable:!0,get:function(){return mt.KeyPairEd25519}});const xt=errors$1;Object.defineProperty(pe,"logWarning",{enumerable:!0,get:function(){return xt.logWarning}});const fr=logger;Object.defineProperty(pe,"Logger",{enumerable:!0,get:function(){return fr.Logger}})}(utils$z);var transaction={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.transfer=pe.stake=pe.functionCallAccessKey=pe.functionCall=pe.fullAccessKey=pe.deployContract=pe.deleteKey=pe.deleteAccount=pe.createAccount=pe.addKey=pe.encodeTransaction=pe.encodeDelegateAction=pe.encodeSignedDelegate=pe.Transaction=pe.SignedTransaction=pe.Signature=pe.signTransaction=pe.createTransaction=pe.SCHEMA=pe.Transfer=pe.Stake=pe.FunctionCallPermission=pe.FunctionCall=pe.FullAccessPermission=pe.DeployContract=pe.DeleteKey=pe.DeleteAccount=pe.CreateAccount=pe.AddKey=pe.AccessKeyPermission=pe.AccessKey=pe.Action=pe.stringifyJsonOrBytes=void 0;var ge=lib$5;Object.defineProperty(pe,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return ge.stringifyJsonOrBytes}}),Object.defineProperty(pe,"Action",{enumerable:!0,get:function(){return ge.Action}}),Object.defineProperty(pe,"AccessKey",{enumerable:!0,get:function(){return ge.AccessKey}}),Object.defineProperty(pe,"AccessKeyPermission",{enumerable:!0,get:function(){return ge.AccessKeyPermission}}),Object.defineProperty(pe,"AddKey",{enumerable:!0,get:function(){return ge.AddKey}}),Object.defineProperty(pe,"CreateAccount",{enumerable:!0,get:function(){return ge.CreateAccount}}),Object.defineProperty(pe,"DeleteAccount",{enumerable:!0,get:function(){return ge.DeleteAccount}}),Object.defineProperty(pe,"DeleteKey",{enumerable:!0,get:function(){return ge.DeleteKey}}),Object.defineProperty(pe,"DeployContract",{enumerable:!0,get:function(){return ge.DeployContract}}),Object.defineProperty(pe,"FullAccessPermission",{enumerable:!0,get:function(){return ge.FullAccessPermission}}),Object.defineProperty(pe,"FunctionCall",{enumerable:!0,get:function(){return ge.FunctionCall}}),Object.defineProperty(pe,"FunctionCallPermission",{enumerable:!0,get:function(){return ge.FunctionCallPermission}}),Object.defineProperty(pe,"Stake",{enumerable:!0,get:function(){return ge.Stake}}),Object.defineProperty(pe,"Transfer",{enumerable:!0,get:function(){return ge.Transfer}}),Object.defineProperty(pe,"SCHEMA",{enumerable:!0,get:function(){return ge.SCHEMA}}),Object.defineProperty(pe,"createTransaction",{enumerable:!0,get:function(){return ge.createTransaction}}),Object.defineProperty(pe,"signTransaction",{enumerable:!0,get:function(){return ge.signTransaction}}),Object.defineProperty(pe,"Signature",{enumerable:!0,get:function(){return ge.Signature}}),Object.defineProperty(pe,"SignedTransaction",{enumerable:!0,get:function(){return ge.SignedTransaction}}),Object.defineProperty(pe,"Transaction",{enumerable:!0,get:function(){return ge.Transaction}}),Object.defineProperty(pe,"encodeSignedDelegate",{enumerable:!0,get:function(){return ge.encodeSignedDelegate}}),Object.defineProperty(pe,"encodeDelegateAction",{enumerable:!0,get:function(){return ge.encodeDelegateAction}}),Object.defineProperty(pe,"encodeTransaction",{enumerable:!0,get:function(){return ge.encodeTransaction}});const Se=lib$5,Ne=(ar,gr)=>Se.actionCreators.addKey(ar,gr);pe.addKey=Ne;const Ze=()=>Se.actionCreators.createAccount();pe.createAccount=Ze;const Je=ar=>Se.actionCreators.deleteAccount(ar);pe.deleteAccount=Je;const Xe=ar=>Se.actionCreators.deleteKey(ar);pe.deleteKey=Xe;const vt=ar=>Se.actionCreators.deployContract(ar);pe.deployContract=vt;const gt=()=>Se.actionCreators.fullAccessKey();pe.fullAccessKey=gt;const kt=(ar,gr,wr,Er,_r,Sr)=>Se.actionCreators.functionCall(ar,gr,wr,Er,_r,Sr);pe.functionCall=kt;const mt=(ar,gr,wr)=>Se.actionCreators.functionCallAccessKey(ar,gr,wr);pe.functionCallAccessKey=mt;const xt=(ar,gr)=>Se.actionCreators.stake(ar,gr);pe.stake=xt;const fr=ar=>Se.actionCreators.transfer(ar);pe.transfer=fr})(transaction);var validators={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.findSeatPrice=pe.diffEpochValidators=void 0;var ge=lib$9;Object.defineProperty(pe,"diffEpochValidators",{enumerable:!0,get:function(){return ge.diffEpochValidators}}),Object.defineProperty(pe,"findSeatPrice",{enumerable:!0,get:function(){return ge.findSeatPrice}})})(validators);var account={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Account=void 0;var ge=lib$3;Object.defineProperty(pe,"Account",{enumerable:!0,get:function(){return ge.Account}})})(account);var account_multisig={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.MultisigStateStatus=pe.MultisigDeleteRequestRejectionError=pe.MULTISIG_CONFIRM_METHODS=pe.MULTISIG_CHANGE_METHODS=pe.MULTISIG_DEPOSIT=pe.MULTISIG_GAS=pe.MULTISIG_ALLOWANCE=pe.MULTISIG_STORAGE_KEY=pe.AccountMultisig=pe.Account2FA=void 0;var ge=lib$3;Object.defineProperty(pe,"Account2FA",{enumerable:!0,get:function(){return ge.Account2FA}}),Object.defineProperty(pe,"AccountMultisig",{enumerable:!0,get:function(){return ge.AccountMultisig}}),Object.defineProperty(pe,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return ge.MULTISIG_STORAGE_KEY}}),Object.defineProperty(pe,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return ge.MULTISIG_ALLOWANCE}}),Object.defineProperty(pe,"MULTISIG_GAS",{enumerable:!0,get:function(){return ge.MULTISIG_GAS}}),Object.defineProperty(pe,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return ge.MULTISIG_DEPOSIT}}),Object.defineProperty(pe,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return ge.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(pe,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return ge.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(pe,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return ge.MultisigDeleteRequestRejectionError}}),Object.defineProperty(pe,"MultisigStateStatus",{enumerable:!0,get:function(){return ge.MultisigStateStatus}})})(account_multisig);var account_creator={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.UrlAccountCreator=pe.LocalAccountCreator=pe.AccountCreator=void 0;var ge=lib$3;Object.defineProperty(pe,"AccountCreator",{enumerable:!0,get:function(){return ge.AccountCreator}}),Object.defineProperty(pe,"LocalAccountCreator",{enumerable:!0,get:function(){return ge.LocalAccountCreator}}),Object.defineProperty(pe,"UrlAccountCreator",{enumerable:!0,get:function(){return ge.UrlAccountCreator}})})(account_creator);var connection={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Connection=void 0;var ge=lib$3;Object.defineProperty(pe,"Connection",{enumerable:!0,get:function(){return ge.Connection}})})(connection);var signer={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Signer=pe.InMemorySigner=void 0;var ge=lib$2;Object.defineProperty(pe,"InMemorySigner",{enumerable:!0,get:function(){return ge.InMemorySigner}}),Object.defineProperty(pe,"Signer",{enumerable:!0,get:function(){return ge.Signer}})})(signer);var contract={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Contract=void 0;var ge=lib$3;Object.defineProperty(pe,"Contract",{enumerable:!0,get:function(){return ge.Contract}})})(contract);var near$1={},lib={},near={},__awaiter$2=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(near,"__esModule",{value:!0}),near.Near=void 0;const accounts_1$1=lib$3;class Near{constructor(ge){var Se;if(this.config=ge,this.connection=accounts_1$1.Connection.fromConfig({networkId:ge.networkId,provider:ge.provider||{type:"JsonRpcProvider",args:{url:ge.nodeUrl,headers:ge.headers}},signer:ge.signer||{type:"InMemorySigner",keyStore:ge.keyStore||((Se=ge.deps)===null||Se===void 0?void 0:Se.keyStore)},jsvmAccountId:ge.jsvmAccountId||`jsvm.${ge.networkId}`}),ge.masterAccount){const Ne=ge.initialBalance?BigInt(ge.initialBalance):BigInt("500000000000000000000000000");this.accountCreator=new accounts_1$1.LocalAccountCreator(new accounts_1$1.Account(this.connection,ge.masterAccount),Ne)}else ge.helperUrl?this.accountCreator=new accounts_1$1.UrlAccountCreator(this.connection,ge.helperUrl):this.accountCreator=null}account(ge){return __awaiter$2(this,void 0,void 0,function*(){return new accounts_1$1.Account(this.connection,ge)})}createAccount(ge,Se){return __awaiter$2(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(ge,Se),new accounts_1$1.Account(this.connection,ge)})}}near.Near=Near;var wallet_account={},cjs={},serialize$1={},types={};types.__esModule=!0,types.integers=void 0,types.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer={};buffer.__esModule=!0,buffer.DecodeBuffer=buffer.EncodeBuffer=void 0;var EncodeBuffer=function(){function pe(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return pe.prototype.resize_if_necessary=function(ge){if(this.buffer_size-this.offset<ge){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+ge);var Se=new ArrayBuffer(this.buffer_size);new Uint8Array(Se).set(new Uint8Array(this.buffer)),this.buffer=Se,this.view=new DataView(Se)}},pe.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},pe.prototype.store_value=function(ge,Se){var Ne=Se.substring(1),Ze=parseInt(Ne)/8;this.resize_if_necessary(Ze);var Je=Se[0]==="f"?"setFloat".concat(Ne):Se[0]==="i"?"setInt".concat(Ne):"setUint".concat(Ne);this.view[Je](this.offset,ge,!0),this.offset+=Ze},pe.prototype.store_bytes=function(ge){this.resize_if_necessary(ge.length),new Uint8Array(this.buffer).set(new Uint8Array(ge),this.offset),this.offset+=ge.length},pe}();buffer.EncodeBuffer=EncodeBuffer;var DecodeBuffer=function(){function pe(ge){this.offset=0,this.buffer_size=ge.length,this.buffer=new ArrayBuffer(ge.length),new Uint8Array(this.buffer).set(ge),this.view=new DataView(this.buffer)}return pe.prototype.assert_enough_buffer=function(ge){if(this.offset+ge>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},pe.prototype.consume_value=function(ge){var Se=ge.substring(1),Ne=parseInt(Se)/8;this.assert_enough_buffer(Ne);var Ze=ge[0]==="f"?"getFloat".concat(Se):ge[0]==="i"?"getInt".concat(Se):"getUint".concat(Se),Je=this.view[Ze](this.offset,!0);return this.offset+=Ne,Je},pe.prototype.consume_bytes=function(ge){this.assert_enough_buffer(ge);var Se=this.buffer.slice(this.offset,this.offset+ge);return this.offset+=ge,Se},pe}();buffer.DecodeBuffer=DecodeBuffer;var utils$5={},__extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var pe=function(ge,Se){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,Ze){Ne.__proto__=Ze}||function(Ne,Ze){for(var Je in Ze)Object.prototype.hasOwnProperty.call(Ze,Je)&&(Ne[Je]=Ze[Je])},pe(ge,Se)};return function(ge,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Class extends value "+String(Se)+" is not a constructor or null");pe(ge,Se);function Ne(){this.constructor=ge}ge.prototype=Se===null?Object.create(Se):(Ne.prototype=Se.prototype,new Ne)}}();utils$5.__esModule=!0,utils$5.validate_schema=utils$5.ErrorSchema=utils$5.expect_enum=utils$5.expect_same_size=utils$5.expect_bigint=utils$5.expect_type=utils$5.isArrayLike=void 0;var types_js_1$2=types;function isArrayLike(pe){return Array.isArray(pe)||!!pe&&typeof pe=="object"&&"length"in pe&&typeof pe.length=="number"&&(pe.length===0||pe.length>0&&pe.length-1 in pe)}utils$5.isArrayLike=isArrayLike;function expect_type(pe,ge,Se){if(typeof pe!==ge)throw new Error("Expected ".concat(ge," not ").concat(typeof pe,"(").concat(pe,") at ").concat(Se.join(".")))}utils$5.expect_type=expect_type;function expect_bigint(pe,ge){var Se=["number","string","bigint","boolean"].includes(typeof pe),Ne=typeof pe=="object"&&pe!==null&&"toString"in pe;if(!Se&&!Ne)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$5.expect_bigint=expect_bigint;function expect_same_size(pe,ge,Se){if(pe!==ge)throw new Error("Array length ".concat(pe," does not match schema length ").concat(ge," at ").concat(Se.join(".")))}utils$5.expect_same_size=expect_same_size;function expect_enum(pe,ge){if(typeof pe!="object"||pe===null)throw new Error("Expected object not ".concat(typeof pe,"(").concat(pe,") at ").concat(ge.join(".")))}utils$5.expect_enum=expect_enum;var VALID_STRING_TYPES=types_js_1$2.integers.concat(["bool","string"]),VALID_OBJECT_KEYS=["option","enum","array","set","map","struct"],ErrorSchema=function(pe){__extends(ge,pe);function ge(Se,Ne){var Ze="Invalid schema: ".concat(JSON.stringify(Se)," expected ").concat(Ne);return pe.call(this,Ze)||this}return ge}(Error);utils$5.ErrorSchema=ErrorSchema;function validate_schema(pe){if(!(typeof pe=="string"&&VALID_STRING_TYPES.includes(pe))){if(pe&&typeof pe=="object"){var ge=Object.keys(pe);if(ge.length===1&&VALID_OBJECT_KEYS.includes(ge[0])){var Se=ge[0];if(Se==="option")return validate_schema(pe[Se]);if(Se==="enum")return validate_enum_schema(pe[Se]);if(Se==="array")return validate_array_schema(pe[Se]);if(Se==="set")return validate_schema(pe[Se]);if(Se==="map")return validate_map_schema(pe[Se]);if(Se==="struct")return validate_struct_schema(pe[Se])}}throw new ErrorSchema(pe,VALID_OBJECT_KEYS.join(", ")+" or "+VALID_STRING_TYPES.join(", "))}}utils$5.validate_schema=validate_schema;function validate_enum_schema(pe){if(!Array.isArray(pe))throw new ErrorSchema(pe,"Array");for(var ge=0,Se=pe;ge<Se.length;ge++){var Ne=Se[ge];if(typeof Ne!="object"||!("struct"in Ne))throw new Error('Missing "struct" key in enum schema');if(typeof Ne.struct!="object"||Object.keys(Ne.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema({struct:Ne.struct})}}function validate_array_schema(pe){if(typeof pe!="object")throw new ErrorSchema(pe,"{ type, len? }");if(pe.len&&typeof pe.len!="number")throw new Error("Invalid schema: ".concat(pe));if("type"in pe)return validate_schema(pe.type);throw new ErrorSchema(pe,"{ type, len? }")}function validate_map_schema(pe){if(typeof pe=="object"&&"key"in pe&&"value"in pe)validate_schema(pe.key),validate_schema(pe.value);else throw new ErrorSchema(pe,"{ key, value }")}function validate_struct_schema(pe){if(typeof pe!="object")throw new ErrorSchema(pe,"object");for(var ge in pe)validate_schema(pe[ge])}var __createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding$1(ge,pe,Se);return __setModuleDefault$1(ge,pe),ge};serialize$1.__esModule=!0,serialize$1.BorshSerializer=void 0;var types_js_1$1=types,buffer_js_1$1=buffer,utils$4=__importStar$1(utils$5),BorshSerializer=function(){function pe(ge){this.encoded=new buffer_js_1$1.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=ge}return pe.prototype.encode=function(ge,Se){return this.encode_value(ge,Se),this.encoded.get_used_buffer()},pe.prototype.encode_value=function(ge,Se){if(typeof Se=="string"){if(types_js_1$1.integers.includes(Se))return this.encode_integer(ge,Se);if(Se==="string")return this.encode_string(ge);if(Se==="bool")return this.encode_boolean(ge)}if(typeof Se=="object"){if("option"in Se)return this.encode_option(ge,Se);if("enum"in Se)return this.encode_enum(ge,Se);if("array"in Se)return this.encode_array(ge,Se);if("set"in Se)return this.encode_set(ge,Se);if("map"in Se)return this.encode_map(ge,Se);if("struct"in Se)return this.encode_struct(ge,Se)}},pe.prototype.encode_integer=function(ge,Se){var Ne=parseInt(Se.substring(1));Ne<=32||Se=="f64"?(this.checkTypes&&utils$4.expect_type(ge,"number",this.fieldPath),this.encoded.store_value(ge,Se)):(this.checkTypes&&utils$4.expect_bigint(ge,this.fieldPath),this.encode_bigint(BigInt(ge),Ne))},pe.prototype.encode_bigint=function(ge,Se){for(var Ne=Se/8,Ze=new Uint8Array(Ne),Je=0;Je<Ne;Je++)Ze[Je]=Number(ge&BigInt(255)),ge=ge>>BigInt(8);this.encoded.store_bytes(new Uint8Array(Ze))},pe.prototype.encode_string=function(ge){this.checkTypes&&utils$4.expect_type(ge,"string",this.fieldPath);var Se=ge;this.encoded.store_value(Se.length,"u32");for(var Ne=0;Ne<Se.length;Ne++)this.encoded.store_value(Se.charCodeAt(Ne),"u8")},pe.prototype.encode_boolean=function(ge){this.checkTypes&&utils$4.expect_type(ge,"boolean",this.fieldPath),this.encoded.store_value(ge?1:0,"u8")},pe.prototype.encode_option=function(ge,Se){ge==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(ge,Se.option))},pe.prototype.encode_enum=function(ge,Se){this.checkTypes&&utils$4.expect_enum(ge,this.fieldPath);for(var Ne=Object.keys(ge)[0],Ze=0;Ze<Se.enum.length;Ze++){var Je=Se.enum[Ze];if(Ne===Object.keys(Je.struct)[0])return this.encoded.store_value(Ze,"u8"),this.encode_struct(ge,Je)}throw new Error("Enum key (".concat(Ne,") not found in enum schema: ").concat(JSON.stringify(Se)," at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_array=function(ge,Se){if(utils$4.isArrayLike(ge))return this.encode_arraylike(ge,Se);if(ge instanceof ArrayBuffer)return this.encode_buffer(ge,Se);throw new Error("Expected Array-like not ".concat(typeof ge,"(").concat(ge,") at ").concat(this.fieldPath.join(".")))},pe.prototype.encode_arraylike=function(ge,Se){Se.array.len?utils$4.expect_same_size(ge.length,Se.array.len,this.fieldPath):this.encoded.store_value(ge.length,"u32");for(var Ne=0;Ne<ge.length;Ne++)this.encode_value(ge[Ne],Se.array.type)},pe.prototype.encode_buffer=function(ge,Se){Se.array.len?utils$4.expect_same_size(ge.byteLength,Se.array.len,this.fieldPath):this.encoded.store_value(ge.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(ge))},pe.prototype.encode_set=function(ge,Se){this.checkTypes&&utils$4.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Set,Ze=Ne?Array.from(ge.values()):Object.values(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.set)}},pe.prototype.encode_map=function(ge,Se){this.checkTypes&&utils$4.expect_type(ge,"object",this.fieldPath);var Ne=ge instanceof Map,Ze=Ne?Array.from(ge.keys()):Object.keys(ge);this.encoded.store_value(Ze.length,"u32");for(var Je=0,Xe=Ze;Je<Xe.length;Je++){var vt=Xe[Je];this.encode_value(vt,Se.map.key),this.encode_value(Ne?ge.get(vt):ge[vt],Se.map.value)}},pe.prototype.encode_struct=function(ge,Se){this.checkTypes&&utils$4.expect_type(ge,"object",this.fieldPath);for(var Ne=0,Ze=Object.keys(Se.struct);Ne<Ze.length;Ne++){var Je=Ze[Ne];this.fieldPath.push(Je),this.encode_value(ge[Je],Se.struct[Je]),this.fieldPath.pop()}},pe}();serialize$1.BorshSerializer=BorshSerializer;var deserialize$1={};deserialize$1.__esModule=!0,deserialize$1.BorshDeserializer=void 0;var types_js_1=types,buffer_js_1=buffer,BorshDeserializer=function(){function pe(ge){this.buffer=new buffer_js_1.DecodeBuffer(ge)}return pe.prototype.decode=function(ge){return this.decode_value(ge)},pe.prototype.decode_value=function(ge){if(typeof ge=="string"){if(types_js_1.integers.includes(ge))return this.decode_integer(ge);if(ge==="string")return this.decode_string();if(ge==="bool")return this.decode_boolean()}if(typeof ge=="object"){if("option"in ge)return this.decode_option(ge);if("enum"in ge)return this.decode_enum(ge);if("array"in ge)return this.decode_array(ge);if("set"in ge)return this.decode_set(ge);if("map"in ge)return this.decode_map(ge);if("struct"in ge)return this.decode_struct(ge)}throw new Error("Unsupported type: ".concat(ge))},pe.prototype.decode_integer=function(ge){var Se=parseInt(ge.substring(1));return Se<=32||ge=="f64"?this.buffer.consume_value(ge):this.decode_bigint(Se,ge.startsWith("i"))},pe.prototype.decode_bigint=function(ge,Se){Se===void 0&&(Se=!1);var Ne=ge/8,Ze=new Uint8Array(this.buffer.consume_bytes(Ne)),Je=Ze.reduceRight(function(Xe,vt){return Xe+vt.toString(16).padStart(2,"0")},"");return Se&&Ze[Ne-1]?BigInt.asIntN(ge,BigInt("0x".concat(Je))):BigInt("0x".concat(Je))},pe.prototype.decode_string=function(){var ge=this.decode_integer("u32"),Se=new Uint8Array(this.buffer.consume_bytes(ge));return String.fromCharCode.apply(null,Se)},pe.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},pe.prototype.decode_option=function(ge){var Se=this.buffer.consume_value("u8");if(Se===1)return this.decode_value(ge.option);if(Se!==0)throw new Error("Invalid option ".concat(Se));return null},pe.prototype.decode_enum=function(ge){var Se,Ne=this.buffer.consume_value("u8");if(Ne>ge.enum.length)throw new Error("Enum option ".concat(Ne," is not available"));var Ze=ge.enum[Ne].struct,Je=Object.keys(Ze)[0];return Se={},Se[Je]=this.decode_value(Ze[Je]),Se},pe.prototype.decode_array=function(ge){for(var Se=[],Ne=ge.array.len?ge.array.len:this.decode_integer("u32"),Ze=0;Ze<Ne;++Ze)Se.push(this.decode_value(ge.array.type));return Se},pe.prototype.decode_set=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Set,Ze=0;Ze<Se;++Ze)Ne.add(this.decode_value(ge.set));return Ne},pe.prototype.decode_map=function(ge){for(var Se=this.decode_integer("u32"),Ne=new Map,Ze=0;Ze<Se;++Ze){var Je=this.decode_value(ge.map.key),Xe=this.decode_value(ge.map.value);Ne.set(Je,Xe)}return Ne},pe.prototype.decode_struct=function(ge){var Se={};for(var Ne in ge.struct)Se[Ne]=this.decode_value(ge.struct[Ne]);return Se},pe}();deserialize$1.BorshDeserializer=BorshDeserializer;var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se);var Ze=Object.getOwnPropertyDescriptor(ge,Se);(!Ze||("get"in Ze?!ge.__esModule:Ze.writable||Ze.configurable))&&(Ze={enumerable:!0,get:function(){return ge[Se]}}),Object.defineProperty(pe,Ne,Ze)}:function(pe,ge,Se,Ne){Ne===void 0&&(Ne=Se),pe[Ne]=ge[Se]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(pe,ge){Object.defineProperty(pe,"default",{enumerable:!0,value:ge})}:function(pe,ge){pe.default=ge}),__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var ge={};if(pe!=null)for(var Se in pe)Se!=="default"&&Object.prototype.hasOwnProperty.call(pe,Se)&&__createBinding(ge,pe,Se);return __setModuleDefault(ge,pe),ge};cjs.__esModule=!0,cjs.deserialize=cjs.serialize=void 0;var serialize_js_1=serialize$1,deserialize_js_1=deserialize$1,utils$3=__importStar(utils$5);function serialize(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$3.validate_schema(pe);var Ne=new serialize_js_1.BorshSerializer(Se);return Ne.encode(ge,pe)}cjs.serialize=serialize;function deserialize(pe,ge,Se){Se===void 0&&(Se=!0),Se&&utils$3.validate_schema(pe);var Ne=new deserialize_js_1.BorshDeserializer(ge);return Ne.decode(pe)}cjs.deserialize=deserialize;var __awaiter$1=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(wallet_account,"__esModule",{value:!0}),wallet_account.ConnectedWalletAccount=wallet_account.WalletConnection=void 0;const accounts_1=lib$3,crypto_1=lib$a,utils_1=lib$9,transactions_1=lib$5,borsh_1=cjs,LOGIN_WALLET_URL_SUFFIX="/login/",MULTISIG_HAS_METHOD="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX="pending_key";class WalletConnection{constructor(ge,Se){if(typeof Se!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(Je,Xe){return Xe==="isSignedIn"?()=>!1:Xe==="getAccountId"?()=>"":Je[Xe]&&typeof Je[Xe]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:Je[Xe]}});this._near=ge;const Ne=Se+LOCAL_STORAGE_KEY_SUFFIX,Ze=JSON.parse(window.localStorage.getItem(Ne));this._networkId=ge.config.networkId,this._walletBaseUrl=ge.config.walletUrl,Se=Se||ge.config.contractName||"default",this._keyStore=ge.connection.signer.keyStore,this._authData=Ze||{allKeys:[]},this._authDataKey=Ne,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter$1(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:ge,methodNames:Se,successUrl:Ne,failureUrl:Ze}){return __awaiter$1(this,void 0,void 0,function*(){const Je=new URL(window.location.href),Xe=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX);if(Xe.searchParams.set("success_url",Ne||Je.href),Xe.searchParams.set("failure_url",Ze||Je.href),ge){yield(yield this._near.account(ge)).state(),Xe.searchParams.set("contract_id",ge);const gt=crypto_1.KeyPair.fromRandom("ed25519");Xe.searchParams.set("public_key",gt.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+gt.getPublicKey(),gt)}return Se&&Se.forEach(vt=>{Xe.searchParams.append("methodNames",vt)}),Xe.toString()})}requestSignIn(ge){return __awaiter$1(this,void 0,void 0,function*(){const Se=yield this.requestSignInUrl(ge);window.location.assign(Se)})}requestSignTransactionsUrl({transactions:ge,meta:Se,callbackUrl:Ne}){const Ze=new URL(window.location.href),Je=new URL("sign",this._walletBaseUrl);return Je.searchParams.set("transactions",ge.map(Xe=>(0,borsh_1.serialize)(transactions_1.SCHEMA.Transaction,Xe)).map(Xe=>Buffer$F.from(Xe).toString("base64")).join(",")),Je.searchParams.set("callbackUrl",Ne||Ze.href),Se&&Je.searchParams.set("meta",Se),Je.toString()}requestSignTransactions(ge){const Se=this.requestSignTransactionsUrl(ge);window.location.assign(Se)}_completeSignInWithAccessKey(){return __awaiter$1(this,void 0,void 0,function*(){const ge=new URL(window.location.href),Se=ge.searchParams.get("public_key")||"",Ne=(ge.searchParams.get("all_keys")||"").split(","),Ze=ge.searchParams.get("account_id")||"";if(Ze){const Je={accountId:Ze,allKeys:Ne};window.localStorage.setItem(this._authDataKey,JSON.stringify(Je)),Se&&(yield this._moveKeyFromTempToPermanent(Ze,Se)),this._authData=Je}ge.searchParams.delete("public_key"),ge.searchParams.delete("all_keys"),ge.searchParams.delete("account_id"),ge.searchParams.delete("meta"),ge.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,ge.toString())})}_moveKeyFromTempToPermanent(ge,Se){return __awaiter$1(this,void 0,void 0,function*(){const Ne=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+Se);yield this._keyStore.setKey(this._networkId,ge,Ne),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+Se)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}wallet_account.WalletConnection=WalletConnection;class ConnectedWalletAccount extends accounts_1.Account{constructor(ge,Se,Ne){super(Se,Ne),this.walletConnection=ge}signAndSendTransaction({receiverId:ge,actions:Se,walletMeta:Ne,walletCallbackUrl:Ze=window.location.href}){const Je=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1(this,void 0,void 0,function*(){const Xe=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let vt=yield this.accessKeyForTransaction(ge,Se,Xe);if(!vt)throw new Error(`Cannot find matching key for transaction sent to ${ge}`);if(Xe&&Xe.toString()===vt.public_key)try{return yield Je.signAndSendTransaction.call(this,{receiverId:ge,actions:Se})}catch(ar){if(ar.type==="NotEnoughAllowance")vt=yield this.accessKeyForTransaction(ge,Se);else throw ar}const gt=yield this.connection.provider.block({finality:"final"}),kt=(0,utils_1.baseDecode)(gt.header.hash),mt=crypto_1.PublicKey.from(vt.public_key),xt=vt.access_key.nonce+BigInt(1),fr=(0,transactions_1.createTransaction)(this.accountId,mt,ge,xt,Se,kt);return yield this.walletConnection.requestSignTransactions({transactions:[fr],meta:Ne,callbackUrl:Ze}),new Promise((ar,gr)=>{setTimeout(()=>{gr(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(ge,Se,Ne){return __awaiter$1(this,void 0,void 0,function*(){const{access_key:{permission:Ze}}=ge;if(Ze==="FullAccess")return!0;if(Ze.FunctionCall){const{receiver_id:Je,method_names:Xe}=Ze.FunctionCall;if(Je===this.accountId&&Xe.includes(MULTISIG_HAS_METHOD))return!0;if(Je===Se){if(Ne.length!==1)return!1;const[{functionCall:vt}]=Ne;return vt&&(!vt.deposit||vt.deposit.toString()==="0")&&(Xe.length===0||Xe.includes(vt.methodName))}}return!1})}accessKeyForTransaction(ge,Se,Ne){return __awaiter$1(this,void 0,void 0,function*(){const Ze=yield this.getAccessKeys();if(Ne){const Xe=Ze.find(vt=>vt.public_key.toString()===Ne.toString());if(Xe&&(yield this.accessKeyMatchesTransaction(Xe,ge,Se)))return Xe}const Je=this.walletConnection._authData.allKeys;for(const Xe of Ze)if(Je.indexOf(Xe.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(Xe,ge,Se)))return Xe;return null})}}wallet_account.ConnectedWalletAccount=ConnectedWalletAccount,function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.WalletConnection=pe.ConnectedWalletAccount=pe.Near=void 0;var ge=near;Object.defineProperty(pe,"Near",{enumerable:!0,get:function(){return ge.Near}});var Se=wallet_account;Object.defineProperty(pe,"ConnectedWalletAccount",{enumerable:!0,get:function(){return Se.ConnectedWalletAccount}}),Object.defineProperty(pe,"WalletConnection",{enumerable:!0,get:function(){return Se.WalletConnection}})}(lib),function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.Near=void 0;var ge=lib;Object.defineProperty(pe,"Near",{enumerable:!0,get:function(){return ge.Near}})}(near$1);var walletAccount={};(function(pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.WalletConnection=pe.ConnectedWalletAccount=void 0;var ge=lib;Object.defineProperty(pe,"ConnectedWalletAccount",{enumerable:!0,get:function(){return ge.ConnectedWalletAccount}}),Object.defineProperty(pe,"WalletConnection",{enumerable:!0,get:function(){return ge.WalletConnection}})})(walletAccount),function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(_r,Sr,Or,Pr){Pr===void 0&&(Pr=Or);var kr=Object.getOwnPropertyDescriptor(Sr,Or);(!kr||("get"in kr?!Sr.__esModule:kr.writable||kr.configurable))&&(kr={enumerable:!0,get:function(){return Sr[Or]}}),Object.defineProperty(_r,Pr,kr)}:function(_r,Sr,Or,Pr){Pr===void 0&&(Pr=Or),_r[Pr]=Sr[Or]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(_r,Sr){Object.defineProperty(_r,"default",{enumerable:!0,value:Sr})}:function(_r,Sr){_r.default=Sr}),Ne=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(_r){if(_r&&_r.__esModule)return _r;var Sr={};if(_r!=null)for(var Or in _r)Or!=="default"&&Object.prototype.hasOwnProperty.call(_r,Or)&&ge(Sr,_r,Or);return Se(Sr,_r),Sr};Object.defineProperty(pe,"__esModule",{value:!0}),pe.WalletConnection=pe.ConnectedWalletAccount=pe.Near=pe.KeyPair=pe.Signer=pe.InMemorySigner=pe.Contract=pe.Connection=pe.Account=pe.multisig=pe.validators=pe.transactions=pe.utils=pe.providers=pe.accountCreator=void 0;const Ze=Ne(providers);pe.providers=Ze;const Je=Ne(utils$z);pe.utils=Je;const Xe=Ne(transaction);pe.transactions=Xe;const vt=Ne(validators);pe.validators=vt;const gt=account;Object.defineProperty(pe,"Account",{enumerable:!0,get:function(){return gt.Account}});const kt=Ne(account_multisig);pe.multisig=kt;const mt=Ne(account_creator);pe.accountCreator=mt;const xt=connection;Object.defineProperty(pe,"Connection",{enumerable:!0,get:function(){return xt.Connection}});const fr=signer;Object.defineProperty(pe,"Signer",{enumerable:!0,get:function(){return fr.Signer}}),Object.defineProperty(pe,"InMemorySigner",{enumerable:!0,get:function(){return fr.InMemorySigner}});const ar=contract;Object.defineProperty(pe,"Contract",{enumerable:!0,get:function(){return ar.Contract}});const gr=key_pair;Object.defineProperty(pe,"KeyPair",{enumerable:!0,get:function(){return gr.KeyPair}});const wr=near$1;Object.defineProperty(pe,"Near",{enumerable:!0,get:function(){return wr.Near}});const Er=walletAccount;Object.defineProperty(pe,"ConnectedWalletAccount",{enumerable:!0,get:function(){return Er.ConnectedWalletAccount}}),Object.defineProperty(pe,"WalletConnection",{enumerable:!0,get:function(){return Er.WalletConnection}})}(commonIndex);var browserConnect={},__awaiter=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(pe,ge,Se,Ne){function Ze(Je){return Je instanceof Se?Je:new Se(function(Xe){Xe(Je)})}return new(Se||(Se=Promise))(function(Je,Xe){function vt(mt){try{kt(Ne.next(mt))}catch(xt){Xe(xt)}}function gt(mt){try{kt(Ne.throw(mt))}catch(xt){Xe(xt)}}function kt(mt){mt.done?Je(mt.value):Ze(mt.value).then(vt,gt)}kt((Ne=Ne.apply(pe,ge||[])).next())})};Object.defineProperty(browserConnect,"__esModule",{value:!0}),browserConnect.connect=void 0;const near_1=near$1;function connect$1(pe){return __awaiter(this,void 0,void 0,function*(){return new near_1.Near(pe)})}browserConnect.connect=connect$1,function(pe){var ge=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Je,Xe,vt,gt){gt===void 0&&(gt=vt);var kt=Object.getOwnPropertyDescriptor(Xe,vt);(!kt||("get"in kt?!Xe.__esModule:kt.writable||kt.configurable))&&(kt={enumerable:!0,get:function(){return Xe[vt]}}),Object.defineProperty(Je,gt,kt)}:function(Je,Xe,vt,gt){gt===void 0&&(gt=vt),Je[gt]=Xe[vt]}),Se=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(Je,Xe){Object.defineProperty(Je,"default",{enumerable:!0,value:Xe})}:function(Je,Xe){Je.default=Xe}),Ne=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(Je){if(Je&&Je.__esModule)return Je;var Xe={};if(Je!=null)for(var vt in Je)vt!=="default"&&Object.prototype.hasOwnProperty.call(Je,vt)&&ge(Xe,Je,vt);return Se(Xe,Je),Xe},Ze=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(Je,Xe){for(var vt in Je)vt!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,vt)&&ge(Xe,Je,vt)};Object.defineProperty(pe,"__esModule",{value:!0}),pe.keyStores=void 0,pe.keyStores=Ne(browserIndex$1),Ze(commonIndex,pe),Ze(browserConnect,pe)}(browserIndex$2);const browserIndex=getDefaultExportFromCjs$1(browserIndex$2),nearAPI=_mergeNamespaces({__proto__:null,default:browserIndex},[browserIndex$2]),{transactions,utils:utils$2}=nearAPI,getAccessKey=pe=>{if(pe==="FullAccess")return transactions.fullAccessKey();const{receiverId:ge,methodNames:Se=[]}=pe,Ne=pe.allowance?BigInt(pe.allowance):void 0;return transactions.functionCallAccessKey(ge,Se,Ne)},createAction=pe=>{switch(pe.type){case"CreateAccount":return transactions.createAccount();case"DeployContract":{const{code:ge}=pe.params;return transactions.deployContract(ge)}case"FunctionCall":{const{methodName:ge,args:Se,gas:Ne,deposit:Ze}=pe.params;return transactions.functionCall(ge,Se,BigInt(Ne),BigInt(Ze))}case"Transfer":{const{deposit:ge}=pe.params;return transactions.transfer(BigInt(ge))}case"Stake":{const{stake:ge,publicKey:Se}=pe.params;return transactions.stake(BigInt(ge),utils$2.PublicKey.from(Se))}case"AddKey":{const{publicKey:ge,accessKey:Se}=pe.params;return transactions.addKey(utils$2.PublicKey.from(ge),getAccessKey(Se.permission))}case"DeleteKey":{const{publicKey:ge}=pe.params;return transactions.deleteKey(utils$2.PublicKey.from(ge))}case"DeleteAccount":{const{beneficiaryId:ge}=pe.params;return transactions.deleteAccount(ge)}default:throw new Error("Invalid action type")}};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$j<"u"?global$j:typeof self<"u"?self:{},fails$8=function(pe){try{return!!pe()}catch{return!0}},toString={}.toString,classofRaw$1=function(pe){return toString.call(pe).slice(8,-1)},fails$7=fails$8,classof$5=classofRaw$1,split="".split,indexedObject=fails$7(function(){return!Object("z").propertyIsEnumerable(0)})?function(pe){return classof$5(pe)=="String"?split.call(pe,""):Object(pe)}:Object,requireObjectCoercible$2=function(pe){if(pe==null)throw TypeError("Can't call method on "+pe);return pe},IndexedObject=indexedObject,requireObjectCoercible$1=requireObjectCoercible$2,toIndexedObject$4=function(pe){return IndexedObject(requireObjectCoercible$1(pe))},check=function(pe){return pe&&pe.Math==Math&&pe},global$i=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||Function("return this")(),shared$2={exports:{}},fails$6=fails$8,descriptors=!fails$6(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),objectDefineProperty={},isObject$7=function(pe){return typeof pe=="object"?pe!==null:typeof pe=="function"},global$h=global$i,isObject$6=isObject$7,document$2=global$h.document,EXISTS=isObject$6(document$2)&&isObject$6(document$2.createElement),documentCreateElement$1=function(pe){return EXISTS?document$2.createElement(pe):{}},DESCRIPTORS$5=descriptors,fails$5=fails$8,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$5&&!fails$5(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),isObject$5=isObject$7,anObject$b=function(pe){if(!isObject$5(pe))throw TypeError(String(pe)+" is not an object");return pe},isObject$4=isObject$7,toPrimitive$2=function(pe,ge){if(!isObject$4(pe))return pe;var Se,Ne;if(ge&&typeof(Se=pe.toString)=="function"&&!isObject$4(Ne=Se.call(pe))||typeof(Se=pe.valueOf)=="function"&&!isObject$4(Ne=Se.call(pe))||!ge&&typeof(Se=pe.toString)=="function"&&!isObject$4(Ne=Se.call(pe)))return Ne;throw TypeError("Can't convert object to primitive value")},DESCRIPTORS$4=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,anObject$a=anObject$b,toPrimitive$1=toPrimitive$2,nativeDefineProperty=Object.defineProperty;objectDefineProperty.f=DESCRIPTORS$4?nativeDefineProperty:function pe(ge,Se,Ne){if(anObject$a(ge),Se=toPrimitive$1(Se,!0),anObject$a(Ne),IE8_DOM_DEFINE$1)try{return nativeDefineProperty(ge,Se,Ne)}catch{}if("get"in Ne||"set"in Ne)throw TypeError("Accessors not supported");return"value"in Ne&&(ge[Se]=Ne.value),ge};var createPropertyDescriptor$3=function(pe,ge){return{enumerable:!(pe&1),configurable:!(pe&2),writable:!(pe&4),value:ge}},DESCRIPTORS$3=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$2=createPropertyDescriptor$3,createNonEnumerableProperty$7=DESCRIPTORS$3?function(pe,ge,Se){return definePropertyModule$4.f(pe,ge,createPropertyDescriptor$2(1,Se))}:function(pe,ge,Se){return pe[ge]=Se,pe},global$g=global$i,createNonEnumerableProperty$6=createNonEnumerableProperty$7,setGlobal$3=function(pe,ge){try{createNonEnumerableProperty$6(global$g,pe,ge)}catch{global$g[pe]=ge}return ge},global$f=global$i,setGlobal$2=setGlobal$3,SHARED="__core-js_shared__",store$3=global$f[SHARED]||setGlobal$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$2.exports=function(pe,ge){return store$2[pe]||(store$2[pe]=ge!==void 0?ge:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"});var hasOwnProperty={}.hasOwnProperty,has$9=function(pe,ge){return hasOwnProperty.call(pe,ge)},id=0,postfix=Math.random(),uid$2=function(pe){return"Symbol("+String(pe===void 0?"":pe)+")_"+(++id+postfix).toString(36)},fails$4=fails$8,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$4(function(){return!String(Symbol())}),NATIVE_SYMBOL$1=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$e=global$i,shared$1=shared$2.exports,has$8=has$9,uid$1=uid$2,NATIVE_SYMBOL=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore=shared$1("wks"),Symbol$1=global$e.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$d=function(pe){return has$8(WellKnownSymbolsStore,pe)||(NATIVE_SYMBOL&&has$8(Symbol$1,pe)?WellKnownSymbolsStore[pe]=Symbol$1[pe]:WellKnownSymbolsStore[pe]=createWellKnownSymbol("Symbol."+pe)),WellKnownSymbolsStore[pe]},ceil=Math.ceil,floor=Math.floor,toInteger$2=function(pe){return isNaN(pe=+pe)?0:(pe>0?floor:ceil)(pe)},toInteger$1=toInteger$2,min$1=Math.min,toLength$2=function(pe){return pe>0?min$1(toInteger$1(pe),9007199254740991):0},toInteger=toInteger$2,max=Math.max,min=Math.min,toAbsoluteIndex$1=function(pe,ge){var Se=toInteger(pe);return Se<0?max(Se+ge,0):min(Se,ge)},toIndexedObject$3=toIndexedObject$4,toLength$1=toLength$2,toAbsoluteIndex=toAbsoluteIndex$1,createMethod=function(pe){return function(ge,Se,Ne){var Ze=toIndexedObject$3(ge),Je=toLength$1(Ze.length),Xe=toAbsoluteIndex(Ne,Je),vt;if(pe&&Se!=Se){for(;Je>Xe;)if(vt=Ze[Xe++],vt!=vt)return!0}else for(;Je>Xe;Xe++)if((pe||Xe in Ze)&&Ze[Xe]===Se)return pe||Xe||0;return!pe&&-1}},arrayIncludes={indexOf:createMethod(!1)},hiddenKeys$4={},has$7=has$9,toIndexedObject$2=toIndexedObject$4,indexOf=arrayIncludes.indexOf,hiddenKeys$3=hiddenKeys$4,objectKeysInternal=function(pe,ge){var Se=toIndexedObject$2(pe),Ne=0,Ze=[],Je;for(Je in Se)!has$7(hiddenKeys$3,Je)&&has$7(Se,Je)&&Ze.push(Je);for(;ge.length>Ne;)has$7(Se,Je=ge[Ne++])&&(~indexOf(Ze,Je)||Ze.push(Je));return Ze},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$1=Object.keys||function pe(ge){return internalObjectKeys$1(ge,enumBugKeys$2)},DESCRIPTORS$2=descriptors,definePropertyModule$3=objectDefineProperty,anObject$9=anObject$b,objectKeys=objectKeys$1,objectDefineProperties=DESCRIPTORS$2?Object.defineProperties:function pe(ge,Se){anObject$9(ge);for(var Ne=objectKeys(Se),Ze=Ne.length,Je=0,Xe;Ze>Je;)definePropertyModule$3.f(ge,Xe=Ne[Je++],Se[Xe]);return ge},global$d=global$i,path$1=global$d,path=path$1,global$c=global$i,aFunction$5=function(pe){return typeof pe=="function"?pe:void 0},getBuiltIn$5=function(pe,ge){return arguments.length<2?aFunction$5(path[pe])||aFunction$5(global$c[pe]):path[pe]&&path[pe][ge]||global$c[pe]&&global$c[pe][ge]},getBuiltIn$4=getBuiltIn$5,html$2=getBuiltIn$4("document","documentElement"),shared=shared$2.exports,uid=uid$2,keys=shared("keys"),sharedKey$3=function(pe){return keys[pe]||(keys[pe]=uid(pe))},anObject$8=anObject$b,defineProperties=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$2=hiddenKeys$4,html$1=html$2,documentCreateElement=documentCreateElement$1,sharedKey$2=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(pe){return LT+SCRIPT+GT+pe+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(pe){pe.write(scriptTag("")),pe.close();var ge=pe.parentWindow.Object;return pe=null,ge},NullProtoObjectViaIFrame=function(){var pe=documentCreateElement("iframe"),ge="java"+SCRIPT+":",Se;return pe.style.display="none",html$1.appendChild(pe),pe.src=String(ge),Se=pe.contentWindow.document,Se.open(),Se.write(scriptTag("document.F=Object")),Se.close(),Se.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch{}NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();for(var pe=enumBugKeys$1.length;pe--;)delete NullProtoObject[PROTOTYPE][enumBugKeys$1[pe]];return NullProtoObject()};hiddenKeys$2[IE_PROTO$1]=!0;var objectCreate=Object.create||function pe(ge,Se){var Ne;return ge!==null?(EmptyConstructor[PROTOTYPE]=anObject$8(ge),Ne=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,Ne[IE_PROTO$1]=ge):Ne=NullProtoObject(),Se===void 0?Ne:defineProperties(Ne,Se)},wellKnownSymbol$c=wellKnownSymbol$d,create$1=objectCreate,definePropertyModule$2=objectDefineProperty,UNSCOPABLES=wellKnownSymbol$c("unscopables"),ArrayPrototype$1=Array.prototype;ArrayPrototype$1[UNSCOPABLES]==null&&definePropertyModule$2.f(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$1(null)});var addToUnscopables$1=function(pe){ArrayPrototype$1[UNSCOPABLES][pe]=!0},iterators={},store$1=sharedStore,functionToString=Function.toString;typeof store$1.inspectSource!="function"&&(store$1.inspectSource=function(pe){return functionToString.call(pe)});var inspectSource$3=store$1.inspectSource,global$b=global$i,inspectSource$2=inspectSource$3,WeakMap$1=global$b.WeakMap,nativeWeakMap=typeof WeakMap$1=="function"&&/native code/.test(inspectSource$2(WeakMap$1)),NATIVE_WEAK_MAP=nativeWeakMap,global$a=global$i,isObject$3=isObject$7,createNonEnumerableProperty$5=createNonEnumerableProperty$7,objectHas=has$9,sharedKey$1=sharedKey$3,hiddenKeys$1=hiddenKeys$4,WeakMap$2=global$a.WeakMap,set$1,get,has$6,enforce=function(pe){return has$6(pe)?get(pe):set$1(pe,{})},getterFor=function(pe){return function(ge){var Se;if(!isObject$3(ge)||(Se=get(ge)).type!==pe)throw TypeError("Incompatible receiver, "+pe+" required");return Se}};if(NATIVE_WEAK_MAP){var store=new WeakMap$2,wmget=store.get,wmhas=store.has,wmset=store.set;set$1=function(pe,ge){return wmset.call(store,pe,ge),ge},get=function(pe){return wmget.call(store,pe)||{}},has$6=function(pe){return wmhas.call(store,pe)}}else{var STATE=sharedKey$1("state");hiddenKeys$1[STATE]=!0,set$1=function(pe,ge){return createNonEnumerableProperty$5(pe,STATE,ge),ge},get=function(pe){return objectHas(pe,STATE)?pe[STATE]:{}},has$6=function(pe){return objectHas(pe,STATE)}}var internalState={set:set$1,get,has:has$6,enforce,getterFor},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!nativePropertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function pe(ge){var Se=getOwnPropertyDescriptor$2(this,ge);return!!Se&&Se.enumerable}:nativePropertyIsEnumerable;var DESCRIPTORS$1=descriptors,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$1=createPropertyDescriptor$3,toIndexedObject$1=toIndexedObject$4,toPrimitive=toPrimitive$2,has$5=has$9,IE8_DOM_DEFINE=ie8DomDefine,nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$1?nativeGetOwnPropertyDescriptor:function pe(ge,Se){if(ge=toIndexedObject$1(ge),Se=toPrimitive(Se,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(ge,Se)}catch{}if(has$5(ge,Se))return createPropertyDescriptor$1(!propertyIsEnumerableModule.f.call(ge,Se),ge[Se])};var redefine$5={exports:{}},global$9=global$i,createNonEnumerableProperty$4=createNonEnumerableProperty$7,has$4=has$9,setGlobal$1=setGlobal$3,inspectSource$1=inspectSource$3,InternalStateModule$2=internalState,getInternalState$2=InternalStateModule$2.get,enforceInternalState=InternalStateModule$2.enforce,TEMPLATE=String(String).split("String");(redefine$5.exports=function(pe,ge,Se,Ne){var Ze=Ne?!!Ne.unsafe:!1,Je=Ne?!!Ne.enumerable:!1,Xe=Ne?!!Ne.noTargetGet:!1;if(typeof Se=="function"&&(typeof ge=="string"&&!has$4(Se,"name")&&createNonEnumerableProperty$4(Se,"name",ge),enforceInternalState(Se).source=TEMPLATE.join(typeof ge=="string"?ge:"")),pe===global$9){Je?pe[ge]=Se:setGlobal$1(ge,Se);return}else Ze?!Xe&&pe[ge]&&(Je=!0):delete pe[ge];Je?pe[ge]=Se:createNonEnumerableProperty$4(pe,ge,Se)})(Function.prototype,"toString",function pe(){return typeof this=="function"&&getInternalState$2(this).source||inspectSource$1(this)});var objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function pe(ge){return internalObjectKeys(ge,hiddenKeys)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$3=getBuiltIn$5,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$7=anObject$b,ownKeys$1=getBuiltIn$3("Reflect","ownKeys")||function pe(ge){var Se=getOwnPropertyNamesModule.f(anObject$7(ge)),Ne=getOwnPropertySymbolsModule.f;return Ne?Se.concat(Ne(ge)):Se},has$3=has$9,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,copyConstructorProperties$1=function(pe,ge){for(var Se=ownKeys(ge),Ne=definePropertyModule$1.f,Ze=getOwnPropertyDescriptorModule.f,Je=0;Je<Se.length;Je++){var Xe=Se[Je];has$3(pe,Xe)||Ne(pe,Xe,Ze(ge,Xe))}},fails$3=fails$8,replacement=/#|\.prototype\./,isForced$2=function(pe,ge){var Se=data$1[normalize(pe)];return Se==POLYFILL?!0:Se==NATIVE?!1:typeof ge=="function"?fails$3(ge):!!ge},normalize=isForced$2.normalize=function(pe){return String(pe).replace(replacement,".").toLowerCase()},data$1=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,global$8=global$i,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$3=createNonEnumerableProperty$7,redefine$4=redefine$5.exports,setGlobal=setGlobal$3,copyConstructorProperties=copyConstructorProperties$1,isForced$1=isForced_1,_export=function(pe,ge){var Se=pe.target,Ne=pe.global,Ze=pe.stat,Je,Xe,vt,gt,kt,mt;if(Ne?Xe=global$8:Ze?Xe=global$8[Se]||setGlobal(Se,{}):Xe=(global$8[Se]||{}).prototype,Xe)for(vt in ge){if(kt=ge[vt],pe.noTargetGet?(mt=getOwnPropertyDescriptor$1(Xe,vt),gt=mt&&mt.value):gt=Xe[vt],Je=isForced$1(Ne?vt:Se+(Ze?".":"#")+vt,pe.forced),!Je&&gt!==void 0){if(typeof kt==typeof gt)continue;copyConstructorProperties(kt,gt)}(pe.sham||gt&&gt.sham)&&createNonEnumerableProperty$3(kt,"sham",!0),redefine$4(Xe,vt,kt,pe)}},requireObjectCoercible=requireObjectCoercible$2,toObject$1=function(pe){return Object(requireObjectCoercible(pe))},fails$2=fails$8,correctPrototypeGetter=!fails$2(function(){function pe(){}return pe.prototype.constructor=null,Object.getPrototypeOf(new pe)!==pe.prototype}),has$2=has$9,toObject=toObject$1,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(pe){return pe=toObject(pe),has$2(pe,IE_PROTO)?pe[IE_PROTO]:typeof pe.constructor=="function"&&pe instanceof pe.constructor?pe.constructor.prototype:pe instanceof Object?ObjectPrototype:null},getPrototypeOf$1=objectGetPrototypeOf,createNonEnumerableProperty$2=createNonEnumerableProperty$7,has$1=has$9,wellKnownSymbol$b=wellKnownSymbol$d,ITERATOR$5=wellKnownSymbol$b("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,returnThis$2=function(){return this},IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$1(getPrototypeOf$1(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0),IteratorPrototype$2==null&&(IteratorPrototype$2={}),has$1(IteratorPrototype$2,ITERATOR$5)||createNonEnumerableProperty$2(IteratorPrototype$2,ITERATOR$5,returnThis$2);var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty=objectDefineProperty.f,has=has$9,wellKnownSymbol$a=wellKnownSymbol$d,TO_STRING_TAG$3=wellKnownSymbol$a("toStringTag"),setToStringTag$3=function(pe,ge,Se){pe&&!has(pe=Se?pe:pe.prototype,TO_STRING_TAG$3)&&defineProperty(pe,TO_STRING_TAG$3,{configurable:!0,value:ge})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create=objectCreate,createPropertyDescriptor=createPropertyDescriptor$3,setToStringTag$2=setToStringTag$3,Iterators$4=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(pe,ge,Se){var Ne=ge+" Iterator";return pe.prototype=create(IteratorPrototype$1,{next:createPropertyDescriptor(1,Se)}),setToStringTag$2(pe,Ne,!1),Iterators$4[Ne]=returnThis$1,pe},isObject$2=isObject$7,aPossiblePrototype$1=function(pe){if(!isObject$2(pe)&&pe!==null)throw TypeError("Can't set "+String(pe)+" as a prototype");return pe},anObject$6=anObject$b,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var pe=!1,ge={},Se;try{Se=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,Se.call(ge,[]),pe=ge instanceof Array}catch{}return function(Ze,Je){return anObject$6(Ze),aPossiblePrototype(Je),pe?Se.call(Ze,Je):Ze.__proto__=Je,Ze}}():void 0),$$1$1=_export,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf=objectSetPrototypeOf,setToStringTag$1=setToStringTag$3,createNonEnumerableProperty$1=createNonEnumerableProperty$7,redefine$3=redefine$5.exports,wellKnownSymbol$9=wellKnownSymbol$d,Iterators$3=iterators,IteratorsCore=iteratorsCore,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol$9("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$1=function(pe,ge,Se,Ne,Ze,Je,Xe){createIteratorConstructor(Se,ge,Ne);var vt=function(_r){if(_r===Ze&&fr)return fr;if(!BUGGY_SAFARI_ITERATORS&&_r in mt)return mt[_r];switch(_r){case KEYS:return function(){return new Se(this,_r)};case VALUES:return function(){return new Se(this,_r)};case ENTRIES:return function(){return new Se(this,_r)}}return function(){return new Se(this)}},gt=ge+" Iterator",kt=!1,mt=pe.prototype,xt=mt[ITERATOR$4]||mt["@@iterator"]||Ze&&mt[Ze],fr=!BUGGY_SAFARI_ITERATORS&&xt||vt(Ze),ar=ge=="Array"&&mt.entries||xt,gr,wr,Er;if(ar&&(gr=getPrototypeOf(ar.call(new pe)),IteratorPrototype!==Object.prototype&&gr.next&&(getPrototypeOf(gr)!==IteratorPrototype&&(setPrototypeOf?setPrototypeOf(gr,IteratorPrototype):typeof gr[ITERATOR$4]!="function"&&createNonEnumerableProperty$1(gr,ITERATOR$4,returnThis)),setToStringTag$1(gr,gt,!0))),Ze==VALUES&&xt&&xt.name!==VALUES&&(kt=!0,fr=function(){return xt.call(this)}),mt[ITERATOR$4]!==fr&&createNonEnumerableProperty$1(mt,ITERATOR$4,fr),Iterators$3[ge]=fr,Ze)if(wr={values:vt(VALUES),keys:Je?fr:vt(KEYS),entries:vt(ENTRIES)},Xe)for(Er in wr)(BUGGY_SAFARI_ITERATORS||kt||!(Er in mt))&&redefine$3(mt,Er,wr[Er]);else $$1$1({target:ge,proto:!0,forced:BUGGY_SAFARI_ITERATORS||kt},wr);return wr},toIndexedObject=toIndexedObject$4,addToUnscopables=addToUnscopables$1,Iterators$2=iterators,InternalStateModule$1=internalState,defineIterator=defineIterator$1,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState$1=InternalStateModule$1.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(pe,ge){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(pe),index:0,kind:ge})},function(){var pe=getInternalState$1(this),ge=pe.target,Se=pe.kind,Ne=pe.index++;return!ge||Ne>=ge.length?(pe.target=void 0,{value:void 0,done:!0}):Se=="keys"?{value:Ne,done:!1}:Se=="values"?{value:ge[Ne],done:!1}:{value:[Ne,ge[Ne]],done:!1}},"values");Iterators$2.Arguments=Iterators$2.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var global$7=global$i,nativePromiseConstructor=global$7.Promise,redefine$2=redefine$5.exports,redefineAll$1=function(pe,ge,Se){for(var Ne in ge)redefine$2(pe,Ne,ge[Ne],Se);return pe},getBuiltIn$2=getBuiltIn$5,definePropertyModule=objectDefineProperty,wellKnownSymbol$8=wellKnownSymbol$d,DESCRIPTORS=descriptors,SPECIES$2=wellKnownSymbol$8("species"),setSpecies$1=function(pe){var ge=getBuiltIn$2(pe),Se=definePropertyModule.f;DESCRIPTORS&&ge&&!ge[SPECIES$2]&&Se(ge,SPECIES$2,{configurable:!0,get:function(){return this}})},aFunction$4=function(pe){if(typeof pe!="function")throw TypeError(String(pe)+" is not a function");return pe},anInstance$1=function(pe,ge,Se){if(!(pe instanceof ge))throw TypeError("Incorrect "+(Se?Se+" ":"")+"invocation");return pe},iterate$2={exports:{}},wellKnownSymbol$7=wellKnownSymbol$d,Iterators$1=iterators,ITERATOR$3=wellKnownSymbol$7("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(pe){return pe!==void 0&&(Iterators$1.Array===pe||ArrayPrototype[ITERATOR$3]===pe)},aFunction$3=aFunction$4,functionBindContext=function(pe,ge,Se){if(aFunction$3(pe),ge===void 0)return pe;switch(Se){case 0:return function(){return pe.call(ge)};case 1:return function(Ne){return pe.call(ge,Ne)};case 2:return function(Ne,Ze){return pe.call(ge,Ne,Ze)};case 3:return function(Ne,Ze,Je){return pe.call(ge,Ne,Ze,Je)}}return function(){return pe.apply(ge,arguments)}},wellKnownSymbol$6=wellKnownSymbol$d,TO_STRING_TAG$2=wellKnownSymbol$6("toStringTag"),test={};test[TO_STRING_TAG$2]="z";var toStringTagSupport=String(test)==="[object z]",TO_STRING_TAG_SUPPORT=toStringTagSupport,classofRaw=classofRaw$1,wellKnownSymbol$5=wellKnownSymbol$d,TO_STRING_TAG$1=wellKnownSymbol$5("toStringTag"),CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(pe,ge){try{return pe[ge]}catch{}},classof$4=TO_STRING_TAG_SUPPORT?classofRaw:function(pe){var ge,Se,Ne;return pe===void 0?"Undefined":pe===null?"Null":typeof(Se=tryGet(ge=Object(pe),TO_STRING_TAG$1))=="string"?Se:CORRECT_ARGUMENTS?classofRaw(ge):(Ne=classofRaw(ge))=="Object"&&typeof ge.callee=="function"?"Arguments":Ne},classof$3=classof$4,Iterators=iterators,wellKnownSymbol$4=wellKnownSymbol$d,ITERATOR$2=wellKnownSymbol$4("iterator"),getIteratorMethod$1=function(pe){if(pe!=null)return pe[ITERATOR$2]||pe["@@iterator"]||Iterators[classof$3(pe)]},anObject$5=anObject$b,callWithSafeIterationClosing$1=function(pe,ge,Se,Ne){try{return Ne?ge(anObject$5(Se)[0],Se[1]):ge(Se)}catch(Je){var Ze=pe.return;throw Ze!==void 0&&anObject$5(Ze.call(pe)),Je}},anObject$4=anObject$b,isArrayIteratorMethod=isArrayIteratorMethod$1,toLength=toLength$2,bind$2=functionBindContext,getIteratorMethod=getIteratorMethod$1,callWithSafeIterationClosing=callWithSafeIterationClosing$1,Result=function(pe,ge){this.stopped=pe,this.result=ge},iterate$1=iterate$2.exports=function(pe,ge,Se,Ne,Ze){var Je=bind$2(ge,Se,Ne?2:1),Xe,vt,gt,kt,mt,xt,fr;if(Ze)Xe=pe;else{if(vt=getIteratorMethod(pe),typeof vt!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod(vt)){for(gt=0,kt=toLength(pe.length);kt>gt;gt++)if(mt=Ne?Je(anObject$4(fr=pe[gt])[0],fr[1]):Je(pe[gt]),mt&&mt instanceof Result)return mt;return new Result(!1)}Xe=vt.call(pe)}for(xt=Xe.next;!(fr=xt.call(Xe)).done;)if(mt=callWithSafeIterationClosing(Xe,Je,fr.value,Ne),typeof mt=="object"&&mt&&mt instanceof Result)return mt;return new Result(!1)};iterate$1.stop=function(pe){return new Result(!0,pe)};var wellKnownSymbol$3=wellKnownSymbol$d,ITERATOR$1=wellKnownSymbol$3("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$1]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(pe){}var checkCorrectnessOfIteration$1=function(pe,ge){if(!ge&&!SAFE_CLOSING)return!1;var Se=!1;try{var Ne={};Ne[ITERATOR$1]=function(){return{next:function(){return{done:Se=!0}}}},pe(Ne)}catch{}return Se},anObject$3=anObject$b,aFunction$2=aFunction$4,wellKnownSymbol$2=wellKnownSymbol$d,SPECIES$1=wellKnownSymbol$2("species"),speciesConstructor$1=function(pe,ge){var Se=anObject$3(pe).constructor,Ne;return Se===void 0||(Ne=anObject$3(Se)[SPECIES$1])==null?ge:aFunction$2(Ne)},getBuiltIn$1=getBuiltIn$5,engineUserAgent=getBuiltIn$1("navigator","userAgent")||"",userAgent$1=engineUserAgent,engineIsIos=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent$1),global$6=global$i,fails$1=fails$8,classof$2=classofRaw$1,bind$1=functionBindContext,html=html$2,createElement=documentCreateElement$1,IS_IOS$1=engineIsIos,location$1=global$6.location,set=global$6.setImmediate,clear=global$6.clearImmediate,process$3=global$6.process,MessageChannel=global$6.MessageChannel,Dispatch=global$6.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(pe){if(queue.hasOwnProperty(pe)){var ge=queue[pe];delete queue[pe],ge()}},runner=function(pe){return function(){run(pe)}},listener=function(pe){run(pe.data)},post=function(pe){global$6.postMessage(pe+"",location$1.protocol+"//"+location$1.host)};(!set||!clear)&&(set=function(ge){for(var Se=[],Ne=1;arguments.length>Ne;)Se.push(arguments[Ne++]);return queue[++counter]=function(){(typeof ge=="function"?ge:Function(ge)).apply(void 0,Se)},defer(counter),counter},clear=function(ge){delete queue[ge]},classof$2(process$3)=="process"?defer=function(pe){process$3.nextTick(runner(pe))}:Dispatch&&Dispatch.now?defer=function(pe){Dispatch.now(runner(pe))}:MessageChannel&&!IS_IOS$1?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=bind$1(port.postMessage,port,1)):global$6.addEventListener&&typeof postMessage=="function"&&!global$6.importScripts&&!fails$1(post)&&location$1.protocol!=="file:"?(defer=post,global$6.addEventListener("message",listener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(pe){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(pe)}}:defer=function(pe){setTimeout(runner(pe),0)});var task$1={set},global$5=global$i,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,classof$1=classofRaw$1,macrotask=task$1.set,IS_IOS=engineIsIos,MutationObserver=global$5.MutationObserver||global$5.WebKitMutationObserver,process$2=global$5.process,Promise$1=global$5.Promise,IS_NODE$1=classof$1(process$2)=="process",queueMicrotaskDescriptor=getOwnPropertyDescriptor(global$5,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise,then;queueMicrotask||(flush=function(){var pe,ge;for(IS_NODE$1&&(pe=process$2.domain)&&pe.exit();head;){ge=head.fn,head=head.next;try{ge()}catch(Se){throw head?notify$1():last=void 0,Se}}last=void 0,pe&&pe.enter()},IS_NODE$1?notify$1=function(){process$2.nextTick(flush)}:MutationObserver&&!IS_IOS?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),then=promise.then,notify$1=function(){then.call(promise,flush)}):notify$1=function(){macrotask.call(global$5,flush)});var microtask$1=queueMicrotask||function(pe){var ge={fn:pe,next:void 0};last&&(last.next=ge),head||(head=ge,notify$1()),last=ge},newPromiseCapability$2={},aFunction$1=aFunction$4,PromiseCapability=function(pe){var ge,Se;this.promise=new pe(function(Ne,Ze){if(ge!==void 0||Se!==void 0)throw TypeError("Bad Promise constructor");ge=Ne,Se=Ze}),this.resolve=aFunction$1(ge),this.reject=aFunction$1(Se)};newPromiseCapability$2.f=function(pe){return new PromiseCapability(pe)};var anObject$2=anObject$b,isObject$1=isObject$7,newPromiseCapability$1=newPromiseCapability$2,promiseResolve$1=function(pe,ge){if(anObject$2(pe),isObject$1(ge)&&ge.constructor===pe)return ge;var Se=newPromiseCapability$1.f(pe),Ne=Se.resolve;return Ne(ge),Se.promise},global$4=global$i,hostReportErrors$1=function(pe,ge){var Se=global$4.console;Se&&Se.error&&(arguments.length===1?Se.error(pe):Se.error(pe,ge))},perform$1=function(pe){try{return{error:!1,value:pe()}}catch(ge){return{error:!0,value:ge}}},global$3=global$i,userAgent=engineUserAgent,process$1=global$3.process,versions=process$1&&process$1.versions,v8=versions&&versions.v8,match,version$1;v8?(match=v8.split("."),version$1=match[0]+match[1]):userAgent&&(match=userAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/),match&&(version$1=match[1])));var engineV8Version=version$1&&+version$1,$$2=_export,global$2=global$i,getBuiltIn=getBuiltIn$5,NativePromise=nativePromiseConstructor,redefine$1=redefine$5.exports,redefineAll=redefineAll$1,setToStringTag=setToStringTag$3,setSpecies=setSpecies$1,isObject$8=isObject$7,aFunction=aFunction$4,anInstance=anInstance$1,classof=classofRaw$1,inspectSource=inspectSource$3,iterate=iterate$2.exports,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,speciesConstructor=speciesConstructor$1,task=task$1.set,microtask=microtask$1,promiseResolve=promiseResolve$1,hostReportErrors=hostReportErrors$1,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$1,InternalStateModule=internalState,isForced=isForced_1,wellKnownSymbol$1=wellKnownSymbol$d,V8_VERSION=engineV8Version,SPECIES=wellKnownSymbol$1("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=NativePromise,TypeError$1=global$2.TypeError,document$1=global$2.document,process=global$2.process,$fetch=getBuiltIn("fetch"),newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE=classof(process)=="process",DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$2.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,FORCED=isForced(PROMISE,function(){var pe=inspectSource(PromiseConstructor)!==String(PromiseConstructor);if(!pe&&(V8_VERSION===66||!IS_NODE&&typeof PromiseRejectionEvent!="function"))return!0;if(V8_VERSION>=51&&/native code/.test(PromiseConstructor))return!1;var ge=PromiseConstructor.resolve(1),Se=function(Ze){Ze(function(){},function(){})},Ne=ge.constructor={};return Ne[SPECIES]=Se,!(ge.then(function(){})instanceof Se)}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(pe){PromiseConstructor.all(pe).catch(function(){})}),isThenable=function(pe){var ge;return isObject$8(pe)&&typeof(ge=pe.then)=="function"?ge:!1},notify=function(pe,ge,Se){if(!ge.notified){ge.notified=!0;var Ne=ge.reactions;microtask(function(){for(var Ze=ge.value,Je=ge.state==FULFILLED,Xe=0;Ne.length>Xe;){var vt=Ne[Xe++],gt=Je?vt.ok:vt.fail,kt=vt.resolve,mt=vt.reject,xt=vt.domain,fr,ar,gr;try{gt?(Je||(ge.rejection===UNHANDLED&&onHandleUnhandled(pe,ge),ge.rejection=HANDLED),gt===!0?fr=Ze:(xt&&xt.enter(),fr=gt(Ze),xt&&(xt.exit(),gr=!0)),fr===vt.promise?mt(TypeError$1("Promise-chain cycle")):(ar=isThenable(fr))?ar.call(fr,kt,mt):kt(fr)):mt(Ze)}catch(wr){xt&&!gr&&xt.exit(),mt(wr)}}ge.reactions=[],ge.notified=!1,Se&&!ge.rejection&&onUnhandled(pe,ge)})}},dispatchEvent=function(pe,ge,Se){var Ne,Ze;DISPATCH_EVENT?(Ne=document$1.createEvent("Event"),Ne.promise=ge,Ne.reason=Se,Ne.initEvent(pe,!1,!0),global$2.dispatchEvent(Ne)):Ne={promise:ge,reason:Se},(Ze=global$2["on"+pe])?Ze(Ne):pe===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",Se)},onUnhandled=function(pe,ge){task.call(global$2,function(){var Se=ge.value,Ne=isUnhandled(ge),Ze;if(Ne&&(Ze=perform(function(){IS_NODE?process.emit("unhandledRejection",Se,pe):dispatchEvent(UNHANDLED_REJECTION,pe,Se)}),ge.rejection=IS_NODE||isUnhandled(ge)?UNHANDLED:HANDLED,Ze.error))throw Ze.value})},isUnhandled=function(pe){return pe.rejection!==HANDLED&&!pe.parent},onHandleUnhandled=function(pe,ge){task.call(global$2,function(){IS_NODE?process.emit("rejectionHandled",pe):dispatchEvent(REJECTION_HANDLED,pe,ge.value)})},bind=function(pe,ge,Se,Ne){return function(Ze){pe(ge,Se,Ze,Ne)}},internalReject=function(pe,ge,Se,Ne){ge.done||(ge.done=!0,Ne&&(ge=Ne),ge.value=Se,ge.state=REJECTED,notify(pe,ge,!0))},internalResolve=function(pe,ge,Se,Ne){if(!ge.done){ge.done=!0,Ne&&(ge=Ne);try{if(pe===Se)throw TypeError$1("Promise can't be resolved itself");var Ze=isThenable(Se);Ze?microtask(function(){var Je={done:!1};try{Ze.call(Se,bind(internalResolve,pe,Je,ge),bind(internalReject,pe,Je,ge))}catch(Xe){internalReject(pe,Je,Xe,ge)}}):(ge.value=Se,ge.state=FULFILLED,notify(pe,ge,!1))}catch(Je){internalReject(pe,{done:!1},Je,ge)}}};FORCED&&(PromiseConstructor=function(ge){anInstance(this,PromiseConstructor,PROMISE),aFunction(ge),Internal.call(this);var Se=getInternalState(this);try{ge(bind(internalResolve,this,Se),bind(internalReject,this,Se))}catch(Ne){internalReject(this,Se,Ne)}},Internal=function(ge){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromiseConstructor.prototype,{then:function(ge,Se){var Ne=getInternalPromiseState(this),Ze=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return Ze.ok=typeof ge=="function"?ge:!0,Ze.fail=typeof Se=="function"&&Se,Ze.domain=IS_NODE?process.domain:void 0,Ne.parent=!0,Ne.reactions.push(Ze),Ne.state!=PENDING&&notify(this,Ne,!1),Ze.promise},catch:function(pe){return this.then(void 0,pe)}}),OwnPromiseCapability=function(){var pe=new Internal,ge=getInternalState(pe);this.promise=pe,this.resolve=bind(internalResolve,pe,ge),this.reject=bind(internalReject,pe,ge)},newPromiseCapabilityModule.f=newPromiseCapability=function(pe){return pe===PromiseConstructor||pe===PromiseWrapper?new OwnPromiseCapability(pe):newGenericPromiseCapability(pe)},typeof NativePromise=="function"&&(nativeThen=NativePromise.prototype.then,redefine$1(NativePromise.prototype,"then",function(ge,Se){var Ne=this;return new PromiseConstructor(function(Ze,Je){nativeThen.call(Ne,Ze,Je)}).then(ge,Se)},{unsafe:!0}),typeof $fetch=="function"&&$$2({global:!0,enumerable:!0,forced:!0},{fetch:function(ge){return promiseResolve(PromiseConstructor,$fetch.apply(global$2,arguments))}}))),$$2({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),$$2({target:PROMISE,stat:!0,forced:FORCED},{reject:function pe(ge){var Se=newPromiseCapability(this);return Se.reject.call(void 0,ge),Se.promise}}),$$2({target:PROMISE,stat:!0,forced:FORCED},{resolve:function pe(ge){return promiseResolve(this,ge)}}),$$2({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function pe(ge){var Se=this,Ne=newPromiseCapability(Se),Ze=Ne.resolve,Je=Ne.reject,Xe=perform(function(){var vt=aFunction(Se.resolve),gt=[],kt=0,mt=1;iterate(ge,function(xt){var fr=kt++,ar=!1;gt.push(void 0),mt++,vt.call(Se,xt).then(function(gr){ar||(ar=!0,gt[fr]=gr,--mt||Ze(gt))},Je)}),--mt||Ze(gt)});return Xe.error&&Je(Xe.value),Ne.promise},race:function pe(ge){var Se=this,Ne=newPromiseCapability(Se),Ze=Ne.reject,Je=perform(function(){var Xe=aFunction(Se.resolve);iterate(ge,function(vt){Xe.call(Se,vt).then(Ne.resolve,Ze)})});return Je.error&&Ze(Je.value),Ne.promise}});var anObject$1=anObject$b,regexpFlags=function(){var pe=anObject$1(this),ge="";return pe.global&&(ge+="g"),pe.ignoreCase&&(ge+="i"),pe.multiline&&(ge+="m"),pe.dotAll&&(ge+="s"),pe.unicode&&(ge+="u"),pe.sticky&&(ge+="y"),ge},redefine=redefine$5.exports,anObject=anObject$b,fails=fails$8,flags=regexpFlags,TO_STRING="toString",RegExpPrototype=RegExp.prototype,nativeToString=RegExpPrototype[TO_STRING],NOT_GENERIC=fails(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME=nativeToString.name!=TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&redefine(RegExp.prototype,TO_STRING,function(){var ge=anObject(this),Se=String(ge.source),Ne=ge.flags,Ze=String(Ne===void 0&&ge instanceof RegExp&&!("flags"in RegExpPrototype)?flags.call(ge):Ne);return"/"+Se+"/"+Ze},{unsafe:!0});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},global$1=global$i,DOMIterables=domIterables,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty=createNonEnumerableProperty$7,wellKnownSymbol=wellKnownSymbol$d,ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global$1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch{CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME]){for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch{CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}}typeof SuppressedError=="function"&&SuppressedError;const scriptRel="modulepreload",assetsURL=function(pe){return"/"+pe},seen={},__vitePreload=function pe(ge,Se,Ne){let Ze=Promise.resolve();function Je(Xe){const vt=new Event("vite:preloadError",{cancelable:!0});if(vt.payload=Xe,window.dispatchEvent(vt),!vt.defaultPrevented)throw Xe}return Ze.then(Xe=>{for(const vt of Xe||[])vt.status==="rejected"&&Je(vt.reason);return ge().catch(Je)})},t$4=Symbol(),s$4=Object.getPrototypeOf,c$4=new WeakMap,l$4=pe=>pe&&(c$4.has(pe)?c$4.get(pe):s$4(pe)===Object.prototype||s$4(pe)===Array.prototype),y$2=pe=>l$4(pe)&&pe[t$4]||null,h$3=(pe,ge=!0)=>{c$4.set(pe,ge)},__vite_import_meta_env__={},isObject=pe=>typeof pe=="object"&&pe!==null,proxyStateMap=new WeakMap,refSet=new WeakSet,buildProxyFunction=(pe=Object.is,ge=(kt,mt)=>new Proxy(kt,mt),Se=kt=>isObject(kt)&&!refSet.has(kt)&&(Array.isArray(kt)||!(Symbol.iterator in kt))&&!(kt instanceof WeakMap)&&!(kt instanceof WeakSet)&&!(kt instanceof Error)&&!(kt instanceof Number)&&!(kt instanceof Date)&&!(kt instanceof String)&&!(kt instanceof RegExp)&&!(kt instanceof ArrayBuffer),Ne=kt=>{switch(kt.status){case"fulfilled":return kt.value;case"rejected":throw kt.reason;default:throw kt}},Ze=new WeakMap,Je=(kt,mt,xt=Ne)=>{const fr=Ze.get(kt);if((fr==null?void 0:fr[0])===mt)return fr[1];const ar=Array.isArray(kt)?[]:Object.create(Object.getPrototypeOf(kt));return h$3(ar,!0),Ze.set(kt,[mt,ar]),Reflect.ownKeys(kt).forEach(gr=>{if(Object.getOwnPropertyDescriptor(ar,gr))return;const wr=Reflect.get(kt,gr),Er={value:wr,enumerable:!0,configurable:!0};if(refSet.has(wr))h$3(wr,!1);else if(wr instanceof Promise)delete Er.value,Er.get=()=>xt(wr);else if(proxyStateMap.has(wr)){const[_r,Sr]=proxyStateMap.get(wr);Er.value=Je(_r,Sr(),xt)}Object.defineProperty(ar,gr,Er)}),Object.preventExtensions(ar)},Xe=new WeakMap,vt=[1,1],gt=kt=>{if(!isObject(kt))throw new Error("object required");const mt=Xe.get(kt);if(mt)return mt;let xt=vt[0];const fr=new Set,ar=(Dr,Vr=++vt[0])=>{xt!==Vr&&(xt=Vr,fr.forEach(Ir=>Ir(Dr,Vr)))};let gr=vt[1];const wr=(Dr=++vt[1])=>(gr!==Dr&&!fr.size&&(gr=Dr,_r.forEach(([Vr])=>{const Ir=Vr[1](Dr);Ir>xt&&(xt=Ir)})),xt),Er=Dr=>(Vr,Ir)=>{const br=[...Vr];br[1]=[Dr,...br[1]],ar(br,Ir)},_r=new Map,Sr=(Dr,Vr)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&_r.has(Dr))throw new Error("prop listener already exists");if(fr.size){const Ir=Vr[3](Er(Dr));_r.set(Dr,[Vr,Ir])}else _r.set(Dr,[Vr])},Or=Dr=>{var Vr;const Ir=_r.get(Dr);Ir&&(_r.delete(Dr),(Vr=Ir[1])==null||Vr.call(Ir))},Pr=Dr=>(fr.add(Dr),fr.size===1&&_r.forEach(([Ir,br],Vt)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&br)throw new Error("remove already exists");const ht=Ir[3](Er(Vt));_r.set(Vt,[Ir,ht])}),()=>{fr.delete(Dr),fr.size===0&&_r.forEach(([Ir,br],Vt)=>{br&&(br(),_r.set(Vt,[Ir]))})}),kr=Array.isArray(kt)?[]:Object.create(Object.getPrototypeOf(kt)),Yr=ge(kr,{deleteProperty(Dr,Vr){const Ir=Reflect.get(Dr,Vr);Or(Vr);const br=Reflect.deleteProperty(Dr,Vr);return br&&ar(["delete",[Vr],Ir]),br},set(Dr,Vr,Ir,br){const Vt=Reflect.has(Dr,Vr),ht=Reflect.get(Dr,Vr,br);if(Vt&&(pe(ht,Ir)||Xe.has(Ir)&&pe(ht,Xe.get(Ir))))return!0;Or(Vr),isObject(Ir)&&(Ir=y$2(Ir)||Ir);let Ct=Ir;if(Ir instanceof Promise)Ir.then(or=>{Ir.status="fulfilled",Ir.value=or,ar(["resolve",[Vr],or])}).catch(or=>{Ir.status="rejected",Ir.reason=or,ar(["reject",[Vr],or])});else{!proxyStateMap.has(Ir)&&Se(Ir)&&(Ct=gt(Ir));const or=!refSet.has(Ct)&&proxyStateMap.get(Ct);or&&Sr(Vr,or)}return Reflect.set(Dr,Vr,Ct,br),ar(["set",[Vr],Ir,ht]),!0}});Xe.set(kt,Yr);const jr=[kr,wr,Je,Pr];return proxyStateMap.set(Yr,jr),Reflect.ownKeys(kt).forEach(Dr=>{const Vr=Object.getOwnPropertyDescriptor(kt,Dr);"value"in Vr&&(Yr[Dr]=kt[Dr],delete Vr.value,delete Vr.writable),Object.defineProperty(kr,Dr,Vr)}),Yr})=>[gt,proxyStateMap,refSet,pe,ge,Se,Ne,Ze,Je,Xe,vt],[defaultProxyFunction]=buildProxyFunction();function proxy(pe={}){return defaultProxyFunction(pe)}function subscribe(pe,ge,Se){const Ne=proxyStateMap.get(pe);(__vite_import_meta_env__?"production":void 0)!=="production"&&!Ne&&console.warn("Please use proxy object");let Ze;const Je=[],Xe=Ne[3];let vt=!1;const kt=Xe(mt=>{Je.push(mt),Ze||(Ze=Promise.resolve().then(()=>{Ze=void 0,vt&&ge(Je.splice(0))}))});return vt=!0,()=>{vt=!1,kt()}}function snapshot(pe,ge){const Se=proxyStateMap.get(pe);(__vite_import_meta_env__?"production":void 0)!=="production"&&!Se&&console.warn("Please use proxy object");const[Ne,Ze,Je]=Se;return Je(Ne,Ze(),ge)}const o$5=proxy({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),T$2={state:o$5,subscribe(pe){return subscribe(o$5,()=>pe(o$5))},push(pe,ge){pe!==o$5.view&&(o$5.view=pe,ge&&(o$5.data=ge),o$5.history.push(pe))},reset(pe){o$5.view=pe,o$5.history=[pe]},replace(pe){o$5.history.length>1&&(o$5.history[o$5.history.length-1]=pe,o$5.view=pe)},goBack(){if(o$5.history.length>1){o$5.history.pop();const[pe]=o$5.history.slice(-1);o$5.view=pe}},setData(pe){o$5.data=pe}},a$2={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return a$2.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const pe=navigator.userAgent.toLowerCase();return a$2.isMobile()&&(pe.includes("iphone")||pe.includes("ipad"))},isHttpUrl(pe){return pe.startsWith("http://")||pe.startsWith("https://")},isArray(pe){return Array.isArray(pe)&&pe.length>0},formatNativeUrl(pe,ge,Se){if(a$2.isHttpUrl(pe))return this.formatUniversalUrl(pe,ge,Se);let Ne=pe;Ne.includes("://")||(Ne=pe.replaceAll("/","").replaceAll(":",""),Ne=`${Ne}://`),Ne.endsWith("/")||(Ne=`${Ne}/`),this.setWalletConnectDeepLink(Ne,Se);const Ze=encodeURIComponent(ge);return`${Ne}wc?uri=${Ze}`},formatUniversalUrl(pe,ge,Se){if(!a$2.isHttpUrl(pe))return this.formatNativeUrl(pe,ge,Se);let Ne=pe;Ne.endsWith("/")||(Ne=`${Ne}/`),this.setWalletConnectDeepLink(Ne,Se);const Ze=encodeURIComponent(ge);return`${Ne}wc?uri=${Ze}`},async wait(pe){return new Promise(ge=>{setTimeout(ge,pe)})},openHref(pe,ge){window.open(pe,ge,"noreferrer noopener")},setWalletConnectDeepLink(pe,ge){try{localStorage.setItem(a$2.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:pe,name:ge}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(pe){try{const[ge]=pe.split("?");localStorage.setItem(a$2.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:ge,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(a$2.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(a$2.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var pe;const ge=(pe=T$2.state.data)==null?void 0:pe.Wallet;if(!ge)throw new Error('Missing "Wallet" view data');return ge}},_$2=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),r$3=proxy({enabled:_$2,userSessionId:"",events:[],connectedWalletId:void 0}),R$1={state:r$3,subscribe(pe){return subscribe(r$3.events,()=>pe(snapshot(r$3.events[r$3.events.length-1])))},initialize(){r$3.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(r$3.userSessionId=crypto.randomUUID())},setConnectedWalletId(pe){r$3.connectedWalletId=pe},click(pe){if(r$3.enabled){const ge={type:"CLICK",name:pe.name,userSessionId:r$3.userSessionId,timestamp:Date.now(),data:pe};r$3.events.push(ge)}},track(pe){if(r$3.enabled){const ge={type:"TRACK",name:pe.name,userSessionId:r$3.userSessionId,timestamp:Date.now(),data:pe};r$3.events.push(ge)}},view(pe){if(r$3.enabled){const ge={type:"VIEW",name:pe.name,userSessionId:r$3.userSessionId,timestamp:Date.now(),data:pe};r$3.events.push(ge)}}},c$3=proxy({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),p$1={state:c$3,subscribe(pe){return subscribe(c$3,()=>pe(c$3))},setChains(pe){c$3.chains=pe},setWalletConnectUri(pe){c$3.walletConnectUri=pe},setIsCustomDesktop(pe){c$3.isCustomDesktop=pe},setIsCustomMobile(pe){c$3.isCustomMobile=pe},setIsDataLoaded(pe){c$3.isDataLoaded=pe},setIsUiLoaded(pe){c$3.isUiLoaded=pe},setIsAuth(pe){c$3.isAuth=pe}},W=proxy({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),y$1={state:W,subscribe(pe){return subscribe(W,()=>pe(W))},setConfig(pe){var ge,Se;R$1.initialize(),p$1.setChains(pe.chains),p$1.setIsAuth(!!pe.enableAuthMode),p$1.setIsCustomMobile(!!((ge=pe.mobileWallets)!=null&&ge.length)),p$1.setIsCustomDesktop(!!((Se=pe.desktopWallets)!=null&&Se.length)),a$2.setModalVersionInStorage(),Object.assign(W,pe)}};var V$1=Object.defineProperty,D$2=Object.getOwnPropertySymbols,H$1=Object.prototype.hasOwnProperty,B$2=Object.prototype.propertyIsEnumerable,M$1=(pe,ge,Se)=>ge in pe?V$1(pe,ge,{enumerable:!0,configurable:!0,writable:!0,value:Se}):pe[ge]=Se,K$1=(pe,ge)=>{for(var Se in ge||(ge={}))H$1.call(ge,Se)&&M$1(pe,Se,ge[Se]);if(D$2)for(var Se of D$2(ge))B$2.call(ge,Se)&&M$1(pe,Se,ge[Se]);return pe};const L$2="https://explorer-api.walletconnect.com",E$1="wcm",O="js-2.6.2";async function w$1(pe,ge){const Se=K$1({sdkType:E$1,sdkVersion:O},ge),Ne=new URL(pe,L$2);return Ne.searchParams.append("projectId",y$1.state.projectId),Object.entries(Se).forEach(([Ze,Je])=>{Je&&Ne.searchParams.append(Ze,String(Je))}),(await fetch(Ne)).json()}const m$1={async getDesktopListings(pe){return w$1("/w3m/v1/getDesktopListings",pe)},async getMobileListings(pe){return w$1("/w3m/v1/getMobileListings",pe)},async getInjectedListings(pe){return w$1("/w3m/v1/getInjectedListings",pe)},async getAllListings(pe){return w$1("/w3m/v1/getAllListings",pe)},getWalletImageUrl(pe){return`${L$2}/w3m/v1/getWalletImage/${pe}?projectId=${y$1.state.projectId}&sdkType=${E$1}&sdkVersion=${O}`},getAssetImageUrl(pe){return`${L$2}/w3m/v1/getAssetImage/${pe}?projectId=${y$1.state.projectId}&sdkType=${E$1}&sdkVersion=${O}`}};var z$1=Object.defineProperty,j$1=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,q$1=Object.prototype.propertyIsEnumerable,k$1=(pe,ge,Se)=>ge in pe?z$1(pe,ge,{enumerable:!0,configurable:!0,writable:!0,value:Se}):pe[ge]=Se,F$1=(pe,ge)=>{for(var Se in ge||(ge={}))J.call(ge,Se)&&k$1(pe,Se,ge[Se]);if(j$1)for(var Se of j$1(ge))q$1.call(ge,Se)&&k$1(pe,Se,ge[Se]);return pe};const N$1=a$2.isMobile(),d$3=proxy({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),te$1={state:d$3,async getRecomendedWallets(){const{explorerRecommendedWalletIds:pe,explorerExcludedWalletIds:ge}=y$1.state;if(pe==="NONE"||ge==="ALL"&&!pe)return d$3.recomendedWallets;if(a$2.isArray(pe)){const Se={recommendedIds:pe.join(",")},{listings:Ne}=await m$1.getAllListings(Se),Ze=Object.values(Ne);Ze.sort((Je,Xe)=>{const vt=pe.indexOf(Je.id),gt=pe.indexOf(Xe.id);return vt-gt}),d$3.recomendedWallets=Ze}else{const{chains:Se,isAuth:Ne}=p$1.state,Ze=Se==null?void 0:Se.join(","),Je=a$2.isArray(ge),Xe={page:1,sdks:Ne?"auth_v1":void 0,entries:a$2.RECOMMENDED_WALLET_AMOUNT,chains:Ze,version:2,excludedIds:Je?ge.join(","):void 0},{listings:vt}=N$1?await m$1.getMobileListings(Xe):await m$1.getDesktopListings(Xe);d$3.recomendedWallets=Object.values(vt)}return d$3.recomendedWallets},async getWallets(pe){const ge=F$1({},pe),{explorerRecommendedWalletIds:Se,explorerExcludedWalletIds:Ne}=y$1.state,{recomendedWallets:Ze}=d$3;if(Ne==="ALL")return d$3.wallets;Ze.length?ge.excludedIds=Ze.map(xt=>xt.id).join(","):a$2.isArray(Se)&&(ge.excludedIds=Se.join(",")),a$2.isArray(Ne)&&(ge.excludedIds=[ge.excludedIds,Ne].filter(Boolean).join(",")),p$1.state.isAuth&&(ge.sdks="auth_v1");const{page:Je,search:Xe}=pe,{listings:vt,total:gt}=N$1?await m$1.getMobileListings(ge):await m$1.getDesktopListings(ge),kt=Object.values(vt),mt=Xe?"search":"wallets";return d$3[mt]={listings:[...d$3[mt].listings,...kt],total:gt,page:Je??1},{listings:kt,total:gt}},getWalletImageUrl(pe){return m$1.getWalletImageUrl(pe)},getAssetImageUrl(pe){return m$1.getAssetImageUrl(pe)},resetSearch(){d$3.search={listings:[],total:0,page:1}}},I$1=proxy({open:!1}),se$1={state:I$1,subscribe(pe){return subscribe(I$1,()=>pe(I$1))},async open(pe){return new Promise(ge=>{const{isUiLoaded:Se,isDataLoaded:Ne}=p$1.state;if(a$2.removeWalletConnectDeepLink(),p$1.setWalletConnectUri(pe==null?void 0:pe.uri),p$1.setChains(pe==null?void 0:pe.chains),T$2.reset("ConnectWallet"),Se&&Ne)I$1.open=!0,ge();else{const Ze=setInterval(()=>{const Je=p$1.state;Je.isUiLoaded&&Je.isDataLoaded&&(clearInterval(Ze),I$1.open=!0,ge())},200)}})},close(){I$1.open=!1}};var G$1=Object.defineProperty,$$1=Object.getOwnPropertySymbols,Q$1=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,S$3=(pe,ge,Se)=>ge in pe?G$1(pe,ge,{enumerable:!0,configurable:!0,writable:!0,value:Se}):pe[ge]=Se,Y$1=(pe,ge)=>{for(var Se in ge||(ge={}))Q$1.call(ge,Se)&&S$3(pe,Se,ge[Se]);if($$1)for(var Se of $$1(ge))X.call(ge,Se)&&S$3(pe,Se,ge[Se]);return pe};function Z$2(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const C$1=proxy({themeMode:Z$2()?"dark":"light"}),ne$1={state:C$1,subscribe(pe){return subscribe(C$1,()=>pe(C$1))},setThemeConfig(pe){const{themeMode:ge,themeVariables:Se}=pe;ge&&(C$1.themeMode=ge),Se&&(C$1.themeVariables=Y$1({},Se))}},g$1=proxy({open:!1,message:"",variant:"success"}),oe$1={state:g$1,subscribe(pe){return subscribe(g$1,()=>pe(g$1))},openToast(pe,ge){g$1.open=!0,g$1.message=pe,g$1.variant=ge},closeToast(){g$1.open=!1}};let d$2=class{constructor(ge){this.openModal=se$1.open,this.closeModal=se$1.close,this.subscribeModal=se$1.subscribe,this.setTheme=ne$1.setThemeConfig,ne$1.setThemeConfig(ge),y$1.setConfig(ge),this.initUi()}async initUi(){if(typeof window<"u"){await __vitePreload(()=>Promise.resolve().then(()=>index),void 0);const ge=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",ge),p$1.setIsUiLoaded(!0)}}};class SelectorStorageKeyStore extends lib$b.KeyStore{constructor(){super(...arguments);ci(this,"storage",window.selector.storage);ci(this,"prefix","near-api-js:keystore:")}async setKey(Se,Ne,Ze){await this.storage.set(this.storageKeyForSecretKey(Se,Ne),Ze.toString())}async getKey(Se,Ne){const Ze=await this.storage.get(this.storageKeyForSecretKey(Se,Ne)).catch(()=>null);return Ze?lib$a.KeyPair.fromString(Ze):null}async removeKey(Se,Ne){await this.storage.remove(this.storageKeyForSecretKey(Se,Ne))}async clear(){for await(const Se of this.storageKeys())Se.startsWith(this.prefix)&&await this.storage.remove(Se)}async getNetworks(){const Se=new Set;for await(const Ne of this.storageKeys())if(Ne.startsWith(this.prefix)){const Ze=Ne.substring(this.prefix.length).split(":");Se.add(Ze[1])}return Array.from(Se.values())}async getAccounts(Se){const Ne=new Array;for await(const Ze of this.storageKeys()){if(!Ze.startsWith(this.prefix))continue;const Je=Ze.substring(this.prefix.length).split(":");Je[1]===Se&&Ne.push(Je[0])}return Ne}storageKeyForSecretKey(Se,Ne){return`${this.prefix}${Ne}:${Se}`}async*storageKeys(){const Se=await this.storage.keys();for(const Ne of Se)yield Ne}}const WC_METHODS=["near_signIn","near_signOut","near_getAccounts","near_signTransaction","near_signTransactions","near_signMessage"],WC_EVENTS=["chainChanged","accountsChanged"],provider=new browserIndex$2.providers.JsonRpcProvider({url:"https://rpc.mainnet.near.org"}),keystore=new SelectorStorageKeyStore;let modal;const connect=async pe=>{modal||(modal=new d$2({chains:["near:mainnet","near:testnet"],projectId:await window.selector.walletConnect.getProjectId(),explorerExcludedWalletIds:"ALL",themeMode:"dark"}));const ge=await window.selector.walletConnect.connect({requiredNamespaces:{near:{chains:[`near:${pe}`],methods:WC_METHODS,events:WC_EVENTS}}});return window.selector.ui.showIframe(),await new Promise(Se=>setTimeout(Se,100)),modal.openModal({uri:ge.uri,standaloneChains:[`near:${pe}`]}),new Promise(async(Se,Ne)=>{for(modal.subscribeModal(({open:Ze})=>{Ze||Ne(new Error("User cancelled pairing"))});;){const Ze=await window.selector.walletConnect.getSession();Ze&&Se(Ze),await new Promise(Je=>setTimeout(Je,1e3))}})},disconnect=async()=>{await window.selector.walletConnect.disconnect({topic:(await window.selector.walletConnect.getSession()).topic,reason:{code:5900,message:"User disconnected"}})},getSignatureData=pe=>{if(pe instanceof Uint8Array)return pe;if(Array.isArray(pe))return new Uint8Array(pe);if(typeof pe=="object"&&pe!==null)return new Uint8Array(Object.values(pe));throw new Error("Unexpected result type from near_signTransaction")},WalletConnect=async()=>{const pe=async xt=>{const fr=await window.selector.walletConnect.getSession();if(!fr)return[];const ar=fr.namespaces.near.accounts||[],gr=[];for(let wr=0;wr<ar.length;wr++){const _r=await new browserIndex$2.InMemorySigner(keystore).getPublicKey(ar[wr].split(":")[2],xt);gr.push({accountId:ar[wr].split(":")[2],publicKey:_r?_r.toString():""})}return gr},ge=(xt,fr)=>{if(fr.permission==="FullAccess")return fr;const{receiver_id:ar,method_names:gr}=fr.permission.FunctionCall;return xt.receiverId!==ar?null:xt.actions.every(wr=>{if(wr.type!=="FunctionCall")return!1;const{methodName:Er,deposit:_r}=wr.params;return gr.length&&gr.includes(Er)?!1:parseFloat(_r)<=0})},Se=async(xt,fr)=>{const ar=new browserIndex$2.InMemorySigner(keystore),gr=[],wr=await provider.block({finality:"final"});for(let Er=0;Er<xt.length;Er+=1){const _r=xt[Er],Sr=await ar.getPublicKey(_r.signerId,fr);if(!Sr)throw new Error("No public key found");const Or=await provider.query({account_id:_r.signerId,public_key:Sr.toString(),request_type:"view_access_key",finality:"final"});if(!ge(_r,Or))throw new Error("Invalid access key");const Pr=browserIndex$2.transactions.createTransaction(xt[Er].signerId,browserIndex$2.utils.PublicKey.from(Sr.toString()),xt[Er].receiverId,Or.nonce+Er+1,_r.actions.map(Ur=>createAction(Ur)),browserIndex$2.utils.serialize.base_decode(wr.header.hash)),[,kr]=await browserIndex$2.transactions.signTransaction(Pr,ar,xt[Er].signerId,fr);gr.push(kr)}return gr},Ne=async xt=>window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${xt}`,request:{method:"near_getAccounts",params:{}}}),Ze=async(xt,fr)=>{const{message:ar,nonce:gr,recipient:wr,callbackUrl:Er,accountId:_r}=xt;return window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${fr}`,request:{method:"near_signMessage",params:{message:ar,nonce:gr,recipient:wr,...Er&&{callbackUrl:Er},..._r&&{accountId:_r}}}})},Je=async(xt,fr)=>{const gr=(await Ne(fr)).find(Pr=>Pr.accountId===xt.signerId);if(!gr)throw new Error("Invalid signer id");const[wr,Er]=await Promise.all([provider.block({finality:"final"}),provider.query({request_type:"view_access_key",finality:"final",account_id:xt.signerId,public_key:gr.publicKey})]),_r=browserIndex$2.transactions.createTransaction(xt.signerId,browserIndex$2.utils.PublicKey.from(gr.publicKey),xt.receiverId,Er.nonce+1,xt.actions.map(Pr=>createAction(Pr)),browserIndex$2.utils.serialize.base_decode(wr.header.hash)),Sr=await window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${fr}`,request:{method:"near_signTransaction",params:{transaction:_r.encode()}}}),Or=getSignatureData(Sr);return browserIndex$2.transactions.SignedTransaction.decode(Buffer$F.from(Or))},Xe=async(xt,fr)=>{if(!xt.length)return[];const ar=[],[gr,wr]=await Promise.all([provider.block({finality:"final"}),Ne(fr)]);for(let _r=0;_r<xt.length;_r+=1){const Sr=xt[_r],Or=wr.find(kr=>kr.accountId===Sr.signerId);if(!Or)throw new Error("Invalid signer id");const Pr=await provider.query({request_type:"view_access_key",finality:"final",account_id:Sr.signerId,public_key:Or.publicKey});ar.push(browserIndex$2.transactions.createTransaction(Sr.signerId,browserIndex$2.utils.PublicKey.from(Or.publicKey),Sr.receiverId,Pr.nonce+_r+1,Sr.actions.map(kr=>createAction(kr)),browserIndex$2.utils.serialize.base_decode(gr.header.hash)))}return(await window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${fr}`,request:{method:"near_signTransactions",params:{transactions:ar.map(_r=>_r.encode())}}})).map(_r=>{const Sr=getSignatureData(_r);return browserIndex$2.transactions.SignedTransaction.decode(Buffer$F.from(Sr))})},vt=async xt=>(await pe(xt)).map(({accountId:ar})=>({keyPair:browserIndex$2.utils.KeyPair.fromRandom("ed25519"),accountId:ar})),gt=async(xt,fr)=>{const ar=await vt(fr),gr=ar.map(({accountId:wr,keyPair:Er})=>({publicKey:Er.getPublicKey().toString(),accountId:wr}));await window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${fr}`,request:{method:"near_signIn",params:{permission:xt,accounts:gr}}});for(let wr=0;wr<ar.length;wr+=1){const{accountId:Er,keyPair:_r}=ar[wr];await keystore.setKey(fr,Er,_r)}},kt=async xt=>{const fr=await pe(xt),ar=[];for(let gr=0;gr<fr.length;gr+=1){const wr=fr[gr],Er=await keystore.getKey(xt,wr.accountId);Er&&ar.push({accountId:wr.accountId,publicKey:Er.getPublicKey().toString()})}ar.length&&await window.selector.walletConnect.request({topic:(await window.selector.walletConnect.getSession()).topic,chainId:`near:${xt}`,request:{method:"near_signOut",params:{accounts:ar}}})},mt=async xt=>{await window.selector.walletConnect.getSession()&&(await kt(xt),await disconnect())};return{async signIn({contractId:xt,methodNames:fr=[],network:ar}){try{return await window.selector.walletConnect.getSession()&&await disconnect(),await connect(ar),await gt({receiverId:xt||"",methodNames:fr},ar),await pe(ar)}catch(gr){throw await mt(ar),gr}},signOut:mt,async getAccounts(xt){return pe(xt)},async verifyOwner({message:xt}){throw new Error("Method not supported")},async signMessage({message:xt,nonce:fr,recipient:ar,callbackUrl:gr,network:wr}){try{return await window.selector.walletConnect.getSession()||await connect(wr),await Ze({message:xt,nonce:fr,recipient:ar,callbackUrl:gr},wr)}catch(Er){throw await disconnect(),Er}},async signAndSendTransaction({receiverId:xt,actions:fr,network:ar}){const gr=await pe(ar).catch(()=>[]);if(!gr.length)throw new Error("Wallet not signed in");const Er={signerId:gr[0].accountId,receiverId:xt,actions:fr};try{const[_r]=await Se([Er],ar);return provider.sendTransaction(_r)}catch{const Sr=await Je(Er,ar);return provider.sendTransaction(Sr)}},async signAndSendTransactions({transactions:xt,network:fr}){const ar=await pe(fr).catch(()=>[]);if(!ar.length)throw new Error("Wallet not signed in");const gr=ar[0].accountId,wr=xt.map(Er=>({signerId:gr,receiverId:Er.receiverId,actions:Er.actions}));try{const Er=await Se(wr,fr),_r=[];for(let Sr=0;Sr<Er.length;Sr+=1)_r.push(await provider.sendTransaction(Er[Sr]));return _r}catch{const _r=await Xe(wr,fr),Sr=[];for(let Or=0;Or<_r.length;Or+=1)Sr.push(await provider.sendTransaction(_r[Or]));return Sr}},async createSignedTransaction(){throw new Error("Method not supported")},async signTransaction(xt){throw new Error("Method not supported")},async getPublicKey(){throw new Error("Method not supported")},async signNep413Message(){throw new Error("Method not supported")},async signDelegateAction(){throw new Error("Method not supported")}}};WalletConnect().then(pe=>{window.selector.ready(pe)});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=window,e$5=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$3=Symbol(),n$5=new WeakMap;let o$4=class{constructor(ge,Se,Ne){if(this._$cssResult$=!0,Ne!==s$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=ge,this.t=Se}get styleSheet(){let ge=this.o;const Se=this.t;if(e$5&&ge===void 0){const Ne=Se!==void 0&&Se.length===1;Ne&&(ge=n$5.get(Se)),ge===void 0&&((this.o=ge=new CSSStyleSheet).replaceSync(this.cssText),Ne&&n$5.set(Se,ge))}return ge}toString(){return this.cssText}};const r$2=pe=>new o$4(typeof pe=="string"?pe:pe+"",void 0,s$3),i$3=(pe,...ge)=>{const Se=pe.length===1?pe[0]:ge.reduce((Ne,Ze,Je)=>Ne+(Xe=>{if(Xe._$cssResult$===!0)return Xe.cssText;if(typeof Xe=="number")return Xe;throw Error("Value passed to 'css' function must be a 'css' function result: "+Xe+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(Ze)+pe[Je+1],pe[0]);return new o$4(Se,pe,s$3)},S$2=(pe,ge)=>{e$5?pe.adoptedStyleSheets=ge.map(Se=>Se instanceof CSSStyleSheet?Se:Se.styleSheet):ge.forEach(Se=>{const Ne=document.createElement("style"),Ze=t$3.litNonce;Ze!==void 0&&Ne.setAttribute("nonce",Ze),Ne.textContent=Se.cssText,pe.appendChild(Ne)})},c$2=e$5?pe=>pe:pe=>pe instanceof CSSStyleSheet?(ge=>{let Se="";for(const Ne of ge.cssRules)Se+=Ne.cssText;return r$2(Se)})(pe):pe;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$2;const e$4=window,r$1=e$4.trustedTypes,h$2=r$1?r$1.emptyScript:"",o$3=e$4.reactiveElementPolyfillSupport,n$4={toAttribute(pe,ge){switch(ge){case Boolean:pe=pe?h$2:null;break;case Object:case Array:pe=pe==null?pe:JSON.stringify(pe)}return pe},fromAttribute(pe,ge){let Se=pe;switch(ge){case Boolean:Se=pe!==null;break;case Number:Se=pe===null?null:Number(pe);break;case Object:case Array:try{Se=JSON.parse(pe)}catch{Se=null}}return Se}},a$1=(pe,ge)=>ge!==pe&&(ge==ge||pe==pe),l$3={attribute:!0,type:String,converter:n$4,reflect:!1,hasChanged:a$1},d$1="finalized";let u$1=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(ge){var Se;this.finalize(),((Se=this.h)!==null&&Se!==void 0?Se:this.h=[]).push(ge)}static get observedAttributes(){this.finalize();const ge=[];return this.elementProperties.forEach((Se,Ne)=>{const Ze=this._$Ep(Ne,Se);Ze!==void 0&&(this._$Ev.set(Ze,Ne),ge.push(Ze))}),ge}static createProperty(ge,Se=l$3){if(Se.state&&(Se.attribute=!1),this.finalize(),this.elementProperties.set(ge,Se),!Se.noAccessor&&!this.prototype.hasOwnProperty(ge)){const Ne=typeof ge=="symbol"?Symbol():"__"+ge,Ze=this.getPropertyDescriptor(ge,Ne,Se);Ze!==void 0&&Object.defineProperty(this.prototype,ge,Ze)}}static getPropertyDescriptor(ge,Se,Ne){return{get(){return this[Se]},set(Ze){const Je=this[ge];this[Se]=Ze,this.requestUpdate(ge,Je,Ne)},configurable:!0,enumerable:!0}}static getPropertyOptions(ge){return this.elementProperties.get(ge)||l$3}static finalize(){if(this.hasOwnProperty(d$1))return!1;this[d$1]=!0;const ge=Object.getPrototypeOf(this);if(ge.finalize(),ge.h!==void 0&&(this.h=[...ge.h]),this.elementProperties=new Map(ge.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const Se=this.properties,Ne=[...Object.getOwnPropertyNames(Se),...Object.getOwnPropertySymbols(Se)];for(const Ze of Ne)this.createProperty(Ze,Se[Ze])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(ge){const Se=[];if(Array.isArray(ge)){const Ne=new Set(ge.flat(1/0).reverse());for(const Ze of Ne)Se.unshift(c$2(Ze))}else ge!==void 0&&Se.push(c$2(ge));return Se}static _$Ep(ge,Se){const Ne=Se.attribute;return Ne===!1?void 0:typeof Ne=="string"?Ne:typeof ge=="string"?ge.toLowerCase():void 0}_$Eu(){var ge;this._$E_=new Promise(Se=>this.enableUpdating=Se),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(ge=this.constructor.h)===null||ge===void 0||ge.forEach(Se=>Se(this))}addController(ge){var Se,Ne;((Se=this._$ES)!==null&&Se!==void 0?Se:this._$ES=[]).push(ge),this.renderRoot!==void 0&&this.isConnected&&((Ne=ge.hostConnected)===null||Ne===void 0||Ne.call(ge))}removeController(ge){var Se;(Se=this._$ES)===null||Se===void 0||Se.splice(this._$ES.indexOf(ge)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((ge,Se)=>{this.hasOwnProperty(Se)&&(this._$Ei.set(Se,this[Se]),delete this[Se])})}createRenderRoot(){var ge;const Se=(ge=this.shadowRoot)!==null&&ge!==void 0?ge:this.attachShadow(this.constructor.shadowRootOptions);return S$2(Se,this.constructor.elementStyles),Se}connectedCallback(){var ge;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(ge=this._$ES)===null||ge===void 0||ge.forEach(Se=>{var Ne;return(Ne=Se.hostConnected)===null||Ne===void 0?void 0:Ne.call(Se)})}enableUpdating(ge){}disconnectedCallback(){var ge;(ge=this._$ES)===null||ge===void 0||ge.forEach(Se=>{var Ne;return(Ne=Se.hostDisconnected)===null||Ne===void 0?void 0:Ne.call(Se)})}attributeChangedCallback(ge,Se,Ne){this._$AK(ge,Ne)}_$EO(ge,Se,Ne=l$3){var Ze;const Je=this.constructor._$Ep(ge,Ne);if(Je!==void 0&&Ne.reflect===!0){const Xe=(((Ze=Ne.converter)===null||Ze===void 0?void 0:Ze.toAttribute)!==void 0?Ne.converter:n$4).toAttribute(Se,Ne.type);this._$El=ge,Xe==null?this.removeAttribute(Je):this.setAttribute(Je,Xe),this._$El=null}}_$AK(ge,Se){var Ne;const Ze=this.constructor,Je=Ze._$Ev.get(ge);if(Je!==void 0&&this._$El!==Je){const Xe=Ze.getPropertyOptions(Je),vt=typeof Xe.converter=="function"?{fromAttribute:Xe.converter}:((Ne=Xe.converter)===null||Ne===void 0?void 0:Ne.fromAttribute)!==void 0?Xe.converter:n$4;this._$El=Je,this[Je]=vt.fromAttribute(Se,Xe.type),this._$El=null}}requestUpdate(ge,Se,Ne){let Ze=!0;ge!==void 0&&(((Ne=Ne||this.constructor.getPropertyOptions(ge)).hasChanged||a$1)(this[ge],Se)?(this._$AL.has(ge)||this._$AL.set(ge,Se),Ne.reflect===!0&&this._$El!==ge&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(ge,Ne))):Ze=!1),!this.isUpdatePending&&Ze&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(Se){Promise.reject(Se)}const ge=this.scheduleUpdate();return ge!=null&&await ge,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var ge;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((Ze,Je)=>this[Je]=Ze),this._$Ei=void 0);let Se=!1;const Ne=this._$AL;try{Se=this.shouldUpdate(Ne),Se?(this.willUpdate(Ne),(ge=this._$ES)===null||ge===void 0||ge.forEach(Ze=>{var Je;return(Je=Ze.hostUpdate)===null||Je===void 0?void 0:Je.call(Ze)}),this.update(Ne)):this._$Ek()}catch(Ze){throw Se=!1,this._$Ek(),Ze}Se&&this._$AE(Ne)}willUpdate(ge){}_$AE(ge){var Se;(Se=this._$ES)===null||Se===void 0||Se.forEach(Ne=>{var Ze;return(Ze=Ne.hostUpdated)===null||Ze===void 0?void 0:Ze.call(Ne)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(ge)),this.updated(ge)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(ge){return!0}update(ge){this._$EC!==void 0&&(this._$EC.forEach((Se,Ne)=>this._$EO(Ne,this[Ne],Se)),this._$EC=void 0),this._$Ek()}updated(ge){}firstUpdated(ge){}};u$1[d$1]=!0,u$1.elementProperties=new Map,u$1.elementStyles=[],u$1.shadowRootOptions={mode:"open"},o$3==null||o$3({ReactiveElement:u$1}),((s$2=e$4.reactiveElementVersions)!==null&&s$2!==void 0?s$2:e$4.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2;const i$2=window,s$1=i$2.trustedTypes,e$3=s$1?s$1.createPolicy("lit-html",{createHTML:pe=>pe}):void 0,o$2="$lit$",n$3=`lit$${(Math.random()+"").slice(9)}$`,l$2="?"+n$3,h$1=`<${l$2}>`,r=document,u=()=>r.createComment(""),d=pe=>pe===null||typeof pe!="object"&&typeof pe!="function",c$1=Array.isArray,v$1=pe=>c$1(pe)||typeof(pe==null?void 0:pe[Symbol.iterator])=="function",a=`[ 	
\f\r]`,f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_$1=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\s"'>=/]+)(${a}*=${a}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g=/'/g,$=/"/g,y=/^(?:script|style|textarea|title)$/i,w=pe=>(ge,...Se)=>({_$litType$:pe,strings:ge,values:Se}),x=w(1),b=w(2),T$1=Symbol.for("lit-noChange"),A$1=Symbol.for("lit-nothing"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(pe,ge){if(!Array.isArray(pe)||!pe.hasOwnProperty("raw"))throw Error("invalid template strings array");return e$3!==void 0?e$3.createHTML(ge):ge}const V=(pe,ge)=>{const Se=pe.length-1,Ne=[];let Ze,Je=ge===2?"<svg>":"",Xe=f;for(let vt=0;vt<Se;vt++){const gt=pe[vt];let kt,mt,xt=-1,fr=0;for(;fr<gt.length&&(Xe.lastIndex=fr,mt=Xe.exec(gt),mt!==null);)fr=Xe.lastIndex,Xe===f?mt[1]==="!--"?Xe=_$1:mt[1]!==void 0?Xe=m:mt[2]!==void 0?(y.test(mt[2])&&(Ze=RegExp("</"+mt[2],"g")),Xe=p):mt[3]!==void 0&&(Xe=p):Xe===p?mt[0]===">"?(Xe=Ze??f,xt=-1):mt[1]===void 0?xt=-2:(xt=Xe.lastIndex-mt[2].length,kt=mt[1],Xe=mt[3]===void 0?p:mt[3]==='"'?$:g):Xe===$||Xe===g?Xe=p:Xe===_$1||Xe===m?Xe=f:(Xe=p,Ze=void 0);const ar=Xe===p&&pe[vt+1].startsWith("/>")?" ":"";Je+=Xe===f?gt+h$1:xt>=0?(Ne.push(kt),gt.slice(0,xt)+o$2+gt.slice(xt)+n$3+ar):gt+n$3+(xt===-2?(Ne.push(void 0),vt):ar)}return[P(pe,Je+(pe[Se]||"<?>")+(ge===2?"</svg>":"")),Ne]};class N{constructor({strings:ge,_$litType$:Se},Ne){let Ze;this.parts=[];let Je=0,Xe=0;const vt=ge.length-1,gt=this.parts,[kt,mt]=V(ge,Se);if(this.el=N.createElement(kt,Ne),C.currentNode=this.el.content,Se===2){const xt=this.el.content,fr=xt.firstChild;fr.remove(),xt.append(...fr.childNodes)}for(;(Ze=C.nextNode())!==null&&gt.length<vt;){if(Ze.nodeType===1){if(Ze.hasAttributes()){const xt=[];for(const fr of Ze.getAttributeNames())if(fr.endsWith(o$2)||fr.startsWith(n$3)){const ar=mt[Xe++];if(xt.push(fr),ar!==void 0){const gr=Ze.getAttribute(ar.toLowerCase()+o$2).split(n$3),wr=/([.?@])?(.*)/.exec(ar);gt.push({type:1,index:Je,name:wr[2],strings:gr,ctor:wr[1]==="."?H:wr[1]==="?"?L$1:wr[1]==="@"?z:k})}else gt.push({type:6,index:Je})}for(const fr of xt)Ze.removeAttribute(fr)}if(y.test(Ze.tagName)){const xt=Ze.textContent.split(n$3),fr=xt.length-1;if(fr>0){Ze.textContent=s$1?s$1.emptyScript:"";for(let ar=0;ar<fr;ar++)Ze.append(xt[ar],u()),C.nextNode(),gt.push({type:2,index:++Je});Ze.append(xt[fr],u())}}}else if(Ze.nodeType===8)if(Ze.data===l$2)gt.push({type:2,index:Je});else{let xt=-1;for(;(xt=Ze.data.indexOf(n$3,xt+1))!==-1;)gt.push({type:7,index:Je}),xt+=n$3.length-1}Je++}}static createElement(ge,Se){const Ne=r.createElement("template");return Ne.innerHTML=ge,Ne}}function S$1(pe,ge,Se=pe,Ne){var Ze,Je,Xe,vt;if(ge===T$1)return ge;let gt=Ne!==void 0?(Ze=Se._$Co)===null||Ze===void 0?void 0:Ze[Ne]:Se._$Cl;const kt=d(ge)?void 0:ge._$litDirective$;return(gt==null?void 0:gt.constructor)!==kt&&((Je=gt==null?void 0:gt._$AO)===null||Je===void 0||Je.call(gt,!1),kt===void 0?gt=void 0:(gt=new kt(pe),gt._$AT(pe,Se,Ne)),Ne!==void 0?((Xe=(vt=Se)._$Co)!==null&&Xe!==void 0?Xe:vt._$Co=[])[Ne]=gt:Se._$Cl=gt),gt!==void 0&&(ge=S$1(pe,gt._$AS(pe,ge.values),gt,Ne)),ge}class M{constructor(ge,Se){this._$AV=[],this._$AN=void 0,this._$AD=ge,this._$AM=Se}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(ge){var Se;const{el:{content:Ne},parts:Ze}=this._$AD,Je=((Se=ge==null?void 0:ge.creationScope)!==null&&Se!==void 0?Se:r).importNode(Ne,!0);C.currentNode=Je;let Xe=C.nextNode(),vt=0,gt=0,kt=Ze[0];for(;kt!==void 0;){if(vt===kt.index){let mt;kt.type===2?mt=new R(Xe,Xe.nextSibling,this,ge):kt.type===1?mt=new kt.ctor(Xe,kt.name,kt.strings,this,ge):kt.type===6&&(mt=new Z$1(Xe,this,ge)),this._$AV.push(mt),kt=Ze[++gt]}vt!==(kt==null?void 0:kt.index)&&(Xe=C.nextNode(),vt++)}return C.currentNode=r,Je}v(ge){let Se=0;for(const Ne of this._$AV)Ne!==void 0&&(Ne.strings!==void 0?(Ne._$AI(ge,Ne,Se),Se+=Ne.strings.length-2):Ne._$AI(ge[Se])),Se++}}class R{constructor(ge,Se,Ne,Ze){var Je;this.type=2,this._$AH=A$1,this._$AN=void 0,this._$AA=ge,this._$AB=Se,this._$AM=Ne,this.options=Ze,this._$Cp=(Je=Ze==null?void 0:Ze.isConnected)===null||Je===void 0||Je}get _$AU(){var ge,Se;return(Se=(ge=this._$AM)===null||ge===void 0?void 0:ge._$AU)!==null&&Se!==void 0?Se:this._$Cp}get parentNode(){let ge=this._$AA.parentNode;const Se=this._$AM;return Se!==void 0&&(ge==null?void 0:ge.nodeType)===11&&(ge=Se.parentNode),ge}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(ge,Se=this){ge=S$1(this,ge,Se),d(ge)?ge===A$1||ge==null||ge===""?(this._$AH!==A$1&&this._$AR(),this._$AH=A$1):ge!==this._$AH&&ge!==T$1&&this._(ge):ge._$litType$!==void 0?this.g(ge):ge.nodeType!==void 0?this.$(ge):v$1(ge)?this.T(ge):this._(ge)}k(ge){return this._$AA.parentNode.insertBefore(ge,this._$AB)}$(ge){this._$AH!==ge&&(this._$AR(),this._$AH=this.k(ge))}_(ge){this._$AH!==A$1&&d(this._$AH)?this._$AA.nextSibling.data=ge:this.$(r.createTextNode(ge)),this._$AH=ge}g(ge){var Se;const{values:Ne,_$litType$:Ze}=ge,Je=typeof Ze=="number"?this._$AC(ge):(Ze.el===void 0&&(Ze.el=N.createElement(P(Ze.h,Ze.h[0]),this.options)),Ze);if(((Se=this._$AH)===null||Se===void 0?void 0:Se._$AD)===Je)this._$AH.v(Ne);else{const Xe=new M(Je,this),vt=Xe.u(this.options);Xe.v(Ne),this.$(vt),this._$AH=Xe}}_$AC(ge){let Se=E.get(ge.strings);return Se===void 0&&E.set(ge.strings,Se=new N(ge)),Se}T(ge){c$1(this._$AH)||(this._$AH=[],this._$AR());const Se=this._$AH;let Ne,Ze=0;for(const Je of ge)Ze===Se.length?Se.push(Ne=new R(this.k(u()),this.k(u()),this,this.options)):Ne=Se[Ze],Ne._$AI(Je),Ze++;Ze<Se.length&&(this._$AR(Ne&&Ne._$AB.nextSibling,Ze),Se.length=Ze)}_$AR(ge=this._$AA.nextSibling,Se){var Ne;for((Ne=this._$AP)===null||Ne===void 0||Ne.call(this,!1,!0,Se);ge&&ge!==this._$AB;){const Ze=ge.nextSibling;ge.remove(),ge=Ze}}setConnected(ge){var Se;this._$AM===void 0&&(this._$Cp=ge,(Se=this._$AP)===null||Se===void 0||Se.call(this,ge))}}class k{constructor(ge,Se,Ne,Ze,Je){this.type=1,this._$AH=A$1,this._$AN=void 0,this.element=ge,this.name=Se,this._$AM=Ze,this.options=Je,Ne.length>2||Ne[0]!==""||Ne[1]!==""?(this._$AH=Array(Ne.length-1).fill(new String),this.strings=Ne):this._$AH=A$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(ge,Se=this,Ne,Ze){const Je=this.strings;let Xe=!1;if(Je===void 0)ge=S$1(this,ge,Se,0),Xe=!d(ge)||ge!==this._$AH&&ge!==T$1,Xe&&(this._$AH=ge);else{const vt=ge;let gt,kt;for(ge=Je[0],gt=0;gt<Je.length-1;gt++)kt=S$1(this,vt[Ne+gt],Se,gt),kt===T$1&&(kt=this._$AH[gt]),Xe||(Xe=!d(kt)||kt!==this._$AH[gt]),kt===A$1?ge=A$1:ge!==A$1&&(ge+=(kt??"")+Je[gt+1]),this._$AH[gt]=kt}Xe&&!Ze&&this.j(ge)}j(ge){ge===A$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,ge??"")}}class H extends k{constructor(){super(...arguments),this.type=3}j(ge){this.element[this.name]=ge===A$1?void 0:ge}}const I=s$1?s$1.emptyScript:"";let L$1=class extends k{constructor(){super(...arguments),this.type=4}j(ge){ge&&ge!==A$1?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}};class z extends k{constructor(ge,Se,Ne,Ze,Je){super(ge,Se,Ne,Ze,Je),this.type=5}_$AI(ge,Se=this){var Ne;if((ge=(Ne=S$1(this,ge,Se,0))!==null&&Ne!==void 0?Ne:A$1)===T$1)return;const Ze=this._$AH,Je=ge===A$1&&Ze!==A$1||ge.capture!==Ze.capture||ge.once!==Ze.once||ge.passive!==Ze.passive,Xe=ge!==A$1&&(Ze===A$1||Je);Je&&this.element.removeEventListener(this.name,this,Ze),Xe&&this.element.addEventListener(this.name,this,ge),this._$AH=ge}handleEvent(ge){var Se,Ne;typeof this._$AH=="function"?this._$AH.call((Ne=(Se=this.options)===null||Se===void 0?void 0:Se.host)!==null&&Ne!==void 0?Ne:this.element,ge):this._$AH.handleEvent(ge)}}let Z$1=class{constructor(ge,Se,Ne){this.element=ge,this.type=6,this._$AN=void 0,this._$AM=Se,this.options=Ne}get _$AU(){return this._$AM._$AU}_$AI(ge){S$1(this,ge)}};const B$1=i$2.litHtmlPolyfillSupport;B$1==null||B$1(N,R),((t$2=i$2.litHtmlVersions)!==null&&t$2!==void 0?t$2:i$2.litHtmlVersions=[]).push("2.8.0");const D$1=(pe,ge,Se)=>{var Ne,Ze;const Je=(Ne=Se==null?void 0:Se.renderBefore)!==null&&Ne!==void 0?Ne:ge;let Xe=Je._$litPart$;if(Xe===void 0){const vt=(Ze=Se==null?void 0:Se.renderBefore)!==null&&Ze!==void 0?Ze:null;Je._$litPart$=Xe=new R(ge.insertBefore(u(),vt),vt,void 0,Se??{})}return Xe._$AI(pe),Xe};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l$1,o$1;class s extends u$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var ge,Se;const Ne=super.createRenderRoot();return(ge=(Se=this.renderOptions).renderBefore)!==null&&ge!==void 0||(Se.renderBefore=Ne.firstChild),Ne}update(ge){const Se=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(ge),this._$Do=D$1(Se,this.renderRoot,this.renderOptions)}connectedCallback(){var ge;super.connectedCallback(),(ge=this._$Do)===null||ge===void 0||ge.setConnected(!0)}disconnectedCallback(){var ge;super.disconnectedCallback(),(ge=this._$Do)===null||ge===void 0||ge.setConnected(!1)}render(){return T$1}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});const n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s}),((o$1=globalThis.litElementVersions)!==null&&o$1!==void 0?o$1:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$2=pe=>ge=>typeof ge=="function"?((Se,Ne)=>(customElements.define(Se,Ne),Ne))(pe,ge):((Se,Ne)=>{const{kind:Ze,elements:Je}=Ne;return{kind:Ze,elements:Je,finisher(Xe){customElements.define(Se,Xe)}}})(pe,ge);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const i$1=(pe,ge)=>ge.kind==="method"&&ge.descriptor&&!("value"in ge.descriptor)?{...ge,finisher(Se){Se.createProperty(ge.key,pe)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:ge.key,initializer(){typeof ge.initializer=="function"&&(this[ge.key]=ge.initializer.call(this))},finisher(Se){Se.createProperty(ge.key,pe)}},e$1=(pe,ge,Se)=>{ge.constructor.createProperty(Se,pe)};function n$1(pe){return(ge,Se)=>Se!==void 0?e$1(pe,ge,Se):i$1(pe,ge)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function t$1(pe){return n$1({...pe,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n;((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t={ATTRIBUTE:1},e=pe=>(...ge)=>({_$litDirective$:pe,values:ge});class i{constructor(ge){}get _$AU(){return this._$AM._$AU}_$AT(ge,Se,Ne){this._$Ct=ge,this._$AM=Se,this._$Ci=Ne}_$AS(ge,Se){return this.update(ge,Se)}update(ge,Se){return this.render(...Se)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o=e(class extends i{constructor(pe){var ge;if(super(pe),pe.type!==t.ATTRIBUTE||pe.name!=="class"||((ge=pe.strings)===null||ge===void 0?void 0:ge.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(pe){return" "+Object.keys(pe).filter(ge=>pe[ge]).join(" ")+" "}update(pe,[ge]){var Se,Ne;if(this.it===void 0){this.it=new Set,pe.strings!==void 0&&(this.nt=new Set(pe.strings.join(" ").split(/\s/).filter(Je=>Je!=="")));for(const Je in ge)ge[Je]&&!(!((Se=this.nt)===null||Se===void 0)&&Se.has(Je))&&this.it.add(Je);return this.render(ge)}const Ze=pe.element.classList;this.it.forEach(Je=>{Je in ge||(Ze.remove(Je),this.it.delete(Je))});for(const Je in ge){const Xe=!!ge[Je];Xe===this.it.has(Je)||!((Ne=this.nt)===null||Ne===void 0)&&Ne.has(Je)||(Xe?(Ze.add(Je),this.it.add(Je)):(Ze.remove(Je),this.it.delete(Je)))}return T$1}});function addUniqueItem(pe,ge){pe.indexOf(ge)===-1&&pe.push(ge)}const clamp=(pe,ge,Se)=>Math.min(Math.max(Se,pe),ge),defaults={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},isNumber=pe=>typeof pe=="number",isEasingList=pe=>Array.isArray(pe)&&!isNumber(pe[0]),wrap=(pe,ge,Se)=>{const Ne=ge-pe;return((Se-pe)%Ne+Ne)%Ne+pe};function getEasingForSegment(pe,ge){return isEasingList(pe)?pe[wrap(0,pe.length,ge)]:pe}const mix=(pe,ge,Se)=>-Se*pe+Se*ge+pe,noop=()=>{},noopReturn=pe=>pe,progress=(pe,ge,Se)=>ge-pe===0?1:(Se-pe)/(ge-pe);function fillOffset(pe,ge){const Se=pe[pe.length-1];for(let Ne=1;Ne<=ge;Ne++){const Ze=progress(0,ge,Ne);pe.push(mix(Se,1,Ze))}}function defaultOffset(pe){const ge=[0];return fillOffset(ge,pe-1),ge}function interpolate(pe,ge=defaultOffset(pe.length),Se=noopReturn){const Ne=pe.length,Ze=Ne-ge.length;return Ze>0&&fillOffset(ge,Ze),Je=>{let Xe=0;for(;Xe<Ne-2&&!(Je<ge[Xe+1]);Xe++);let vt=clamp(0,1,progress(ge[Xe],ge[Xe+1],Je));return vt=getEasingForSegment(Se,Xe)(vt),mix(pe[Xe],pe[Xe+1],vt)}}const isCubicBezier=pe=>Array.isArray(pe)&&isNumber(pe[0]),isEasingGenerator=pe=>typeof pe=="object"&&!!pe.createAnimation,isFunction=pe=>typeof pe=="function",isString=pe=>typeof pe=="string",time={ms:pe=>pe*1e3,s:pe=>pe/1e3},calcBezier=(pe,ge,Se)=>(((1-3*Se+3*ge)*pe+(3*Se-6*ge))*pe+3*ge)*pe,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(pe,ge,Se,Ne,Ze){let Je,Xe,vt=0;do Xe=ge+(Se-ge)/2,Je=calcBezier(Xe,Ne,Ze)-pe,Je>0?Se=Xe:ge=Xe;while(Math.abs(Je)>subdivisionPrecision&&++vt<subdivisionMaxIterations);return Xe}function cubicBezier(pe,ge,Se,Ne){if(pe===ge&&Se===Ne)return noopReturn;const Ze=Je=>binarySubdivide(Je,0,1,pe,Se);return Je=>Je===0||Je===1?Je:calcBezier(Ze(Je),ge,Ne)}const steps=(pe,ge="end")=>Se=>{Se=ge==="end"?Math.min(Se,.999):Math.max(Se,.001);const Ne=Se*pe,Ze=ge==="end"?Math.floor(Ne):Math.ceil(Ne);return clamp(0,1,Ze/pe)},namedEasings={ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-out":cubicBezier(0,0,.58,1)},functionArgsRegex=/\((.*?)\)/;function getEasingFunction(pe){if(isFunction(pe))return pe;if(isCubicBezier(pe))return cubicBezier(...pe);const ge=namedEasings[pe];if(ge)return ge;if(pe.startsWith("steps")){const Se=functionArgsRegex.exec(pe);if(Se){const Ne=Se[1].split(",");return steps(parseFloat(Ne[0]),Ne[1].trim())}}return noopReturn}class Animation{constructor(ge,Se=[0,1],{easing:Ne,duration:Ze=defaults.duration,delay:Je=defaults.delay,endDelay:Xe=defaults.endDelay,repeat:vt=defaults.repeat,offset:gt,direction:kt="normal",autoplay:mt=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=noopReturn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((fr,ar)=>{this.resolve=fr,this.reject=ar}),Ne=Ne||defaults.easing,isEasingGenerator(Ne)){const fr=Ne.createAnimation(Se);Ne=fr.easing,Se=fr.keyframes||Se,Ze=fr.duration||Ze}this.repeat=vt,this.easing=isEasingList(Ne)?noopReturn:getEasingFunction(Ne),this.updateDuration(Ze);const xt=interpolate(Se,gt,isEasingList(Ne)?Ne.map(getEasingFunction):noopReturn);this.tick=fr=>{var ar;Je=Je;let gr=0;this.pauseTime!==void 0?gr=this.pauseTime:gr=(fr-this.startTime)*this.rate,this.t=gr,gr/=1e3,gr=Math.max(gr-Je,0),this.playState==="finished"&&this.pauseTime===void 0&&(gr=this.totalDuration);const wr=gr/this.duration;let Er=Math.floor(wr),_r=wr%1;!_r&&wr>=1&&(_r=1),_r===1&&Er--;const Sr=Er%2;(kt==="reverse"||kt==="alternate"&&Sr||kt==="alternate-reverse"&&!Sr)&&(_r=1-_r);const Or=gr>=this.totalDuration?1:Math.min(_r,1),Pr=xt(this.easing(Or));ge(Pr),this.pauseTime===void 0&&(this.playState==="finished"||gr>=this.totalDuration+Xe)?(this.playState="finished",(ar=this.resolve)===null||ar===void 0||ar.call(this,Pr)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},mt&&this.play()}play(){const ge=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=ge-this.pauseTime:this.startTime||(this.startTime=ge),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var ge;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(ge=this.reject)===null||ge===void 0||ge.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(ge){this.duration=ge,this.totalDuration=ge*(this.repeat+1)}get currentTime(){return this.t}set currentTime(ge){this.pauseTime!==void 0||this.rate===0?this.pauseTime=ge:this.startTime=performance.now()-ge/this.rate}get playbackRate(){return this.rate}set playbackRate(ge){this.rate=ge}}class MotionValue{setAnimation(ge){this.animation=ge,ge==null||ge.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const data=new WeakMap;function getAnimationData(pe){return data.has(pe)||data.set(pe,{transforms:[],values:new Map}),data.get(pe)}function getMotionValue(pe,ge){return pe.has(ge)||pe.set(ge,new MotionValue),pe.get(ge)}const axes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformAlias={x:"translateX",y:"translateY",z:"translateZ"},rotation={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:pe=>pe+"deg"},baseTransformProperties={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:pe=>pe+"px"},rotate:rotation,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:noopReturn},skew:rotation},transformDefinitions=new Map,asTransformCssVar=pe=>`--motion-${pe}`,transforms=["x","y","z"];order.forEach(pe=>{axes.forEach(ge=>{transforms.push(pe+ge),transformDefinitions.set(asTransformCssVar(pe+ge),baseTransformProperties[pe])})});const compareTransformOrder=(pe,ge)=>transforms.indexOf(pe)-transforms.indexOf(ge),transformLookup=new Set(transforms),isTransform=pe=>transformLookup.has(pe),addTransformToElement=(pe,ge)=>{transformAlias[ge]&&(ge=transformAlias[ge]);const{transforms:Se}=getAnimationData(pe);addUniqueItem(Se,ge),pe.style.transform=buildTransformTemplate(Se)},buildTransformTemplate=pe=>pe.sort(compareTransformOrder).reduce(transformListToString,"").trim(),transformListToString=(pe,ge)=>`${pe} ${ge}(var(${asTransformCssVar(ge)}))`,isCssVar=pe=>pe.startsWith("--"),registeredProperties=new Set;function registerCssVariable(pe){if(!registeredProperties.has(pe)){registeredProperties.add(pe);try{const{syntax:ge,initialValue:Se}=transformDefinitions.has(pe)?transformDefinitions.get(pe):{};CSS.registerProperty({name:pe,inherits:!1,syntax:ge,initialValue:Se})}catch{}}}const testAnimation=(pe,ge)=>document.createElement("div").animate(pe,ge),featureTests={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{testAnimation({opacity:[1]})}catch{return!1}return!0},finished:()=>!!testAnimation({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{testAnimation({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},results={},supports={};for(const pe in featureTests)supports[pe]=()=>(results[pe]===void 0&&(results[pe]=featureTests[pe]()),results[pe]);const resolution=.015,generateLinearEasingPoints=(pe,ge)=>{let Se="";const Ne=Math.round(ge/resolution);for(let Ze=0;Ze<Ne;Ze++)Se+=pe(progress(0,Ne-1,Ze))+", ";return Se.substring(0,Se.length-2)},convertEasing=(pe,ge)=>isFunction(pe)?supports.linearEasing()?`linear(${generateLinearEasingPoints(pe,ge)})`:defaults.easing:isCubicBezier(pe)?cubicBezierAsString(pe):pe,cubicBezierAsString=([pe,ge,Se,Ne])=>`cubic-bezier(${pe}, ${ge}, ${Se}, ${Ne})`;function hydrateKeyframes(pe,ge){for(let Se=0;Se<pe.length;Se++)pe[Se]===null&&(pe[Se]=Se?pe[Se-1]:ge());return pe}const keyframesList=pe=>Array.isArray(pe)?pe:[pe];function getStyleName(pe){return transformAlias[pe]&&(pe=transformAlias[pe]),isTransform(pe)?asTransformCssVar(pe):pe}const style={get:(pe,ge)=>{ge=getStyleName(ge);let Se=isCssVar(ge)?pe.style.getPropertyValue(ge):getComputedStyle(pe)[ge];if(!Se&&Se!==0){const Ne=transformDefinitions.get(ge);Ne&&(Se=Ne.initialValue)}return Se},set:(pe,ge,Se)=>{ge=getStyleName(ge),isCssVar(ge)?pe.style.setProperty(ge,Se):pe.style[ge]=Se}};function stopAnimation(pe,ge=!0){if(!(!pe||pe.playState==="finished"))try{pe.stop?pe.stop():(ge&&pe.commitStyles(),pe.cancel())}catch{}}function getUnitConverter(pe,ge){var Se;let Ne=(ge==null?void 0:ge.toDefaultUnit)||noopReturn;const Ze=pe[pe.length-1];if(isString(Ze)){const Je=((Se=Ze.match(/(-?[\d.]+)([a-z%]*)/))===null||Se===void 0?void 0:Se[2])||"";Je&&(Ne=Xe=>Xe+Je)}return Ne}function getDevToolsRecord(){return window.__MOTION_DEV_TOOLS_RECORD}function animateStyle(pe,ge,Se,Ne={},Ze){const Je=getDevToolsRecord(),Xe=Ne.record!==!1&&Je;let vt,{duration:gt=defaults.duration,delay:kt=defaults.delay,endDelay:mt=defaults.endDelay,repeat:xt=defaults.repeat,easing:fr=defaults.easing,persist:ar=!1,direction:gr,offset:wr,allowWebkitAcceleration:Er=!1,autoplay:_r=!0}=Ne;const Sr=getAnimationData(pe),Or=isTransform(ge);let Pr=supports.waapi();Or&&addTransformToElement(pe,ge);const kr=getStyleName(ge),Ur=getMotionValue(Sr.values,kr),Yr=transformDefinitions.get(kr);return stopAnimation(Ur.animation,!(isEasingGenerator(fr)&&Ur.generator)&&Ne.record!==!1),()=>{const jr=()=>{var Ir,br;return(br=(Ir=style.get(pe,kr))!==null&&Ir!==void 0?Ir:Yr==null?void 0:Yr.initialValue)!==null&&br!==void 0?br:0};let Dr=hydrateKeyframes(keyframesList(Se),jr);const Vr=getUnitConverter(Dr,Yr);if(isEasingGenerator(fr)){const Ir=fr.createAnimation(Dr,ge!=="opacity",jr,kr,Ur);fr=Ir.easing,Dr=Ir.keyframes||Dr,gt=Ir.duration||gt}if(isCssVar(kr)&&(supports.cssRegisterProperty()?registerCssVariable(kr):Pr=!1),Or&&!supports.linearEasing()&&(isFunction(fr)||isEasingList(fr)&&fr.some(isFunction))&&(Pr=!1),Pr){Yr&&(Dr=Dr.map(Vt=>isNumber(Vt)?Yr.toDefaultUnit(Vt):Vt)),Dr.length===1&&(!supports.partialKeyframes()||Xe)&&Dr.unshift(jr());const Ir={delay:time.ms(kt),duration:time.ms(gt),endDelay:time.ms(mt),easing:isEasingList(fr)?void 0:convertEasing(fr,gt),direction:gr,iterations:xt+1,fill:"both"};vt=pe.animate({[kr]:Dr,offset:wr,easing:isEasingList(fr)?fr.map(Vt=>convertEasing(Vt,gt)):void 0},Ir),vt.finished||(vt.finished=new Promise((Vt,ht)=>{vt.onfinish=Vt,vt.oncancel=ht}));const br=Dr[Dr.length-1];vt.finished.then(()=>{ar||(style.set(pe,kr,br),vt.cancel())}).catch(noop),Er||(vt.playbackRate=1.000001)}else if(Ze&&Or)Dr=Dr.map(Ir=>typeof Ir=="string"?parseFloat(Ir):Ir),Dr.length===1&&Dr.unshift(parseFloat(jr())),vt=new Ze(Ir=>{style.set(pe,kr,Vr?Vr(Ir):Ir)},Dr,Object.assign(Object.assign({},Ne),{duration:gt,easing:fr}));else{const Ir=Dr[Dr.length-1];style.set(pe,kr,Yr&&isNumber(Ir)?Yr.toDefaultUnit(Ir):Ir)}return Xe&&Je(pe,ge,Dr,{duration:gt,delay:kt,easing:fr,repeat:xt,offset:wr},"motion-one"),Ur.setAnimation(vt),vt&&!_r&&vt.pause(),vt}}const getOptions=(pe,ge)=>pe[ge]?Object.assign(Object.assign({},pe),pe[ge]):Object.assign({},pe);function resolveElements(pe,ge){return typeof pe=="string"?pe=document.querySelectorAll(pe):pe instanceof Element&&(pe=[pe]),Array.from(pe||[])}const createAnimation=pe=>pe(),withControls=(pe,ge,Se=defaults.duration)=>new Proxy({animations:pe.map(createAnimation).filter(Boolean),duration:Se,options:ge},controls),getActiveAnimation=pe=>pe.animations[0],controls={get:(pe,ge)=>{const Se=getActiveAnimation(pe);switch(ge){case"duration":return pe.duration;case"currentTime":return time.s((Se==null?void 0:Se[ge])||0);case"playbackRate":case"playState":return Se==null?void 0:Se[ge];case"finished":return pe.finished||(pe.finished=Promise.all(pe.animations.map(selectFinished)).catch(noop)),pe.finished;case"stop":return()=>{pe.animations.forEach(Ne=>stopAnimation(Ne))};case"forEachNative":return Ne=>{pe.animations.forEach(Ze=>Ne(Ze,pe))};default:return typeof(Se==null?void 0:Se[ge])>"u"?void 0:()=>pe.animations.forEach(Ne=>Ne[ge]())}},set:(pe,ge,Se)=>{switch(ge){case"currentTime":Se=time.ms(Se);case"playbackRate":for(let Ne=0;Ne<pe.animations.length;Ne++)pe.animations[Ne][ge]=Se;return!0}return!1}},selectFinished=pe=>pe.finished;function resolveOption(pe,ge,Se){return isFunction(pe)?pe(ge,Se):pe}function createAnimate(pe){return function(Se,Ne,Ze={}){Se=resolveElements(Se);const Je=Se.length,Xe=[];for(let vt=0;vt<Je;vt++){const gt=Se[vt];for(const kt in Ne){const mt=getOptions(Ze,kt);mt.delay=resolveOption(mt.delay,vt,Je);const xt=animateStyle(gt,kt,Ne[kt],mt,pe);Xe.push(xt)}}return withControls(Xe,Ze,Ze.duration)}}const animate$1=createAnimate(Animation);function animateProgress(pe,ge={}){return withControls([()=>{const Se=new Animation(pe,[0,1],ge);return Se.finished.catch(()=>{}),Se}],ge,ge.duration)}function animate(pe,ge,Se){return(isFunction(pe)?animateProgress:animate$1)(pe,ge,Se)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l=pe=>pe??A$1;var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$1={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function pe(ge){if(!ge)throw new Error('"version" cannot be null or undefined');if(ge<1||ge>40)throw new Error('"version" should be in range from 1 to 40');return ge*4+17},utils$1.getSymbolTotalCodewords=function pe(ge){return CODEWORDS_COUNT[ge]},utils$1.getBCHDigit=function(pe){let ge=0;for(;pe!==0;)ge++,pe>>>=1;return ge},utils$1.setToSJISFunction=function pe(ge){if(typeof ge!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=ge},utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"},utils$1.toSJIS=function pe(ge){return toSJISFunction(ge)};var errorCorrectionLevel={};(function(pe){pe.L={bit:1},pe.M={bit:0},pe.Q={bit:3},pe.H={bit:2};function ge(Se){if(typeof Se!="string")throw new Error("Param is not a string");switch(Se.toLowerCase()){case"l":case"low":return pe.L;case"m":case"medium":return pe.M;case"q":case"quartile":return pe.Q;case"h":case"high":return pe.H;default:throw new Error("Unknown EC Level: "+Se)}}pe.isValid=function(Ne){return Ne&&typeof Ne.bit<"u"&&Ne.bit>=0&&Ne.bit<4},pe.from=function(Ne,Ze){if(pe.isValid(Ne))return Ne;try{return ge(Ne)}catch{return Ze}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(pe){const ge=Math.floor(pe/8);return(this.buffer[ge]>>>7-pe%8&1)===1},put:function(pe,ge){for(let Se=0;Se<ge;Se++)this.putBit((pe>>>ge-Se-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(pe){const ge=Math.floor(this.length/8);this.buffer.length<=ge&&this.buffer.push(0),pe&&(this.buffer[ge]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(pe){if(!pe||pe<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=pe,this.data=new Uint8Array(pe*pe),this.reservedBit=new Uint8Array(pe*pe)}BitMatrix$1.prototype.set=function(pe,ge,Se,Ne){const Ze=pe*this.size+ge;this.data[Ze]=Se,Ne&&(this.reservedBit[Ze]=!0)},BitMatrix$1.prototype.get=function(pe,ge){return this.data[pe*this.size+ge]},BitMatrix$1.prototype.xor=function(pe,ge,Se){this.data[pe*this.size+ge]^=Se},BitMatrix$1.prototype.isReserved=function(pe,ge){return this.reservedBit[pe*this.size+ge]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(pe){const ge=utils$1.getSymbolSize;pe.getRowColCoords=function(Ne){if(Ne===1)return[];const Ze=Math.floor(Ne/7)+2,Je=ge(Ne),Xe=Je===145?26:Math.ceil((Je-13)/(2*Ze-2))*2,vt=[Je-7];for(let gt=1;gt<Ze-1;gt++)vt[gt]=vt[gt-1]-Xe;return vt.push(6),vt.reverse()},pe.getPositions=function(Ne){const Ze=[],Je=pe.getRowColCoords(Ne),Xe=Je.length;for(let vt=0;vt<Xe;vt++)for(let gt=0;gt<Xe;gt++)vt===0&&gt===0||vt===0&&gt===Xe-1||vt===Xe-1&&gt===0||Ze.push([Je[vt],Je[gt]]);return Ze}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function pe(ge){const Se=getSymbolSize(ge);return[[0,0],[Se-FINDER_PATTERN_SIZE,0],[0,Se-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(pe){pe.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const ge={N1:3,N2:3,N3:40,N4:10};pe.isValid=function(Ze){return Ze!=null&&Ze!==""&&!isNaN(Ze)&&Ze>=0&&Ze<=7},pe.from=function(Ze){return pe.isValid(Ze)?parseInt(Ze,10):void 0},pe.getPenaltyN1=function(Ze){const Je=Ze.size;let Xe=0,vt=0,gt=0,kt=null,mt=null;for(let xt=0;xt<Je;xt++){vt=gt=0,kt=mt=null;for(let fr=0;fr<Je;fr++){let ar=Ze.get(xt,fr);ar===kt?vt++:(vt>=5&&(Xe+=ge.N1+(vt-5)),kt=ar,vt=1),ar=Ze.get(fr,xt),ar===mt?gt++:(gt>=5&&(Xe+=ge.N1+(gt-5)),mt=ar,gt=1)}vt>=5&&(Xe+=ge.N1+(vt-5)),gt>=5&&(Xe+=ge.N1+(gt-5))}return Xe},pe.getPenaltyN2=function(Ze){const Je=Ze.size;let Xe=0;for(let vt=0;vt<Je-1;vt++)for(let gt=0;gt<Je-1;gt++){const kt=Ze.get(vt,gt)+Ze.get(vt,gt+1)+Ze.get(vt+1,gt)+Ze.get(vt+1,gt+1);(kt===4||kt===0)&&Xe++}return Xe*ge.N2},pe.getPenaltyN3=function(Ze){const Je=Ze.size;let Xe=0,vt=0,gt=0;for(let kt=0;kt<Je;kt++){vt=gt=0;for(let mt=0;mt<Je;mt++)vt=vt<<1&2047|Ze.get(kt,mt),mt>=10&&(vt===1488||vt===93)&&Xe++,gt=gt<<1&2047|Ze.get(mt,kt),mt>=10&&(gt===1488||gt===93)&&Xe++}return Xe*ge.N3},pe.getPenaltyN4=function(Ze){let Je=0;const Xe=Ze.data.length;for(let gt=0;gt<Xe;gt++)Je+=Ze.data[gt];return Math.abs(Math.ceil(Je*100/Xe/5)-10)*ge.N4};function Se(Ne,Ze,Je){switch(Ne){case pe.Patterns.PATTERN000:return(Ze+Je)%2===0;case pe.Patterns.PATTERN001:return Ze%2===0;case pe.Patterns.PATTERN010:return Je%3===0;case pe.Patterns.PATTERN011:return(Ze+Je)%3===0;case pe.Patterns.PATTERN100:return(Math.floor(Ze/2)+Math.floor(Je/3))%2===0;case pe.Patterns.PATTERN101:return Ze*Je%2+Ze*Je%3===0;case pe.Patterns.PATTERN110:return(Ze*Je%2+Ze*Je%3)%2===0;case pe.Patterns.PATTERN111:return(Ze*Je%3+(Ze+Je)%2)%2===0;default:throw new Error("bad maskPattern:"+Ne)}}pe.applyMask=function(Ze,Je){const Xe=Je.size;for(let vt=0;vt<Xe;vt++)for(let gt=0;gt<Xe;gt++)Je.isReserved(gt,vt)||Je.xor(gt,vt,Se(Ze,gt,vt))},pe.getBestMask=function(Ze,Je){const Xe=Object.keys(pe.Patterns).length;let vt=0,gt=1/0;for(let kt=0;kt<Xe;kt++){Je(kt),pe.applyMask(kt,Ze);const mt=pe.getPenaltyN1(Ze)+pe.getPenaltyN2(Ze)+pe.getPenaltyN3(Ze)+pe.getPenaltyN4(Ze);pe.applyMask(kt,Ze),mt<gt&&(gt=mt,vt=kt)}return vt}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function pe(ge,Se){switch(Se){case ECLevel$1.L:return EC_BLOCKS_TABLE[(ge-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(ge-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(ge-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(ge-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function pe(ge,Se){switch(Se){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(ge-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(ge-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(ge-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(ge-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function pe(){let ge=1;for(let Se=0;Se<255;Se++)EXP_TABLE[Se]=ge,LOG_TABLE[ge]=Se,ge<<=1,ge&256&&(ge^=285);for(let Se=255;Se<512;Se++)EXP_TABLE[Se]=EXP_TABLE[Se-255]})(),galoisField.log=function pe(ge){if(ge<1)throw new Error("log("+ge+")");return LOG_TABLE[ge]},galoisField.exp=function pe(ge){return EXP_TABLE[ge]},galoisField.mul=function pe(ge,Se){return ge===0||Se===0?0:EXP_TABLE[LOG_TABLE[ge]+LOG_TABLE[Se]]},function(pe){const ge=galoisField;pe.mul=function(Ne,Ze){const Je=new Uint8Array(Ne.length+Ze.length-1);for(let Xe=0;Xe<Ne.length;Xe++)for(let vt=0;vt<Ze.length;vt++)Je[Xe+vt]^=ge.mul(Ne[Xe],Ze[vt]);return Je},pe.mod=function(Ne,Ze){let Je=new Uint8Array(Ne);for(;Je.length-Ze.length>=0;){const Xe=Je[0];for(let gt=0;gt<Ze.length;gt++)Je[gt]^=ge.mul(Ze[gt],Xe);let vt=0;for(;vt<Je.length&&Je[vt]===0;)vt++;Je=Je.slice(vt)}return Je},pe.generateECPolynomial=function(Ne){let Ze=new Uint8Array([1]);for(let Je=0;Je<Ne;Je++)Ze=pe.mul(Ze,new Uint8Array([1,ge.exp(Je)]));return Ze}}(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(pe){this.genPoly=void 0,this.degree=pe,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function pe(ge){this.degree=ge,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder$1.prototype.encode=function pe(ge){if(!this.genPoly)throw new Error("Encoder not initialized");const Se=new Uint8Array(ge.length+this.degree);Se.set(ge);const Ne=Polynomial.mod(Se,this.genPoly),Ze=this.degree-Ne.length;if(Ze>0){const Je=new Uint8Array(this.degree);return Je.set(Ne,Ze),Je}return Ne};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function pe(ge){return!isNaN(ge)&&ge>=1&&ge<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(byte,"g"),regex.NUMERIC=new RegExp(numeric,"g"),regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function pe(ge){return TEST_KANJI.test(ge)},regex.testNumeric=function pe(ge){return TEST_NUMERIC.test(ge)},regex.testAlphanumeric=function pe(ge){return TEST_ALPHANUMERIC.test(ge)},function(pe){const ge=versionCheck,Se=regex;pe.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},pe.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},pe.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},pe.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},pe.MIXED={bit:-1},pe.getCharCountIndicator=function(Je,Xe){if(!Je.ccBits)throw new Error("Invalid mode: "+Je);if(!ge.isValid(Xe))throw new Error("Invalid version: "+Xe);return Xe>=1&&Xe<10?Je.ccBits[0]:Xe<27?Je.ccBits[1]:Je.ccBits[2]},pe.getBestModeForData=function(Je){return Se.testNumeric(Je)?pe.NUMERIC:Se.testAlphanumeric(Je)?pe.ALPHANUMERIC:Se.testKanji(Je)?pe.KANJI:pe.BYTE},pe.toString=function(Je){if(Je&&Je.id)return Je.id;throw new Error("Invalid mode")},pe.isValid=function(Je){return Je&&Je.bit&&Je.ccBits};function Ne(Ze){if(typeof Ze!="string")throw new Error("Param is not a string");switch(Ze.toLowerCase()){case"numeric":return pe.NUMERIC;case"alphanumeric":return pe.ALPHANUMERIC;case"kanji":return pe.KANJI;case"byte":return pe.BYTE;default:throw new Error("Unknown mode: "+Ze)}}pe.from=function(Je,Xe){if(pe.isValid(Je))return Je;try{return Ne(Je)}catch{return Xe}}}(mode),function(pe){const ge=utils$1,Se=errorCorrectionCode,Ne=errorCorrectionLevel,Ze=mode,Je=versionCheck,Xe=7973,vt=ge.getBCHDigit(Xe);function gt(fr,ar,gr){for(let wr=1;wr<=40;wr++)if(ar<=pe.getCapacity(wr,gr,fr))return wr}function kt(fr,ar){return Ze.getCharCountIndicator(fr,ar)+4}function mt(fr,ar){let gr=0;return fr.forEach(function(wr){const Er=kt(wr.mode,ar);gr+=Er+wr.getBitsLength()}),gr}function xt(fr,ar){for(let gr=1;gr<=40;gr++)if(mt(fr,gr)<=pe.getCapacity(gr,ar,Ze.MIXED))return gr}pe.from=function(ar,gr){return Je.isValid(ar)?parseInt(ar,10):gr},pe.getCapacity=function(ar,gr,wr){if(!Je.isValid(ar))throw new Error("Invalid QR Code version");typeof wr>"u"&&(wr=Ze.BYTE);const Er=ge.getSymbolTotalCodewords(ar),_r=Se.getTotalCodewordsCount(ar,gr),Sr=(Er-_r)*8;if(wr===Ze.MIXED)return Sr;const Or=Sr-kt(wr,ar);switch(wr){case Ze.NUMERIC:return Math.floor(Or/10*3);case Ze.ALPHANUMERIC:return Math.floor(Or/11*2);case Ze.KANJI:return Math.floor(Or/13);case Ze.BYTE:default:return Math.floor(Or/8)}},pe.getBestVersionForData=function(ar,gr){let wr;const Er=Ne.from(gr,Ne.M);if(Array.isArray(ar)){if(ar.length>1)return xt(ar,Er);if(ar.length===0)return 1;wr=ar[0]}else wr=ar;return gt(wr.mode,wr.getLength(),Er)},pe.getEncodedBits=function(ar){if(!Je.isValid(ar)||ar<7)throw new Error("Invalid QR Code version");let gr=ar<<12;for(;ge.getBCHDigit(gr)-vt>=0;)gr^=Xe<<ge.getBCHDigit(gr)-vt;return ar<<12|gr}}(version);var formatInfo={};const Utils$3=utils$1,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function pe(ge,Se){const Ne=ge.bit<<3|Se;let Ze=Ne<<10;for(;Utils$3.getBCHDigit(Ze)-G15_BCH>=0;)Ze^=G15<<Utils$3.getBCHDigit(Ze)-G15_BCH;return(Ne<<10|Ze)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(pe){this.mode=Mode$4.NUMERIC,this.data=pe.toString()}NumericData.getBitsLength=function pe(ge){return 10*Math.floor(ge/3)+(ge%3?ge%3*3+1:0)},NumericData.prototype.getLength=function pe(){return this.data.length},NumericData.prototype.getBitsLength=function pe(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function pe(ge){let Se,Ne,Ze;for(Se=0;Se+3<=this.data.length;Se+=3)Ne=this.data.substr(Se,3),Ze=parseInt(Ne,10),ge.put(Ze,10);const Je=this.data.length-Se;Je>0&&(Ne=this.data.substr(Se),Ze=parseInt(Ne,10),ge.put(Ze,Je*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(pe){this.mode=Mode$3.ALPHANUMERIC,this.data=pe}AlphanumericData.getBitsLength=function pe(ge){return 11*Math.floor(ge/2)+6*(ge%2)},AlphanumericData.prototype.getLength=function pe(){return this.data.length},AlphanumericData.prototype.getBitsLength=function pe(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function pe(ge){let Se;for(Se=0;Se+2<=this.data.length;Se+=2){let Ne=ALPHA_NUM_CHARS.indexOf(this.data[Se])*45;Ne+=ALPHA_NUM_CHARS.indexOf(this.data[Se+1]),ge.put(Ne,11)}this.data.length%2&&ge.put(ALPHA_NUM_CHARS.indexOf(this.data[Se]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function pe(ge){for(var Se=[],Ne=ge.length,Ze=0;Ze<Ne;Ze++){var Je=ge.charCodeAt(Ze);if(Je>=55296&&Je<=56319&&Ne>Ze+1){var Xe=ge.charCodeAt(Ze+1);Xe>=56320&&Xe<=57343&&(Je=(Je-55296)*1024+Xe-56320+65536,Ze+=1)}if(Je<128){Se.push(Je);continue}if(Je<2048){Se.push(Je>>6|192),Se.push(Je&63|128);continue}if(Je<55296||Je>=57344&&Je<65536){Se.push(Je>>12|224),Se.push(Je>>6&63|128),Se.push(Je&63|128);continue}if(Je>=65536&&Je<=1114111){Se.push(Je>>18|240),Se.push(Je>>12&63|128),Se.push(Je>>6&63|128),Se.push(Je&63|128);continue}Se.push(239,191,189)}return new Uint8Array(Se).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(pe){this.mode=Mode$2.BYTE,typeof pe=="string"&&(pe=encodeUtf8(pe)),this.data=new Uint8Array(pe)}ByteData.getBitsLength=function pe(ge){return ge*8},ByteData.prototype.getLength=function pe(){return this.data.length},ByteData.prototype.getBitsLength=function pe(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(pe){for(let ge=0,Se=this.data.length;ge<Se;ge++)pe.put(this.data[ge],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$1;function KanjiData(pe){this.mode=Mode$1.KANJI,this.data=pe}KanjiData.getBitsLength=function pe(ge){return ge*13},KanjiData.prototype.getLength=function pe(){return this.data.length},KanjiData.prototype.getBitsLength=function pe(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(pe){let ge;for(ge=0;ge<this.data.length;ge++){let Se=Utils$2.toSJIS(this.data[ge]);if(Se>=33088&&Se<=40956)Se-=33088;else if(Se>=57408&&Se<=60351)Se-=49472;else throw new Error("Invalid SJIS character: "+this.data[ge]+`
Make sure your charset is UTF-8`);Se=(Se>>>8&255)*192+(Se&255),pe.put(Se,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(pe){var ge={single_source_shortest_paths:function(Se,Ne,Ze){var Je={},Xe={};Xe[Ne]=0;var vt=ge.PriorityQueue.make();vt.push(Ne,0);for(var gt,kt,mt,xt,fr,ar,gr,wr,Er;!vt.empty();){gt=vt.pop(),kt=gt.value,xt=gt.cost,fr=Se[kt]||{};for(mt in fr)fr.hasOwnProperty(mt)&&(ar=fr[mt],gr=xt+ar,wr=Xe[mt],Er=typeof Xe[mt]>"u",(Er||wr>gr)&&(Xe[mt]=gr,vt.push(mt,gr),Je[mt]=kt))}if(typeof Ze<"u"&&typeof Xe[Ze]>"u"){var _r=["Could not find a path from ",Ne," to ",Ze,"."].join("");throw new Error(_r)}return Je},extract_shortest_path_from_predecessor_list:function(Se,Ne){for(var Ze=[],Je=Ne;Je;)Ze.push(Je),Se[Je],Je=Se[Je];return Ze.reverse(),Ze},find_path:function(Se,Ne,Ze){var Je=ge.single_source_shortest_paths(Se,Ne,Ze);return ge.extract_shortest_path_from_predecessor_list(Je,Ze)},PriorityQueue:{make:function(Se){var Ne=ge.PriorityQueue,Ze={},Je;Se=Se||{};for(Je in Ne)Ne.hasOwnProperty(Je)&&(Ze[Je]=Ne[Je]);return Ze.queue=[],Ze.sorter=Se.sorter||Ne.default_sorter,Ze},default_sorter:function(Se,Ne){return Se.cost-Ne.cost},push:function(Se,Ne){var Ze={value:Se,cost:Ne};this.queue.push(Ze),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};pe.exports=ge})(dijkstra);var dijkstraExports=dijkstra.exports;(function(pe){const ge=mode,Se=numericData,Ne=alphanumericData,Ze=byteData,Je=kanjiData,Xe=regex,vt=utils$1,gt=dijkstraExports;function kt(_r){return unescape(encodeURIComponent(_r)).length}function mt(_r,Sr,Or){const Pr=[];let kr;for(;(kr=_r.exec(Or))!==null;)Pr.push({data:kr[0],index:kr.index,mode:Sr,length:kr[0].length});return Pr}function xt(_r){const Sr=mt(Xe.NUMERIC,ge.NUMERIC,_r),Or=mt(Xe.ALPHANUMERIC,ge.ALPHANUMERIC,_r);let Pr,kr;return vt.isKanjiModeEnabled()?(Pr=mt(Xe.BYTE,ge.BYTE,_r),kr=mt(Xe.KANJI,ge.KANJI,_r)):(Pr=mt(Xe.BYTE_KANJI,ge.BYTE,_r),kr=[]),Sr.concat(Or,Pr,kr).sort(function(Yr,jr){return Yr.index-jr.index}).map(function(Yr){return{data:Yr.data,mode:Yr.mode,length:Yr.length}})}function fr(_r,Sr){switch(Sr){case ge.NUMERIC:return Se.getBitsLength(_r);case ge.ALPHANUMERIC:return Ne.getBitsLength(_r);case ge.KANJI:return Je.getBitsLength(_r);case ge.BYTE:return Ze.getBitsLength(_r)}}function ar(_r){return _r.reduce(function(Sr,Or){const Pr=Sr.length-1>=0?Sr[Sr.length-1]:null;return Pr&&Pr.mode===Or.mode?(Sr[Sr.length-1].data+=Or.data,Sr):(Sr.push(Or),Sr)},[])}function gr(_r){const Sr=[];for(let Or=0;Or<_r.length;Or++){const Pr=_r[Or];switch(Pr.mode){case ge.NUMERIC:Sr.push([Pr,{data:Pr.data,mode:ge.ALPHANUMERIC,length:Pr.length},{data:Pr.data,mode:ge.BYTE,length:Pr.length}]);break;case ge.ALPHANUMERIC:Sr.push([Pr,{data:Pr.data,mode:ge.BYTE,length:Pr.length}]);break;case ge.KANJI:Sr.push([Pr,{data:Pr.data,mode:ge.BYTE,length:kt(Pr.data)}]);break;case ge.BYTE:Sr.push([{data:Pr.data,mode:ge.BYTE,length:kt(Pr.data)}])}}return Sr}function wr(_r,Sr){const Or={},Pr={start:{}};let kr=["start"];for(let Ur=0;Ur<_r.length;Ur++){const Yr=_r[Ur],jr=[];for(let Dr=0;Dr<Yr.length;Dr++){const Vr=Yr[Dr],Ir=""+Ur+Dr;jr.push(Ir),Or[Ir]={node:Vr,lastCount:0},Pr[Ir]={};for(let br=0;br<kr.length;br++){const Vt=kr[br];Or[Vt]&&Or[Vt].node.mode===Vr.mode?(Pr[Vt][Ir]=fr(Or[Vt].lastCount+Vr.length,Vr.mode)-fr(Or[Vt].lastCount,Vr.mode),Or[Vt].lastCount+=Vr.length):(Or[Vt]&&(Or[Vt].lastCount=Vr.length),Pr[Vt][Ir]=fr(Vr.length,Vr.mode)+4+ge.getCharCountIndicator(Vr.mode,Sr))}}kr=jr}for(let Ur=0;Ur<kr.length;Ur++)Pr[kr[Ur]].end=0;return{map:Pr,table:Or}}function Er(_r,Sr){let Or;const Pr=ge.getBestModeForData(_r);if(Or=ge.from(Sr,Pr),Or!==ge.BYTE&&Or.bit<Pr.bit)throw new Error('"'+_r+'" cannot be encoded with mode '+ge.toString(Or)+`.
 Suggested mode is: `+ge.toString(Pr));switch(Or===ge.KANJI&&!vt.isKanjiModeEnabled()&&(Or=ge.BYTE),Or){case ge.NUMERIC:return new Se(_r);case ge.ALPHANUMERIC:return new Ne(_r);case ge.KANJI:return new Je(_r);case ge.BYTE:return new Ze(_r)}}pe.fromArray=function(Sr){return Sr.reduce(function(Or,Pr){return typeof Pr=="string"?Or.push(Er(Pr,null)):Pr.data&&Or.push(Er(Pr.data,Pr.mode)),Or},[])},pe.fromString=function(Sr,Or){const Pr=xt(Sr,vt.isKanjiModeEnabled()),kr=gr(Pr),Ur=wr(kr,Or),Yr=gt.find_path(Ur.map,"start","end"),jr=[];for(let Dr=1;Dr<Yr.length-1;Dr++)jr.push(Ur.table[Yr[Dr]].node);return pe.fromArray(ar(jr))},pe.rawSplit=function(Sr){return pe.fromArray(xt(Sr,vt.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(pe,ge){const Se=pe.size,Ne=FinderPattern.getPositions(ge);for(let Ze=0;Ze<Ne.length;Ze++){const Je=Ne[Ze][0],Xe=Ne[Ze][1];for(let vt=-1;vt<=7;vt++)if(!(Je+vt<=-1||Se<=Je+vt))for(let gt=-1;gt<=7;gt++)Xe+gt<=-1||Se<=Xe+gt||(vt>=0&&vt<=6&&(gt===0||gt===6)||gt>=0&&gt<=6&&(vt===0||vt===6)||vt>=2&&vt<=4&&gt>=2&&gt<=4?pe.set(Je+vt,Xe+gt,!0,!0):pe.set(Je+vt,Xe+gt,!1,!0))}}function setupTimingPattern(pe){const ge=pe.size;for(let Se=8;Se<ge-8;Se++){const Ne=Se%2===0;pe.set(Se,6,Ne,!0),pe.set(6,Se,Ne,!0)}}function setupAlignmentPattern(pe,ge){const Se=AlignmentPattern.getPositions(ge);for(let Ne=0;Ne<Se.length;Ne++){const Ze=Se[Ne][0],Je=Se[Ne][1];for(let Xe=-2;Xe<=2;Xe++)for(let vt=-2;vt<=2;vt++)Xe===-2||Xe===2||vt===-2||vt===2||Xe===0&&vt===0?pe.set(Ze+Xe,Je+vt,!0,!0):pe.set(Ze+Xe,Je+vt,!1,!0)}}function setupVersionInfo(pe,ge){const Se=pe.size,Ne=Version.getEncodedBits(ge);let Ze,Je,Xe;for(let vt=0;vt<18;vt++)Ze=Math.floor(vt/3),Je=vt%3+Se-8-3,Xe=(Ne>>vt&1)===1,pe.set(Ze,Je,Xe,!0),pe.set(Je,Ze,Xe,!0)}function setupFormatInfo(pe,ge,Se){const Ne=pe.size,Ze=FormatInfo.getEncodedBits(ge,Se);let Je,Xe;for(Je=0;Je<15;Je++)Xe=(Ze>>Je&1)===1,Je<6?pe.set(Je,8,Xe,!0):Je<8?pe.set(Je+1,8,Xe,!0):pe.set(Ne-15+Je,8,Xe,!0),Je<8?pe.set(8,Ne-Je-1,Xe,!0):Je<9?pe.set(8,15-Je-1+1,Xe,!0):pe.set(8,15-Je-1,Xe,!0);pe.set(Ne-8,8,1,!0)}function setupData(pe,ge){const Se=pe.size;let Ne=-1,Ze=Se-1,Je=7,Xe=0;for(let vt=Se-1;vt>0;vt-=2)for(vt===6&&vt--;;){for(let gt=0;gt<2;gt++)if(!pe.isReserved(Ze,vt-gt)){let kt=!1;Xe<ge.length&&(kt=(ge[Xe]>>>Je&1)===1),pe.set(Ze,vt-gt,kt),Je--,Je===-1&&(Xe++,Je=7)}if(Ze+=Ne,Ze<0||Se<=Ze){Ze-=Ne,Ne=-Ne;break}}}function createData(pe,ge,Se){const Ne=new BitBuffer;Se.forEach(function(gt){Ne.put(gt.mode.bit,4),Ne.put(gt.getLength(),Mode.getCharCountIndicator(gt.mode,pe)),gt.write(Ne)});const Ze=Utils$1.getSymbolTotalCodewords(pe),Je=ECCode.getTotalCodewordsCount(pe,ge),Xe=(Ze-Je)*8;for(Ne.getLengthInBits()+4<=Xe&&Ne.put(0,4);Ne.getLengthInBits()%8!==0;)Ne.putBit(0);const vt=(Xe-Ne.getLengthInBits())/8;for(let gt=0;gt<vt;gt++)Ne.put(gt%2?17:236,8);return createCodewords(Ne,pe,ge)}function createCodewords(pe,ge,Se){const Ne=Utils$1.getSymbolTotalCodewords(ge),Ze=ECCode.getTotalCodewordsCount(ge,Se),Je=Ne-Ze,Xe=ECCode.getBlocksCount(ge,Se),vt=Ne%Xe,gt=Xe-vt,kt=Math.floor(Ne/Xe),mt=Math.floor(Je/Xe),xt=mt+1,fr=kt-mt,ar=new ReedSolomonEncoder(fr);let gr=0;const wr=new Array(Xe),Er=new Array(Xe);let _r=0;const Sr=new Uint8Array(pe.buffer);for(let Yr=0;Yr<Xe;Yr++){const jr=Yr<gt?mt:xt;wr[Yr]=Sr.slice(gr,gr+jr),Er[Yr]=ar.encode(wr[Yr]),gr+=jr,_r=Math.max(_r,jr)}const Or=new Uint8Array(Ne);let Pr=0,kr,Ur;for(kr=0;kr<_r;kr++)for(Ur=0;Ur<Xe;Ur++)kr<wr[Ur].length&&(Or[Pr++]=wr[Ur][kr]);for(kr=0;kr<fr;kr++)for(Ur=0;Ur<Xe;Ur++)Or[Pr++]=Er[Ur][kr];return Or}function createSymbol(pe,ge,Se,Ne){let Ze;if(Array.isArray(pe))Ze=Segments.fromArray(pe);else if(typeof pe=="string"){let kt=ge;if(!kt){const mt=Segments.rawSplit(pe);kt=Version.getBestVersionForData(mt,Se)}Ze=Segments.fromString(pe,kt||40)}else throw new Error("Invalid data");const Je=Version.getBestVersionForData(Ze,Se);if(!Je)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ge)ge=Je;else if(ge<Je)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Je+`.
`);const Xe=createData(ge,Se,Ze),vt=Utils$1.getSymbolSize(ge),gt=new BitMatrix(vt);return setupFinderPattern(gt,ge),setupTimingPattern(gt),setupAlignmentPattern(gt,ge),setupFormatInfo(gt,Se,0),ge>=7&&setupVersionInfo(gt,ge),setupData(gt,Xe),isNaN(Ne)&&(Ne=MaskPattern.getBestMask(gt,setupFormatInfo.bind(null,gt,Se))),MaskPattern.applyMask(Ne,gt),setupFormatInfo(gt,Se,Ne),{modules:gt,version:ge,errorCorrectionLevel:Se,maskPattern:Ne,segments:Ze}}qrcode.create=function pe(ge,Se){if(typeof ge>"u"||ge==="")throw new Error("No input text");let Ne=ECLevel.M,Ze,Je;return typeof Se<"u"&&(Ne=ECLevel.from(Se.errorCorrectionLevel,ECLevel.M),Ze=Version.from(Se.version),Je=MaskPattern.from(Se.maskPattern),Se.toSJISFunc&&Utils$1.setToSJISFunction(Se.toSJISFunc)),createSymbol(ge,Ze,Ne,Je)};var canvas={},utils={};(function(pe){function ge(Se){if(typeof Se=="number"&&(Se=Se.toString()),typeof Se!="string")throw new Error("Color should be defined as hex string");let Ne=Se.slice().replace("#","").split("");if(Ne.length<3||Ne.length===5||Ne.length>8)throw new Error("Invalid hex color: "+Se);(Ne.length===3||Ne.length===4)&&(Ne=Array.prototype.concat.apply([],Ne.map(function(Je){return[Je,Je]}))),Ne.length===6&&Ne.push("F","F");const Ze=parseInt(Ne.join(""),16);return{r:Ze>>24&255,g:Ze>>16&255,b:Ze>>8&255,a:Ze&255,hex:"#"+Ne.slice(0,6).join("")}}pe.getOptions=function(Ne){Ne||(Ne={}),Ne.color||(Ne.color={});const Ze=typeof Ne.margin>"u"||Ne.margin===null||Ne.margin<0?4:Ne.margin,Je=Ne.width&&Ne.width>=21?Ne.width:void 0,Xe=Ne.scale||4;return{width:Je,scale:Je?4:Xe,margin:Ze,color:{dark:ge(Ne.color.dark||"#000000ff"),light:ge(Ne.color.light||"#ffffffff")},type:Ne.type,rendererOpts:Ne.rendererOpts||{}}},pe.getScale=function(Ne,Ze){return Ze.width&&Ze.width>=Ne+Ze.margin*2?Ze.width/(Ne+Ze.margin*2):Ze.scale},pe.getImageWidth=function(Ne,Ze){const Je=pe.getScale(Ne,Ze);return Math.floor((Ne+Ze.margin*2)*Je)},pe.qrToImageData=function(Ne,Ze,Je){const Xe=Ze.modules.size,vt=Ze.modules.data,gt=pe.getScale(Xe,Je),kt=Math.floor((Xe+Je.margin*2)*gt),mt=Je.margin*gt,xt=[Je.color.light,Je.color.dark];for(let fr=0;fr<kt;fr++)for(let ar=0;ar<kt;ar++){let gr=(fr*kt+ar)*4,wr=Je.color.light;if(fr>=mt&&ar>=mt&&fr<kt-mt&&ar<kt-mt){const Er=Math.floor((fr-mt)/gt),_r=Math.floor((ar-mt)/gt);wr=xt[vt[Er*Xe+_r]?1:0]}Ne[gr++]=wr.r,Ne[gr++]=wr.g,Ne[gr++]=wr.b,Ne[gr]=wr.a}}})(utils),function(pe){const ge=utils;function Se(Ze,Je,Xe){Ze.clearRect(0,0,Je.width,Je.height),Je.style||(Je.style={}),Je.height=Xe,Je.width=Xe,Je.style.height=Xe+"px",Je.style.width=Xe+"px"}function Ne(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}pe.render=function(Je,Xe,vt){let gt=vt,kt=Xe;typeof gt>"u"&&(!Xe||!Xe.getContext)&&(gt=Xe,Xe=void 0),Xe||(kt=Ne()),gt=ge.getOptions(gt);const mt=ge.getImageWidth(Je.modules.size,gt),xt=kt.getContext("2d"),fr=xt.createImageData(mt,mt);return ge.qrToImageData(fr.data,Je,gt),Se(xt,kt,mt),xt.putImageData(fr,0,0),kt},pe.renderToDataURL=function(Je,Xe,vt){let gt=vt;typeof gt>"u"&&(!Xe||!Xe.getContext)&&(gt=Xe,Xe=void 0),gt||(gt={});const kt=pe.render(Je,Xe,gt),mt=gt.type||"image/png",xt=gt.rendererOpts||{};return kt.toDataURL(mt,xt.quality)}}(canvas);var svgTag={};const Utils=utils;function getColorAttrib(pe,ge){const Se=pe.a/255,Ne=ge+'="'+pe.hex+'"';return Se<1?Ne+" "+ge+'-opacity="'+Se.toFixed(2).slice(1)+'"':Ne}function svgCmd(pe,ge,Se){let Ne=pe+ge;return typeof Se<"u"&&(Ne+=" "+Se),Ne}function qrToPath(pe,ge,Se){let Ne="",Ze=0,Je=!1,Xe=0;for(let vt=0;vt<pe.length;vt++){const gt=Math.floor(vt%ge),kt=Math.floor(vt/ge);!gt&&!Je&&(Je=!0),pe[vt]?(Xe++,vt>0&&gt>0&&pe[vt-1]||(Ne+=Je?svgCmd("M",gt+Se,.5+kt+Se):svgCmd("m",Ze,0),Ze=0,Je=!1),gt+1<ge&&pe[vt+1]||(Ne+=svgCmd("h",Xe),Xe=0)):Ze++}return Ne}svgTag.render=function pe(ge,Se,Ne){const Ze=Utils.getOptions(Se),Je=ge.modules.size,Xe=ge.modules.data,vt=Je+Ze.margin*2,gt=Ze.color.light.a?"<path "+getColorAttrib(Ze.color.light,"fill")+' d="M0 0h'+vt+"v"+vt+'H0z"/>':"",kt="<path "+getColorAttrib(Ze.color.dark,"stroke")+' d="'+qrToPath(Xe,Je,Ze.margin)+'"/>',mt='viewBox="0 0 '+vt+" "+vt+'"',fr='<svg xmlns="http://www.w3.org/2000/svg" '+(Ze.width?'width="'+Ze.width+'" height="'+Ze.width+'" ':"")+mt+' shape-rendering="crispEdges">'+gt+kt+`</svg>
`;return typeof Ne=="function"&&Ne(null,fr),fr};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(pe,ge,Se,Ne,Ze){const Je=[].slice.call(arguments,1),Xe=Je.length,vt=typeof Je[Xe-1]=="function";if(!vt&&!canPromise())throw new Error("Callback required as last argument");if(vt){if(Xe<2)throw new Error("Too few arguments provided");Xe===2?(Ze=Se,Se=ge,ge=Ne=void 0):Xe===3&&(ge.getContext&&typeof Ze>"u"?(Ze=Ne,Ne=void 0):(Ze=Ne,Ne=Se,Se=ge,ge=void 0))}else{if(Xe<1)throw new Error("Too few arguments provided");return Xe===1?(Se=ge,ge=Ne=void 0):Xe===2&&!ge.getContext&&(Ne=Se,Se=ge,ge=void 0),new Promise(function(gt,kt){try{const mt=QRCode.create(Se,Ne);gt(pe(mt,ge,Ne))}catch(mt){kt(mt)}})}try{const gt=QRCode.create(Se,Ne);Ze(null,pe(gt,ge,Ne))}catch(gt){Ze(gt)}}browser.create=QRCode.create,browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),browser.toString=renderCanvas.bind(null,function(pe,ge,Se){return SvgRenderer.render(pe,Se)});var et=Object.defineProperty,Be=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,Ue=(pe,ge,Se)=>ge in pe?et(pe,ge,{enumerable:!0,configurable:!0,writable:!0,value:Se}):pe[ge]=Se,ve=(pe,ge)=>{for(var Se in ge||(ge={}))tt.call(ge,Se)&&Ue(pe,Se,ge[Se]);if(Be)for(var Se of Be(ge))ot.call(ge,Se)&&Ue(pe,Se,ge[Se]);return pe};function rt(){var pe;const ge=(pe=ne$1.state.themeMode)!=null?pe:"dark",Se={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[ge];return{"--wcm-color-fg-1":Se.foreground[1],"--wcm-color-fg-2":Se.foreground[2],"--wcm-color-fg-3":Se.foreground[3],"--wcm-color-bg-1":Se.background[1],"--wcm-color-bg-2":Se.background[2],"--wcm-color-bg-3":Se.background[3],"--wcm-color-overlay":Se.overlay}}function He(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const h={getPreset(pe){return He()[pe]},setTheme(){const pe=document.querySelector(":root"),{themeVariables:ge}=ne$1.state;if(pe){const Se=ve(ve(ve({},rt()),He()),ge);Object.entries(Se).forEach(([Ne,Ze])=>pe.style.setProperty(Ne,Ze))}},globalCss:i$3`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},at=i$3`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var lt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,F=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?it(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&lt(ge,Se,Ze),Ze};let T=class extends s{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const pe={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let ge="inverse";return this.variant==="ghost"&&(ge="secondary"),this.variant==="outline"&&(ge="accent"),x`<button class="${o(pe)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${ge}"><slot></slot></wcm-text>${this.iconRight}</button>`}};T.styles=[h.globalCss,at],F([n$1({type:Boolean})],T.prototype,"disabled",2),F([n$1()],T.prototype,"iconLeft",2),F([n$1()],T.prototype,"iconRight",2),F([n$1()],T.prototype,"onClick",2),F([n$1()],T.prototype,"variant",2),T=F([e$2("wcm-button")],T);const nt=i$3`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var ct=Object.defineProperty,st=Object.getOwnPropertyDescriptor,ue=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?st(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&ct(ge,Se,Ze),Ze};let ee=class extends s{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const pe={"wcm-secondary":this.variant==="secondary"};return x`<button ?disabled="${this.disabled}" class="${o(pe)}"><slot></slot></button>`}};ee.styles=[h.globalCss,nt],ue([n$1({type:Boolean})],ee.prototype,"disabled",2),ue([n$1()],ee.prototype,"variant",2),ee=ue([e$2("wcm-button-big")],ee);const dt=i$3`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var wt=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let be=class extends s{render(){return x`<div><slot></slot></div>`}};be.styles=[h.globalCss,dt],be=wt([e$2("wcm-info-footer")],be);const v={CROSS_ICON:b`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:b`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:b`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:b`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:b`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:b`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:b`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:b`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:b`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:b`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:b`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:b`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:b`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:b`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:b`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:b`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:b`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:b`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},pt=i$3`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var ut=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let fe=class extends s{render(){return x`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${v.WALLET_CONNECT_LOGO} <button @click="${se$1.close}">${v.CROSS_ICON}</button></div>`}};fe.styles=[h.globalCss,pt],fe=ut([e$2("wcm-modal-backcard")],fe);const bt=i$3`main{padding:20px;padding-top:0;width:100%}`;var yt=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let xe=class extends s{render(){return x`<main><slot></slot></main>`}};xe.styles=[h.globalCss,bt],xe=yt([e$2("wcm-modal-content")],xe);const $t=i$3`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var Ot=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let ye=class extends s{render(){return x`<footer><slot></slot></footer>`}};ye.styles=[h.globalCss,$t],ye=Ot([e$2("wcm-modal-footer")],ye);const Wt=i$3`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var It=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,te=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Et(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&It(ge,Se,Ze),Ze};let S=class extends s{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return x`<button class="wcm-back-btn" @click="${T$2.goBack}">${v.BACK_ICON}</button>`}actionBtnTemplate(){return x`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const pe={"wcm-border":this.border},ge=T$2.state.history.length>1,Se=this.title?x`<wcm-text variant="big-bold">${this.title}</wcm-text>`:x`<slot></slot>`;return x`<header class="${o(pe)}">${ge?this.backBtnTemplate():null} ${Se} ${this.onAction?this.actionBtnTemplate():null}</header>`}};S.styles=[h.globalCss,Wt],te([n$1()],S.prototype,"title",2),te([n$1()],S.prototype,"onAction",2),te([n$1()],S.prototype,"actionIcon",2),te([n$1({type:Boolean})],S.prototype,"border",2),S=te([e$2("wcm-modal-header")],S);const c={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(pe,ge){const Se=pe.renderRoot.querySelector(ge);if(!Se)throw new Error(`${ge} not found`);return Se},getWalletIcon({id:pe,image_id:ge}){const{walletImages:Se}=y$1.state;return Se!=null&&Se[pe]?Se[pe]:ge?te$1.getWalletImageUrl(ge):""},getWalletName(pe,ge=!1){return ge&&pe.length>8?`${pe.substring(0,8)}..`:pe},isMobileAnimation(){return window.innerWidth<=c.MOBILE_BREAKPOINT},async preloadImage(pe){const ge=new Promise((Se,Ne)=>{const Ze=new Image;Ze.onload=Se,Ze.onerror=Ne,Ze.crossOrigin="anonymous",Ze.src=pe});return Promise.race([ge,a$2.wait(3e3)])},getErrorMessage(pe){return pe instanceof Error?pe.message:"Unknown Error"},debounce(pe,ge=500){let Se;return(...Ne)=>{function Ze(){pe(...Ne)}Se&&clearTimeout(Se),Se=setTimeout(Ze,ge)}},handleMobileLinking(pe){const{walletConnectUri:ge}=p$1.state,{mobile:Se,name:Ne}=pe,Ze=Se==null?void 0:Se.native,Je=Se==null?void 0:Se.universal;c.setRecentWallet(pe);function Xe(vt){let gt="";Ze?gt=a$2.formatUniversalUrl(Ze,vt,Ne):Je&&(gt=a$2.formatNativeUrl(Je,vt,Ne)),a$2.openHref(gt,"_self")}ge&&Xe(ge)},handleAndroidLinking(){const{walletConnectUri:pe}=p$1.state;pe&&(a$2.setWalletConnectAndroidDeepLink(pe),a$2.openHref(pe,"_self"))},async handleUriCopy(){const{walletConnectUri:pe}=p$1.state;if(pe)try{await navigator.clipboard.writeText(pe),oe$1.openToast("Link copied","success")}catch{oe$1.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:pe}=y$1.state,ge=Object.values(pe??{});return Object.values(ge)},truncate(pe,ge=8){return pe.length<=ge?pe:`${pe.substring(0,4)}...${pe.substring(pe.length-4)}`},setRecentWallet(pe){try{localStorage.setItem(c.WCM_RECENT_WALLET_DATA,JSON.stringify(pe))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const pe=localStorage.getItem(c.WCM_RECENT_WALLET_DATA);return pe?JSON.parse(pe):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(pe,ge){return pe.toUpperCase().includes(ge.toUpperCase())},openWalletExplorerUrl(){a$2.openHref(c.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:pe,mobile:ge}=a$2.getWalletRouterData(),Se=!!(pe!=null&&pe.native),Ne=!!(pe!=null&&pe.universal),Ze=!!(ge!=null&&ge.native)||!!(ge!=null&&ge.universal);return{isDesktop:Se,isMobile:Ze,isWeb:Ne}},goToConnectingView(pe){T$2.setData({Wallet:pe});const ge=a$2.isMobile(),{isDesktop:Se,isWeb:Ne,isMobile:Ze}=c.getCachedRouterWalletPlatforms();ge?Ze?T$2.push("MobileConnecting"):Ne?T$2.push("WebConnecting"):T$2.push("InstallWallet"):Se?T$2.push("DesktopConnecting"):Ne?T$2.push("WebConnecting"):Ze?T$2.push("MobileQrcodeConnecting"):T$2.push("InstallWallet")}},Mt=i$3`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var Lt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,$e=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Rt(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Lt(ge,Se,Ze),Ze};let oe=class extends s{constructor(){super(),this.view=T$2.state.view,this.prevView=T$2.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=T$2.subscribe(pe=>{this.view!==pe.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([pe])=>{const ge=`${pe.contentRect.height}px`;this.oldHeight!=="0px"&&animate(this.routerEl,{height:[this.oldHeight,ge]},{duration:.2}),this.oldHeight=ge}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var pe,ge;(pe=this.unsubscribe)==null||pe.call(this),(ge=this.resizeObserver)==null||ge.disconnect()}get routerEl(){return c.getShadowRootElement(this,".wcm-router")}get contentEl(){return c.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return x`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return x`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return x`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return x`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return x`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return x`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return x`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return x`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return x`<div>Not Found</div>`}}async onChangeRoute(){await animate(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=T$2.state.view,animate(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return x`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};oe.styles=[h.globalCss,Mt],$e([t$1()],oe.prototype,"view",2),$e([t$1()],oe.prototype,"prevView",2),oe=$e([e$2("wcm-modal-router")],oe);const At=i$3`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var Pt=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,ze=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Tt(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Pt(ge,Se,Ze),Ze};let ne=class extends s{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=oe$1.subscribe(pe=>{pe.open?(this.open=!0,this.timeout=setTimeout(()=>oe$1.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var pe;(pe=this.unsubscribe)==null||pe.call(this),clearTimeout(this.timeout),oe$1.closeToast()}render(){const{message:pe,variant:ge}=oe$1.state,Se={"wcm-success":ge==="success","wcm-error":ge==="error"};return this.open?x`<div class="${o(Se)}">${ge==="success"?v.CHECKMARK_ICON:null} ${ge==="error"?v.CROSS_ICON:null}<wcm-text variant="small-regular">${pe}</wcm-text></div>`:null}};ne.styles=[h.globalCss,At],ze([t$1()],ne.prototype,"open",2),ne=ze([e$2("wcm-modal-toast")],ne);const jt=.1,Ve=2.5,A=7;function Ce(pe,ge,Se){return pe===ge?!1:(pe-ge<0?ge-pe:pe-ge)<=Se+jt}function _t(pe,ge){const Se=Array.prototype.slice.call(browser.create(pe,{errorCorrectionLevel:ge}).modules.data,0),Ne=Math.sqrt(Se.length);return Se.reduce((Ze,Je,Xe)=>(Xe%Ne===0?Ze.push([Je]):Ze[Ze.length-1].push(Je))&&Ze,[])}const Dt={generate(pe,ge,Se){const Ne="#141414",Ze="#ffffff",Je=[],Xe=_t(pe,"Q"),vt=ge/Xe.length,gt=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];gt.forEach(({x:gr,y:wr})=>{const Er=(Xe.length-A)*vt*gr,_r=(Xe.length-A)*vt*wr,Sr=.45;for(let Or=0;Or<gt.length;Or+=1){const Pr=vt*(A-Or*2);Je.push(b`<rect fill="${Or%2===0?Ne:Ze}" height="${Pr}" rx="${Pr*Sr}" ry="${Pr*Sr}" width="${Pr}" x="${Er+vt*Or}" y="${_r+vt*Or}">`)}});const kt=Math.floor((Se+25)/vt),mt=Xe.length/2-kt/2,xt=Xe.length/2+kt/2-1,fr=[];Xe.forEach((gr,wr)=>{gr.forEach((Er,_r)=>{if(Xe[wr][_r]&&!(wr<A&&_r<A||wr>Xe.length-(A+1)&&_r<A||wr<A&&_r>Xe.length-(A+1))&&!(wr>mt&&wr<xt&&_r>mt&&_r<xt)){const Sr=wr*vt+vt/2,Or=_r*vt+vt/2;fr.push([Sr,Or])}})});const ar={};return fr.forEach(([gr,wr])=>{ar[gr]?ar[gr].push(wr):ar[gr]=[wr]}),Object.entries(ar).map(([gr,wr])=>{const Er=wr.filter(_r=>wr.every(Sr=>!Ce(_r,Sr,vt)));return[Number(gr),Er]}).forEach(([gr,wr])=>{wr.forEach(Er=>{Je.push(b`<circle cx="${gr}" cy="${Er}" fill="${Ne}" r="${vt/Ve}">`)})}),Object.entries(ar).filter(([gr,wr])=>wr.length>1).map(([gr,wr])=>{const Er=wr.filter(_r=>wr.some(Sr=>Ce(_r,Sr,vt)));return[Number(gr),Er]}).map(([gr,wr])=>{wr.sort((_r,Sr)=>_r<Sr?-1:1);const Er=[];for(const _r of wr){const Sr=Er.find(Or=>Or.some(Pr=>Ce(_r,Pr,vt)));Sr?Sr.push(_r):Er.push([_r])}return[gr,Er.map(_r=>[_r[0],_r[_r.length-1]])]}).forEach(([gr,wr])=>{wr.forEach(([Er,_r])=>{Je.push(b`<line x1="${gr}" x2="${gr}" y1="${Er}" y2="${_r}" stroke="${Ne}" stroke-width="${vt/(Ve/2)}" stroke-linecap="round">`)})}),Je}},Nt=i$3`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var Zt=Object.defineProperty,St=Object.getOwnPropertyDescriptor,q=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?St(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Zt(ge,Se,Ze),Ze};let j=class extends s{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const pe=ne$1.state.themeMode==="light"?this.size:this.size-36;return b`<svg height="${pe}" width="${pe}">${Dt.generate(this.uri,pe,pe/4)}</svg>`}render(){const pe={"wcm-dark":ne$1.state.themeMode==="dark"};return x`<div style="${`width: ${this.size}px`}" class="${o(pe)}">${this.walletId||this.imageUrl?x`<wcm-wallet-image walletId="${l(this.walletId)}" imageId="${l(this.imageId)}" imageUrl="${l(this.imageUrl)}"></wcm-wallet-image>`:v.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};j.styles=[h.globalCss,Nt],q([n$1()],j.prototype,"uri",2),q([n$1({type:Number})],j.prototype,"size",2),q([n$1()],j.prototype,"imageId",2),q([n$1()],j.prototype,"walletId",2),q([n$1()],j.prototype,"imageUrl",2),j=q([e$2("wcm-qrcode")],j);const Bt=i$3`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var Ut=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,Fe=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Ht(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Ut(ge,Se,Ze),Ze};let ce=class extends s{constructor(){super(...arguments),this.onChange=()=>null}render(){return x`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${v.SEARCH_ICON}`}};ce.styles=[h.globalCss,Bt],Fe([n$1()],ce.prototype,"onChange",2),ce=Fe([e$2("wcm-search-input")],ce);const zt=i$3`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var qt=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let ke=class extends s{render(){return x`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};ke.styles=[h.globalCss,zt],ke=qt([e$2("wcm-spinner")],ke);const Qt=i$3`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var Kt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Oe=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Yt(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Kt(ge,Se,Ze),Ze};let re=class extends s{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const pe={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return x`<span><slot class="${o(pe)}"></slot></span>`}};re.styles=[h.globalCss,Qt],Oe([n$1()],re.prototype,"variant",2),Oe([n$1()],re.prototype,"color",2),re=Oe([e$2("wcm-text")],re);const Gt=i$3`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var Xt=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,_=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Jt(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Xt(ge,Se,Ze),Ze};let L=class extends s{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?x`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?x`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){R$1.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var pe;return x`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${l(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(pe=this.label)!=null?pe:c.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};L.styles=[h.globalCss,Gt],_([n$1()],L.prototype,"onClick",2),_([n$1()],L.prototype,"name",2),_([n$1()],L.prototype,"walletId",2),_([n$1()],L.prototype,"label",2),_([n$1()],L.prototype,"imageId",2),_([n$1({type:Boolean})],L.prototype,"installed",2),_([n$1({type:Boolean})],L.prototype,"recent",2),L=_([e$2("wcm-wallet-button")],L);const eo=i$3`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var to=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,se=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?oo(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&to(ge,Se,Ze),Ze};let Q=class extends s{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var pe;const ge=(pe=this.imageUrl)!=null&&pe.length?this.imageUrl:c.getWalletIcon({id:this.walletId,image_id:this.imageId});return x`${ge.length?x`<div><img crossorigin="anonymous" src="${ge}" alt="${this.id}"></div>`:v.WALLET_PLACEHOLDER}`}};Q.styles=[h.globalCss,eo],se([n$1()],Q.prototype,"walletId",2),se([n$1()],Q.prototype,"imageId",2),se([n$1()],Q.prototype,"imageUrl",2),Q=se([e$2("wcm-wallet-image")],Q);var ro=Object.defineProperty,ao=Object.getOwnPropertyDescriptor,qe=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?ao(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&ro(ge,Se,Ze),Ze};let We=class extends s{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(pe){try{pe!=null&&pe.length&&await Promise.all(pe.map(async ge=>c.preloadImage(ge)))}catch{console.info("Unsuccessful attempt at preloading some images",pe)}}async preloadListings(){if(y$1.state.enableExplorer){await te$1.getRecomendedWallets(),p$1.setIsDataLoaded(!0);const{recomendedWallets:pe}=te$1.state,ge=pe.map(Se=>c.getWalletIcon(Se));await this.loadImages(ge)}else p$1.setIsDataLoaded(!0)}async preloadCustomImages(){const pe=c.getCustomImageUrls();await this.loadImages(pe)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(pe){console.error(pe),oe$1.openToast("Failed preloading","error")}}};qe([t$1()],We.prototype,"preload",2),We=qe([e$2("wcm-explorer-context")],We);var no=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Qe=class extends s{constructor(){super(),this.unsubscribeTheme=void 0,h.setTheme(),this.unsubscribeTheme=ne$1.subscribe(h.setTheme)}disconnectedCallback(){var pe;(pe=this.unsubscribeTheme)==null||pe.call(this)}};Qe=no([e$2("wcm-theme-context")],Qe);const co=i$3`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var ho=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Ie=class extends s{onGoToQrcode(){T$2.push("Qrcode")}render(){const{recomendedWallets:pe}=te$1.state,ge=[...pe,...pe],Se=a$2.RECOMMENDED_WALLET_AMOUNT*2;return x`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${v.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${v.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(Se)].map((Ne,Ze)=>{const Je=ge[Ze%ge.length];return Je?x`<wcm-wallet-image walletId="${Je.id}" imageId="${Je.image_id}"></wcm-wallet-image>`:v.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${c.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Ie.styles=[h.globalCss,co],Ie=ho([e$2("wcm-android-wallet-selection")],Ie);const wo=i$3`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var po=Object.defineProperty,go=Object.getOwnPropertyDescriptor,K=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?go(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&po(ge,Se,Ze),Ze};let D=class extends s{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var pe,ge;const Se=(ge=(pe=ne$1.state.themeVariables)==null?void 0:pe["--wcm-wallet-icon-large-border-radius"])!=null?ge:h.getPreset("--wcm-wallet-icon-large-border-radius");let Ne=0;Se.includes("%")?Ne=88/100*parseInt(Se,10):Ne=parseInt(Se,10),Ne*=1.17;const Ze=317-Ne*1.57,Je=425-Ne*1.8;return x`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${Ne}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${Ze}" stroke-dashoffset="${Je}"></use></svg>`}render(){const pe={"wcm-error":this.isError,"wcm-stale":this.isStale};return x`<div class="${o(pe)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${l(this.walletId)}" imageId="${l(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};D.styles=[h.globalCss,wo],K([n$1()],D.prototype,"walletId",2),K([n$1()],D.prototype,"imageId",2),K([n$1({type:Boolean})],D.prototype,"isError",2),K([n$1({type:Boolean})],D.prototype,"isStale",2),K([n$1()],D.prototype,"label",2),D=K([e$2("wcm-connector-waiting")],D);const G={manualWallets(){var pe,ge;const{mobileWallets:Se,desktopWallets:Ne}=y$1.state,Ze=(pe=G.recentWallet())==null?void 0:pe.id,Je=a$2.isMobile()?Se:Ne,Xe=Je==null?void 0:Je.filter(vt=>Ze!==vt.id);return(ge=a$2.isMobile()?Xe==null?void 0:Xe.map(({id:vt,name:gt,links:kt})=>({id:vt,name:gt,mobile:kt,links:kt})):Xe==null?void 0:Xe.map(({id:vt,name:gt,links:kt})=>({id:vt,name:gt,desktop:kt,links:kt})))!=null?ge:[]},recentWallet(){return c.getRecentWallet()},recomendedWallets(pe=!1){var ge;const Se=pe||(ge=G.recentWallet())==null?void 0:ge.id,{recomendedWallets:Ne}=te$1.state;return Ne.filter(Ze=>Se!==Ze.id)}},Z={onConnecting(pe){c.goToConnectingView(pe)},manualWalletsTemplate(){return G.manualWallets().map(pe=>x`<wcm-wallet-button walletId="${pe.id}" name="${pe.name}" .onClick="${()=>this.onConnecting(pe)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(pe=!1){return G.recomendedWallets(pe).map(ge=>x`<wcm-wallet-button name="${ge.name}" walletId="${ge.id}" imageId="${ge.image_id}" .onClick="${()=>this.onConnecting(ge)}"></wcm-wallet-button>`)},recentWalletTemplate(){const pe=G.recentWallet();if(pe)return x`<wcm-wallet-button name="${pe.name}" walletId="${pe.id}" imageId="${l(pe.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(pe)}"></wcm-wallet-button>`}},vo=i$3`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var fo=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Ee=class extends s{render(){const{explorerExcludedWalletIds:pe,enableExplorer:ge}=y$1.state,Se=pe!=="ALL"&&ge,Ne=Z.manualWalletsTemplate(),Ze=Z.recomendedWalletsTemplate();let Je=[Z.recentWalletTemplate(),...Ne,...Ze];Je=Je.filter(Boolean);const Xe=Je.length>4||Se;let vt=[];Xe?vt=Je.slice(0,3):vt=Je;const gt=!!vt.length;return x`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${c.handleUriCopy}" .actionIcon="${v.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${v.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${v.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${gt?x`<wcm-modal-footer><div class="wcm-desktop-title">${v.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${vt} ${Xe?x`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};Ee.styles=[h.globalCss,vo],Ee=fo([e$2("wcm-desktop-wallet-selection")],Ee);const xo=i$3`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var Co=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Me=class extends s{render(){const{termsOfServiceUrl:pe,privacyPolicyUrl:ge}=y$1.state;return pe??ge?x`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${pe?x`<a href="${pe}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${pe&&ge?"and":null} ${ge?x`<a href="${ge}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Me.styles=[h.globalCss,xo],Me=Co([e$2("wcm-legal-notice")],Me);const ko=i$3`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var Io=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Le=class extends s{onQrcode(){T$2.push("Qrcode")}render(){const{explorerExcludedWalletIds:pe,enableExplorer:ge}=y$1.state,Se=pe!=="ALL"&&ge,Ne=Z.manualWalletsTemplate(),Ze=Z.recomendedWalletsTemplate();let Je=[Z.recentWalletTemplate(),...Ne,...Ze];Je=Je.filter(Boolean);const Xe=Je.length>8||Se;let vt=[];Xe?vt=Je.slice(0,7):vt=Je;const gt=!!vt.length;return x`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${v.QRCODE_ICON}"></wcm-modal-header>${gt?x`<wcm-modal-content><div>${vt} ${Xe?x`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};Le.styles=[h.globalCss,ko],Le=Io([e$2("wcm-mobile-wallet-selection")],Le);const Eo=i$3`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var Mo=Object.defineProperty,Lo=Object.getOwnPropertyDescriptor,Re=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Lo(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Mo(ge,Se,Ze),Ze};let ae=class extends s{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=se$1.subscribe(pe=>{pe.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var pe;(pe=this.unsubscribeModal)==null||pe.call(this)}get overlayEl(){return c.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return c.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(pe){if(document.querySelector("body"))if(pe){const ge=document.getElementById("wcm-styles");ge==null||ge.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(pe){pe.target===pe.currentTarget&&se$1.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const pe=c.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},ge=.1,Se=.2;await Promise.all([animate(this.overlayEl,{opacity:[0,1]},{delay:ge,duration:Se}).finished,animate(this.containerEl,pe,{delay:ge,duration:Se}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const pe=c.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},ge=.2;await Promise.all([animate(this.overlayEl,{opacity:[1,0]},{duration:ge}).finished,animate(this.containerEl,pe,{duration:ge}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",pe=>{var ge;pe.key==="Escape"?se$1.close():pe.key==="Tab"&&((ge=pe.target)!=null&&ge.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var pe;(pe=this.abortController)==null||pe.abort(),this.abortController=void 0}render(){const pe={"wcm-overlay":!0,"wcm-active":this.active};return x`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${o(pe)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?x`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};ae.styles=[h.globalCss,Eo],Re([t$1()],ae.prototype,"open",2),Re([t$1()],ae.prototype,"active",2),ae=Re([e$2("wcm-modal")],ae);const Ro=i$3`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var Ao=Object.defineProperty,Po=Object.getOwnPropertyDescriptor,le=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Po(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Ao(ge,Se,Ze),Ze};let B=class extends s{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){a$2.isMobile()?T$2.replace("MobileConnecting"):T$2.replace("MobileQrcodeConnecting")}onDesktop(){T$2.replace("DesktopConnecting")}onWeb(){T$2.replace("WebConnecting")}render(){return x`<div>${this.isRetry?x`<slot></slot>`:null} ${this.isMobile?x`<wcm-button .onClick="${this.onMobile}" .iconLeft="${v.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?x`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${v.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?x`<wcm-button .onClick="${this.onWeb}" .iconLeft="${v.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};B.styles=[h.globalCss,Ro],le([n$1({type:Boolean})],B.prototype,"isMobile",2),le([n$1({type:Boolean})],B.prototype,"isDesktop",2),le([n$1({type:Boolean})],B.prototype,"isWeb",2),le([n$1({type:Boolean})],B.prototype,"isRetry",2),B=le([e$2("wcm-platform-selection")],B);const To=i$3`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var Do=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Ae=class extends s{onClick(){T$2.push("WalletExplorer")}render(){const{recomendedWallets:pe}=te$1.state,ge=G.manualWallets(),Se=[...pe,...ge].reverse().slice(0,4);return x`<button @click="${this.onClick}"><div class="wcm-icons">${Se.map(Ne=>{const Ze=c.getWalletIcon(Ne);if(Ze)return x`<img crossorigin="anonymous" src="${Ze}">`;const Je=c.getWalletIcon({id:Ne.id});return Je?x`<img crossorigin="anonymous" src="${Je}">`:v.WALLET_PLACEHOLDER})} ${[...Array(4-Se.length)].map(()=>v.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Ae.styles=[h.globalCss,To],Ae=Do([e$2("wcm-view-all-wallets-button")],Ae);const No=i$3`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var Zo=Object.defineProperty,So=Object.getOwnPropertyDescriptor,de=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?So(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Zo(ge,Se,Ze),Ze};let Y=class extends s{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:pe}=p$1.state;this.uri=pe},0)}get overlayEl(){return c.getShadowRootElement(this,".wcm-qr-container")}render(){return x`<div class="wcm-qr-container">${this.uri?x`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${l(this.walletId)}" imageId="${l(this.imageId)}"></wcm-qrcode>`:x`<wcm-spinner></wcm-spinner>`}</div>`}};Y.styles=[h.globalCss,No],de([n$1()],Y.prototype,"walletId",2),de([n$1()],Y.prototype,"imageId",2),de([t$1()],Y.prototype,"uri",2),Y=de([e$2("wcm-walletconnect-qr")],Y);var Ho=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Pe=class extends s{viewTemplate(){return a$2.isAndroid()?x`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:a$2.isMobile()?x`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:x`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return x`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Pe.styles=[h.globalCss],Pe=Ho([e$2("wcm-connect-wallet-view")],Pe);const zo=i$3`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Vo=Object.defineProperty,Fo=Object.getOwnPropertyDescriptor,Ke=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Fo(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Vo(ge,Se,Ze),Ze};let me=class extends s{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(pe){const{desktop:ge,name:Se}=a$2.getWalletRouterData(),Ne=ge==null?void 0:ge.native;if(Ne){const Ze=a$2.formatNativeUrl(Ne,pe,Se);a$2.openHref(Ze,"_self")}}openDesktopApp(){const{walletConnectUri:pe}=p$1.state,ge=a$2.getWalletRouterData();c.setRecentWallet(ge),pe&&this.onFormatAndRedirect(pe)}render(){const{name:pe,id:ge,image_id:Se}=a$2.getWalletRouterData(),{isMobile:Ne,isWeb:Ze}=c.getCachedRouterWalletPlatforms();return x`<wcm-modal-header title="${pe}" .onAction="${c.handleUriCopy}" .actionIcon="${v.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${ge}" imageId="${l(Se)}" label="${`Continue in ${pe}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${pe} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${Ne}" .isWeb="${Ze}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${v.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};me.styles=[h.globalCss,zo],Ke([t$1()],me.prototype,"isError",2),me=Ke([e$2("wcm-desktop-connecting-view")],me);const qo=i$3`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var Yo=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let Te=class extends s{onInstall(pe){pe&&a$2.openHref(pe,"_blank")}render(){const{name:pe,id:ge,image_id:Se,homepage:Ne}=a$2.getWalletRouterData();return x`<wcm-modal-header title="${pe}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${ge}" imageId="${l(Se)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${pe} to continue. If multiple browser extensions are installed, disable non ${pe} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(Ne)}" .iconLeft="${v.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Te.styles=[h.globalCss,qo],Te=Yo([e$2("wcm-install-wallet-view")],Te);const Go=i$3`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var Xo=Object.defineProperty,Jo=Object.getOwnPropertyDescriptor,Ye=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?Jo(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&Xo(ge,Se,Ze),Ze};let he=class extends s{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(pe,ge=!1){const{mobile:Se,name:Ne}=a$2.getWalletRouterData(),Ze=Se==null?void 0:Se.native,Je=Se==null?void 0:Se.universal;if(Ze&&!ge){const Xe=a$2.formatNativeUrl(Ze,pe,Ne);a$2.openHref(Xe,"_self")}else if(Je){const Xe=a$2.formatUniversalUrl(Je,pe,Ne);a$2.openHref(Xe,"_self")}}openMobileApp(pe=!1){const{walletConnectUri:ge}=p$1.state,Se=a$2.getWalletRouterData();c.setRecentWallet(Se),ge&&this.onFormatAndRedirect(ge,pe)}onGoToAppStore(pe){pe&&a$2.openHref(pe,"_blank")}render(){const{name:pe,id:ge,image_id:Se,app:Ne,mobile:Ze}=a$2.getWalletRouterData(),{isWeb:Je}=c.getCachedRouterWalletPlatforms(),Xe=Ne==null?void 0:Ne.ios,vt=Ze==null?void 0:Ze.universal;return x`<wcm-modal-header title="${pe}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${ge}" imageId="${l(Se)}" label="Tap 'Open' to continue" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${Je}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${v.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${vt?x`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${ge}" imageId="${l(Se)}"></wcm-wallet-image><wcm-text>${`Get ${pe}`}</wcm-text></div><wcm-button .iconRight="${v.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(Xe)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};he.styles=[h.globalCss,Go],Ye([t$1()],he.prototype,"isError",2),he=Ye([e$2("wcm-mobile-connecting-view")],he);const er=i$3`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var rr=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let je=class extends s{render(){const{name:pe,id:ge,image_id:Se}=a$2.getWalletRouterData(),{isDesktop:Ne,isWeb:Ze}=c.getCachedRouterWalletPlatforms();return x`<wcm-modal-header title="${pe}" .onAction="${c.handleUriCopy}" .actionIcon="${v.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${ge}" imageId="${l(Se)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${pe} app`}</wcm-text><wcm-platform-selection .isDesktop="${Ne}" .isWeb="${Ze}"></wcm-platform-selection></wcm-info-footer>`}};je.styles=[h.globalCss,er],je=rr([e$2("wcm-mobile-qr-connecting-view")],je);var ir=(pe,ge,Se,Ne)=>{for(var Ze=ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=Xe(Ze)||Ze);return Ze};let _e=class extends s{render(){return x`<wcm-modal-header title="Scan the code" .onAction="${c.handleUriCopy}" .actionIcon="${v.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};_e.styles=[h.globalCss],_e=ir([e$2("wcm-qrcode-view")],_e);const nr=i$3`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var cr=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,ie=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?sr(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&cr(ge,Se,Ze),Ze};const De=40;let U=class extends s{constructor(){super(...arguments),this.loading=!te$1.state.wallets.listings.length,this.firstFetch=!te$1.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=c.debounce(pe=>{pe.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=pe,te$1.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),te$1.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var pe;(pe=this.intersectionObserver)==null||pe.disconnect()}get placeholderEl(){return c.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([pe])=>{pe.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:pe,search:ge}=te$1.state,{listings:Se,total:Ne}=this.search?ge:pe;return Ne<=De||Se.length>=Ne}async fetchWallets(){var pe;const{wallets:ge,search:Se}=te$1.state,{listings:Ne,total:Ze,page:Je}=this.search?Se:ge;if(!this.endReached&&(this.firstFetch||Ze>De&&Ne.length<Ze))try{this.loading=!0;const Xe=(pe=p$1.state.chains)==null?void 0:pe.join(","),{listings:vt}=await te$1.getWallets({page:this.firstFetch?1:Je+1,entries:De,search:this.search,version:2,chains:Xe}),gt=vt.map(kt=>c.getWalletIcon(kt));await Promise.all([...gt.map(async kt=>c.preloadImage(kt)),a$2.wait(300)]),this.endReached=this.isLastPage()}catch(Xe){console.error(Xe),oe$1.openToast(c.getErrorMessage(Xe),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(pe){a$2.isAndroid()?c.handleMobileLinking(pe):c.goToConnectingView(pe)}onSearchChange(pe){const{value:ge}=pe.target;this.searchDebounce(ge)}render(){const{wallets:pe,search:ge}=te$1.state,{listings:Se}=this.search?ge:pe,Ne=this.loading&&!Se.length,Ze=this.search.length>=3;let Je=Z.manualWalletsTemplate(),Xe=Z.recomendedWalletsTemplate(!0);Ze&&(Je=Je.filter(({values:kt})=>c.caseSafeIncludes(kt[0],this.search)),Xe=Xe.filter(({values:kt})=>c.caseSafeIncludes(kt[0],this.search)));const vt=!this.loading&&!Se.length&&!Xe.length,gt={"wcm-loading":Ne,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":vt};return x`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${o(gt)}"><div class="wcm-grid">${Ne?null:Je} ${Ne?null:Xe} ${Ne?null:Se.map(kt=>x`${kt?x`<wcm-wallet-button imageId="${kt.image_id}" name="${kt.name}" walletId="${kt.id}" .onClick="${()=>this.onConnect(kt)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${vt?x`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!vt&&this.loading?x`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};U.styles=[h.globalCss,nr],ie([t$1()],U.prototype,"loading",2),ie([t$1()],U.prototype,"firstFetch",2),ie([t$1()],U.prototype,"search",2),ie([t$1()],U.prototype,"endReached",2),U=ie([e$2("wcm-wallet-explorer-view")],U);const dr=i$3`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var mr=Object.defineProperty,hr=Object.getOwnPropertyDescriptor,Ge=(pe,ge,Se,Ne)=>{for(var Ze=Ne>1?void 0:Ne?hr(ge,Se):ge,Je=pe.length-1,Xe;Je>=0;Je--)(Xe=pe[Je])&&(Ze=(Ne?Xe(ge,Se,Ze):Xe(Ze))||Ze);return Ne&&Ze&&mr(ge,Se,Ze),Ze};let we=class extends s{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(pe){const{desktop:ge,name:Se}=a$2.getWalletRouterData(),Ne=ge==null?void 0:ge.universal;if(Ne){const Ze=a$2.formatUniversalUrl(Ne,pe,Se);a$2.openHref(Ze,"_blank")}}openWebWallet(){const{walletConnectUri:pe}=p$1.state,ge=a$2.getWalletRouterData();c.setRecentWallet(ge),pe&&this.onFormatAndRedirect(pe)}render(){const{name:pe,id:ge,image_id:Se}=a$2.getWalletRouterData(),{isMobile:Ne,isDesktop:Ze}=c.getCachedRouterWalletPlatforms(),Je=a$2.isMobile();return x`<wcm-modal-header title="${pe}" .onAction="${c.handleUriCopy}" .actionIcon="${v.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${ge}" imageId="${l(Se)}" label="${`Continue in ${pe}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${pe} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${Ne}" .isDesktop="${Je?!1:Ze}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${v.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};we.styles=[h.globalCss,dr],Ge([t$1()],we.prototype,"isError",2),we=Ge([e$2("wcm-web-connecting-view")],we);const index=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return ae},get WcmQrCode(){return j}},Symbol.toStringTag,{value:"Module"}))})();
